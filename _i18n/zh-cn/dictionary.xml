<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="09d2d3af569490e66174ce93301cd0b0" category="summary">Astra 数据存储为 Kubernetes 原生容器化应用程序提供持久存储和数据管理服务。Astra 数据存储是 Astra 系列产品的一部分。</block>
  <block id="f5291aae1c11df631ccc337d79334351" category="doc">自动支持监控</block>
  <block id="650717c72d7a99e6505592f83821e4ed" category="list-text">控制面板</block>
  <block id="8c4aa541ee911e8d80451ef8cc304806" category="list-text">存储</block>
  <block id="dae8ace18bdcbcc6ae5aece263e14fe8" category="list-title">选项</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="inline-xref"></block>
  <block id="023abf142a3991d559ced0ca57282d6a" category="list-text"><block ref="73e64b817c03e14fe2277fa69c7e863e" category="inline-xref-macro-rx"></block></block>
  <block id="0e670f718cb5e0f313f7a5754b53af80" category="list-text"><block ref="fd89cb1e95c5a94c74489125cde6510b" category="inline-xref-macro-rx"></block></block>
  <block id="12086876b40161f34ebcda9b4141c63d" category="list-text"><block ref="e2db2b0a425a63f84b57e5abb9f20b22" category="inline-xref-macro-rx"></block></block>
  <block id="314287d647e9716574bbc7c100fb9867" category="list-text"><block ref="def4bcae3ecda655c7b733ea3980c265" category="inline-xref-macro-rx"></block></block>
  <block id="1263660ba67e88caf8eb2431d28c44d1" category="list-text"><block ref="c812ac4d7fb1d494d99e57543c82a134" category="inline-xref-macro-rx"></block></block>
  <block id="c8259bf35a2bdc9b87f057557d330e25" category="section-title">AutoSupport 触发器和场景</block>
  <block id="b23b84a773fe2431825b44f4b9bc0ddb" category="paragraph">AutoSupport 捆绑包可通过以下方式触发：</block>
  <block id="372fb9362736f0e8d582ec96df84fb6a" category="paragraph">这些触发情形会生成以下 AutoSupport 类型之一：</block>
  <block id="4d58342c8fbe7548f0680da50eadd915" category="section-title">配置自定义控制平面 AutoSupport 收集</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">步骤</block>
  <block id="704170cc11bda8cddca282c117836b3a" category="list-text">自定义以下命令以创建控制面板集合 CR ：</block>
  <block id="0e06b0da9f80219a18d8739f0120abbd" category="list-text">定义自定义参数：</block>
  <block id="b29d2ef49a96707c2d8b5968d23c62a8" category="list-text">` &lt;myASUPname&gt;` ：要生成的 AutoSupport CR 的名称。</block>
  <block id="81eeab9506186e2dca8faefa78d54067" category="paragraph">示例</block>
  <block id="c9fcbda668b713374776401ef822c1e8" category="list-text">根据需要为系统添加其他参数：</block>
  <block id="92a4815b61cd107e54a5baa926431efe" category="list-text">` -cluster` ：在多集群环境中需要此标志。</block>
  <block id="c7e88254029f9cd1420ef53afd3e08fe" category="section-title">配置自定义 Storage AutoSupport 收集</block>
  <block id="aa1f065e1e83bd408811c0d6b5def6ad" category="list-text">自定义以下命令以创建存储收集 CR ：</block>
  <block id="685637f8394db77947ca4501d806f8a0" category="paragraph">性能事件示例：</block>
  <block id="72bb3d88e5af1a36a5333ae707bc5a35" category="list-text">` -t &lt;ISO_format&gt; -d &lt;hours&gt;` ：在指定的持续时间内为所有节点收集存储 ASUP 。请使用标准 ISO 日期时间格式（` -t` ），持续时间（ `D` ）以小时为单位。例如：</block>
  <block id="46fb87c66087faf2d690569c0074fb91" category="list-text">` -nodes &lt; 节点名称 &gt;` ：为指定节点收集存储 ASUP 。例如：</block>
  <block id="79b4eb1f989dedc89bda6deb12b79b34" category="list-text">` -nodes nodename1 ， nodeame2 ， nodeame3` ：为指定节点收集存储 ASUP ：</block>
  <block id="7023c4aeddebc994995578d8b53dd967" category="section-title">列出系统中的 ASUP</block>
  <block id="94369fb85acb6fa2be47fe3361d265c9" category="paragraph">使用以下命令按名称列出系统中的 ASUP ：</block>
  <block id="6d55356ca8cb9b27cfa6e2bb46ebb089" category="paragraph">响应示例：</block>
  <block id="e5c24e1b7c0879d053fead5eeda95740" category="section-title">下载 ASUP 捆绑包</block>
  <block id="af20eab0ce8bde78126bef44b877ca8c" category="paragraph">您可以使用此命令下载本地收集的 ASUP 捆绑包。使用 ` -o &lt; 位置 &gt;` 指定当前工作目录以外的位置：</block>
  <block id="9c83e144e5481ac6766f4055e566594d" category="floating-title">了解更多信息</block>
  <block id="4be9b50faf5ab46a9d28ac23f7713bec" category="inline-link">如何将文件上传到 NetApp （需要登录）</block>
  <block id="3b6bf15bbdfc90c8dc6d6778808539e1" category="list-text"><block ref="3b6bf15bbdfc90c8dc6d6778808539e1" category="inline-link-rx"></block></block>
  <block id="62270328bca14e3c5f465539f788f727" category="summary">NetApp 以多种方式为 Astra 数据存储提供支持。全天候提供免费的自助支持选项，例如知识库（ KB ）文章和 Slack 频道。</block>
  <block id="fabfc25ef8996fd90836e58a4c0b26b6" category="doc">获取帮助</block>
  <block id="975b87a5b34ee0b24e625810de1f893e" category="section-title">自助服务支持选项</block>
  <block id="6b9b3535d917a5890db4ef00a3718361" category="paragraph">这些选项全天候免费提供：</block>
  <block id="51ad2162ed9916cdcbfc1328306dae36" category="inline-link">知识库（需要登录）</block>
  <block id="ad73b9e5ef9788348d09f760c02c490b" category="list-text"><block ref="ad73b9e5ef9788348d09f760c02c490b" category="inline-link-rx"></block></block>
  <block id="5b6cf869265c13af8566f192b4ab3d2a" category="list-text">文档。</block>
  <block id="9a4d3fdb6af496c18bc70f14153f8c4f" category="paragraph">这是您当前正在查看的文档站点。</block>
  <block id="d848bab8e653fc20f34b1c1978752770" category="inline-link">netapp" 容器 " 可宽延通道</block>
  <block id="43af2a6a35a58993fd484dd742044607" category="paragraph">转到 " 容器 " 渠道，与同行和专家建立联系。</block>
  <block id="9945b7c9f8a0452d5794aa8f1b4132db" category="list-text">反馈电子邮件</block>
  <block id="ddcadc1ed2a47b8718aecd096c744e15" category="paragraph">发送电子邮件至 astra.feedback@netapp.com ，告知我们您的想法，想法或顾虑。</block>
  <block id="c5384541d9e6cac27f9cab2bc075e08e" category="inline-link">NetApp 知识库文章</block>
  <block id="b3103953d0eb8d92f14a4edc6e2fe28a" category="summary">将 kubectl 命令与 Astra 数据存储一起使用以更换驱动器。</block>
  <block id="bbbd86c2ee5337914a858400c6fdb7a2" category="doc">更换驱动器</block>
  <block id="fe7c99ee714339295ef1464eff2444c5" category="paragraph">下面概述了更换集群中的故障驱动器所需的步骤。</block>
  <block id="6abc782590a9e4461a3103ce82904d1a" category="list-text">通过 SSH 连接到节点</block>
  <block id="586c3d689add9e8ff9e8264c2552c925" category="list-text">获取活动驱动器列表。</block>
  <block id="ed11c0c26d855c72f3b6547a036cb5a8" category="list-text">获取链接到此节点的所有驱动器的列表。</block>
  <block id="63e6369a6b7286c516a9cab733fe6c19" category="list-text">确定可用驱动器。</block>
  <block id="311e84b375634f29273ecd1e56331924" category="list-text">请注意驱动器自定义资源（ CR ）发生故障。</block>
  <block id="eb060d511b605e93f2a2a260b6dbc752" category="list-text">更换驱动器。</block>
  <block id="17e4f1d2261b575388ad40a2b50c86bb" category="list-text">验证驱动器是否已成功更换并在集群 CR 中处于活动状态。</block>
  <block id="688a9f01064d517d6da081a5ac8353d0" category="list-text">获取集群详细信息：</block>
  <block id="f0f5fac9602d88bc27f0edf960dda8b8" category="paragraph">示例：</block>
  <block id="7b06a5238c5e244fde425c0502ff9d3a" category="list-text">通过 SSH 连接到节点：</block>
  <block id="bc7abe9efdcfac99c4454b9d769a43c5" category="list-text">列出该节点上的所有活动驱动器：</block>
  <block id="54472d1da4b0c6eadf8684e846b25dcc" category="paragraph">响应：</block>
  <block id="78047a701b859d83c0a00c4143555a87" category="list-text">列出该节点上的所有驱动器：</block>
  <block id="1cc9c9a0c87e673adf2c5e47e941fc0e" category="list-text">创建故障驱动器 CR ：</block>
  <block id="feccfba3029817911cc680409d111a15" category="list-text">获取故障驱动器详细信息：</block>
  <block id="539962a87680a6acac5f72ff73171888" category="list-text">编辑故障驱动器 CR 并将其更换为可用驱动器。</block>
  <block id="bfa727649cf39a210039fea03d2b045b" category="list-text">确认驱动器在集群 CR 和节点中处于活动状态。</block>
  <block id="2c4bb7389deaecb2c2ce1a2a3017a90e" category="summary">将 kubectl 命令与 Astra 数据存储一起使用以替换节点。</block>
  <block id="eb5f70a21af0a4657d2e1ba9f24d1234" category="doc">更换节点</block>
  <block id="d78735cfb1e1011678392c0293bd3a10" category="paragraph">将 kubectl 命令与 Astra 数据存储一起使用，以替换集群中的故障节点。</block>
  <block id="ba6892cf573144bb73e7929641b57d17" category="list-text">列出 `astrads-system` 命名空间中的 Pod （我们的示例使用一个 1x5 配置，其中集群中有 4 个节点）：</block>
  <block id="b1e1294486624403d0533e5b77f81b1f" category="list-text">列出所有节点：</block>
  <block id="4dc1585b3b71bcdfd423771772b26a73" category="list-text">描述集群：</block>
  <block id="61941ab5e153651276d8ff166c98fa79" category="list-text">验证故障节点上的节点 HA 是否标记为 "False" ：</block>
  <block id="2e0a0e5f63a3e34661e5cebf3e1bfc05" category="list-text">修改集群 CR 以删除故障节点。节点数将减少为 3 ：</block>
  <block id="89f09133b136e91c07cf22c261722f17" category="list-text">验证是否已从集群中删除此节点：</block>
  <block id="59dc031f69b69e9710c74b6b626b9484" category="list-text">通过修改集群 CR 将节点添加到集群以进行更换。节点数将递增至 4 。验证是否已选取新节点进行添加。</block>
  <block id="d527387e5ececcd43839b7eb86a061bf" category="summary">需要执行主机维护或软件包升级时，应将节点置于维护模式。</block>
  <block id="0b8dd151b58b6bf3c7360c3a78b26e04" category="doc">将节点置于维护模式</block>
  <block id="c7e8e8a7f1a6fb5362aeff0689ff1a73" category="admonition">节点必须是 Astra 数据存储集群的一部分。</block>
  <block id="6a070a29c656f8942eb8d0ed53f9f79e" category="paragraph">当节点处于维护模式时，您无法添加节点。</block>
  <block id="8574c080b5c15d6898aac8d0b601c5d8" category="list-text">显示节点详细信息。</block>
  <block id="d290550b0009c972401d893478976353" category="list-text">获取卷的详细信息：</block>
  <block id="41fc664a86b897717b81a010b7cf950e" category="list-text">启用维护模式：</block>
  <block id="a50914cbb8e47a537a25014f5b12edc5" category="paragraph">处于维护模式的将启动为 "False" ，并更改为 "True" ，而维护状态将从 " 准备维护 " 更改为 " 准备维护 " 。</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="section-title">有关详细信息 ...</block>
  <block id="809ce4b8d42d2f4a54279fffa78b7e08" category="inline-link-macro">使用 kubectl 命令管理 Astra Data Store 资产</block>
  <block id="55f3d07228facede0763d324535936dd" category="paragraph">另请参见此信息。* <block ref="71dd6be9bbc5ad66a4c62fe63d832feb" category="inline-link-macro-rx"></block>。</block>
  <block id="6e9e51fbbff14f80e8168a1cfe154faf" category="summary">Astra Control 具有一个 REST API ，可用于使用编程语言或 Curl 等实用程序直接访问 Astra Control 功能。</block>
  <block id="d755391e5d933eadfa1864b13155afeb" category="doc">使用 Astra Control REST API 实现自动化</block>
  <block id="ce8c3cae4f2c01197a36e6ffb040472a" category="paragraph">Astra Control 具有一个 REST API ，可用于使用编程语言或 Curl 等实用程序直接访问 Astra Control 功能。您还可以使用 Ansible 和其他自动化技术管理 Astra Control 部署。</block>
  <block id="25a597384655d8562854aa2ef853e0d2" category="paragraph">要设置和管理 Kubernetes 应用程序，您可以使用 Astra Control UI 或 Astra Control API 。</block>
  <block id="4cb6c41d46d2f006d629608f64213d6f" category="inline-link">Astra Control 自动化文档</block>
  <block id="bd0d75f3c5e39de86dcfaa2135656772" category="paragraph">要了解更多信息，请转到<block ref="a3a0846fef2d3938044e5c73697831f2" category="inline-link-rx"></block>。</block>
  <block id="34515f1d88b10d0db0a78eba6c533394" category="summary">已知问题可确定可能妨碍您成功使用此版本产品的问题。</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="doc">已知问题</block>
  <block id="482723983a4f2af954e36ff41e567451" category="inline-link-macro">已知限制</block>
  <block id="58ddb149ad752e78b7ddd185699b6c95" category="list-text"><block ref="58ddb149ad752e78b7ddd185699b6c95" category="inline-link-macro-rx"></block></block>
  <block id="3c60bfdc14ab00c255a4234e22b93fce" category="summary">NetApp 会定期更新 Astra 数据存储，为您提供新功能，增强功能和错误修复。</block>
  <block id="543a7bce413677fa93bd0df794199bfc" category="section-title">2021 年 12 月 21 日（ 21.12 ）</block>
  <block id="b90b098f5e10f362e0311f845f8db412" category="inline-link-macro">它是什么</block>
  <block id="6251e202756531d0b1e4a8c3e94d6bc4" category="inline-link-macro">部署模式和组件</block>
  <block id="c9a21e3a3141bc9001bc0958ff7af4e0" category="inline-link-macro">入门所需的资源</block>
  <block id="349838fb1d851d3e2014b9fe39203275" category="inline-link-macro">安装</block>
  <block id="a0f848942ce863cf53c0fa6cc684007d" category="inline-link-macro">设置</block>
  <block id="28c965a9c3773d02a3f2f37460517913" category="inline-link-macro">使用 Cloud Insights 进行监控</block>
  <block id="3d947721e690a3b1a861a1ed8113ded8" category="inline-link-macro">使用自动支持监控</block>
  <block id="0956972ccb3f1ffed4c31a057c597e7d" category="list-text"><block ref="0956972ccb3f1ffed4c31a057c597e7d" category="inline-link-macro-rx"></block></block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="doc">发行说明</block>
  <block id="3f4fc4220755866f399810fee47c7884" category="inline-link-macro">GitHub 贡献者</block>
  <block id="65ed3c4720fad34d453db54755338725" category="paragraph">在 Twitter @NetAppDoc 上关注我们。通过成为发送有关文档的反馈 <block ref="78cabac26f0b6e0ce9a3e24d1b749910" category="inline-link-macro-rx"></block> 或发送电子邮件至 doccomments@netapp.com 。</block>
  <block id="1eba71d64e6c5e410e558530711e835b" category="summary">已知限制确定了本产品版本不支持的平台、设备或功能、或者这些平台、设备或功能无法与产品正确交互操作。仔细审查这些限制。</block>
  <block id="4d8d4f4d8e18c7039f1e4975914b919f" category="summary">您可以使用 Cloud Insights 指标监控 Astra 数据存储资产。</block>
  <block id="9006a134fd1870aca1877d5e1e68dae9" category="doc">使用 Cloud Insights 监控指标</block>
  <block id="ecb31804db885e53cbb56c093d6c0d23" category="list-text"><block ref="3db1750a737cabf57020a57538c06b10" category="inline-xref-macro-rx"></block></block>
  <block id="4efd15a2c3c529389df09953218abde1" category="list-text"><block ref="be7c6a43d5af7285cc473ab6ceb17a78" category="inline-xref-macro-rx"></block></block>
  <block id="c5b465091c9b07cf9c61a8e84e738e0b" category="list-text"><block ref="d2580e21da8a2e295d08a3fb642259f0" category="inline-xref-macro-rx"></block></block>
  <block id="76a54526b50db93a67991b9df579b40e" category="inline-image-macro">显示 Astra 数据存储指标的 Cloud Insights</block>
  <block id="7b67f0c7b487cbbd9d0de335853f47bc" category="inline-link-macro">安装 Astra 数据存储监控操作员</block>
  <block id="5885997e518dde2f5740ce73f16e6ad5" category="inline-link-macro">安装 kubectl-astrad 二进制文件</block>
  <block id="e6ba49b0d11a72603e691022f17a15ab" category="inline-link-macro">创建 Cloud Insights 帐户</block>
  <block id="1dad80a4e0ed05870800cf83e046f731" category="list-text">确保以下命令可用： `jk ， curl ， grep` 和 `JQ`</block>
  <block id="284dc6d1de61ec5c2a96db8bc40dd3ab" category="paragraph">收集以下信息：</block>
  <block id="3d3a08f39e79301ab5c0cdfa66b5b7ff" category="section-title">下载并运行安装脚本</block>
  <block id="9d4660ed840630e640b31ec3c061e7bc" category="paragraph">然后，指标将按如下所示发送：</block>
  <block id="40c73fe92317526aa4df3d36fd3ad73d" category="list-text">Fluent Bit 会将日志发送到日志载入服务。</block>
  <block id="62e3ff407f1c5be1f52dc2ff6bf6ea49" category="list-text">如果您还没有 Cloud Insights 帐户，请创建一个。</block>
  <block id="f5f5c23c1738f3c9d968460a7922f3de" category="list-text">登录到 Cloud Insights 。</block>
  <block id="94c971acbf0b49c19d73a3f5dbe825f8" category="list-text">从 Cloud Insights 菜单中，单击 * 管理 * &gt; * 数据收集器 * 。</block>
  <block id="2270d720d24e785df27898c7da44a849" category="list-text">单击 * + Data Collector* 以添加新收集器。</block>
  <block id="b3cf4c5680f339b50263248f2dc48379" category="inline-image-macro">显示 Astra 数据存储图块的 Cloud Insights</block>
  <block id="866756ca1b4623d0fb04ca4b14daa435" category="paragraph"><block ref="866756ca1b4623d0fb04ca4b14daa435" category="inline-image-macro-rx" type="image"></block></block>
  <block id="0064fffa49fa46977bec11c251364b0a" category="list-text">单击 * Astra Data Store* 图块。</block>
  <block id="70830da013f2c90eadbbf13f0eea52ad" category="list-text">按照说明下载安装程序脚本，更新权限并运行此脚本。</block>
  <block id="e9cb0fa56b60ddf0f40cb6d55732a359" category="inline-image-macro">显示 Astra 数据存储安装页面的 Cloud Insights</block>
  <block id="7b0669fbc22af2b3bf66ea2884c43b85" category="paragraph"><block ref="7b0669fbc22af2b3bf66ea2884c43b85" category="inline-image-macro-rx" type="image"></block></block>
  <block id="e9b4c864cce989f3d20b0b6aeb60895a" category="list-text">完成脚本后，单击 * 完成设置 * 。</block>
  <block id="5b2bcd3ee1bf241ef578bd747aaa2275" category="paragraph">安装脚本完成后， Astra Data Store 收集器将显示在 Datasources 列表中。</block>
  <block id="99e77960ebd5aad3286059bfbd0615c5" category="section-title">采集单元存储</block>
  <block id="2d71aa866fd6e440cf6290ebb9f988be" category="paragraph">如果您的 Kubernetes 集群没有存储配置程序（例如 NetApp Trident ），您可以在运行安装程序脚本时使用 ` -r` 选项提供本地文件系统路径。设置 ` -r` 选项后，安装程序脚本会在提供的目录中创建三个永久性卷。此目录至少需要 150 GB 的可用空间。</block>
  <block id="20d6c8958970fb1a2ce1a95613e7665b" category="section-title">代理 CR 示例</block>
  <block id="445c2dfab85f0763a057d90aef225a43" category="paragraph">以下是运行安装程序脚本后 `monitoring-NetApp` 代理 CR 的外观示例。</block>
  <block id="062a54c44bdfd9858c8054292864b1a5" category="paragraph">安装程序脚本的完整帮助文本如下所示：</block>
  <block id="23dd88d71d7767914d0ba74ce09182b0" category="section-title">编辑 Cloud Insights 连接</block>
  <block id="38c3b25ebad55273cd701d86d7c5674d" category="section-title">更新 Kubernetes API 令牌</block>
  <block id="27322a77dff94e81f835410f4584b839" category="list-text">选择 * 管理 * &gt; * 数据收集器 * 以访问数据收集器页面。</block>
  <block id="9e23ceb78a6420f20917e3be85d18084" category="list-text">找到 Astra Data Store 集群的条目。</block>
  <block id="2a3e436e3df2f6c013a096178e37bd12" category="list-text">单击页面右侧的菜单，然后选择 * 编辑 * 。</block>
  <block id="dad6a897e4f52efceaed582e77ec0445" category="section-title">更新 Cloud Insights API 访问令牌</block>
  <block id="83400e61f62d567ac8c59eb422c53296" category="list-text">编辑代理 CR ：</block>
  <block id="48d5af6637803a576ddb9b4b5335594f" category="paragraph">此部分如下所示：</block>
  <block id="08b6b5aaedb7004643c0c9f98ad82005" category="list-text">保存并退出编辑器窗口。</block>
  <block id="3186f8d18929c5ad50382958c1069796" category="section-title">断开与 Cloud Insights 的连接</block>
  <block id="4a4676a685d60e6b1f5813c3907f9ab6" category="list-text">单击确认页面上的 * 删除 * 。</block>
  <block id="79e2afd2ba4ca7ab8246defff43d1c68" category="list-text">如果您使用本地目录作为采集单元 PV ，而不是存储配置程序，请删除这些 PV ：</block>
  <block id="c1943291194b3d4796fcf7f9eff18d27" category="list-text">删除采集单元 POD 后，您可以从 Cloud Insights 中删除采集单元。</block>
  <block id="e7b273b59c7a2201eeccd5ba9337bd87" category="list-text">在 Cloud Insights 菜单中，选择 * 管理 * &gt; * 数据收集器 * 。</block>
  <block id="6e4c4ac7964722923536e1f01d80dab2" category="list-text">单击 * 采集单元 * 选项卡。</block>
  <block id="2fa6aa4ecba5f4acf3de663c21cc69ea" category="list-text">单击采集单元 POD 旁边的菜单。</block>
  <block id="6b40eaae8ec9ab8ff4f2fcec876f582d" category="section-title">打开指标 API 帮助</block>
  <block id="d6e7985c9eb9d0b51b91b2cb937d7335" category="list-text">"help" 行说明了指标。</block>
  <block id="626ded8565b78fc3552661d6afa5cae0" category="list-text">"type" 行表示指标是量表还是计数器。</block>
  <block id="3af93db73b99aaf3e341694343e7f989" category="summary">您可以在 Astra Data Store 中使用 kubectl 命令来维护集群。</block>
  <block id="12ca355b0c012fc5e428b77818d39316" category="doc">管理集群</block>
  <block id="3ab6bb8b4346e7149828a717be5f5138" category="list-text"><block ref="1e29c863bc7525a154916f08787ad250" category="inline-xref-macro-rx"></block></block>
  <block id="27ec3c702a92a11dcf758cfea1abd08f" category="list-text"><block ref="63b70cc1a1cc1ef2d48b82d0f99fbd99" category="inline-xref-macro-rx"></block></block>
  <block id="df1c8140731b102d7eda9ae07adf0d06" category="list-text"><block ref="e337a3bd799ea0d3465602eaa898ac0b" category="inline-xref-macro-rx"></block></block>
  <block id="96ae38b31ba3daa2e5358239c685687b" category="list-text">显示节点详细信息：</block>
  <block id="892cf5da18b48d5c81fecbbacebc26d1" category="list-text">确保节点尚未处于维护模式：</block>
  <block id="115e5b2861ab6ca4176365b8e50c0e9f" category="list-text">检查维护模式的状态：</block>
  <block id="b058dc0e7d56297138ea75a1af7eb2e8" category="list-text">完成节点维护后，禁用维护模式：</block>
  <block id="7970cfd813155c614358a18b3df1afd0" category="list-text">确保节点不再处于维护模式：</block>
  <block id="179c07bdb3db1669e2d4e1a337247468" category="section-title">添加节点</block>
  <block id="9a39cfe3410df3b493ee309248b9a863" category="paragraph">要添加的节点应属于 Kubernetes 集群，并且其配置应与集群中的其他节点类似。</block>
  <block id="16e457b8846355beaf7788602b579a97" category="list-text">验证是否已添加此节点：</block>
  <block id="ca6aaabf5c74238b64f1f77fc1078fb1" category="paragraph">要在不筛选可能的替代驱动器的情况下列出所有驱动器，请在 `sHow-replacements` 命令中添加 ` -all` 。</block>
  <block id="125f85ae4d1ff2dd68b6b65a8b46611f" category="list-text">如果使用不适当的 ` -replaceWith` 序列号执行 `kubectl astrad faileddrive replace` ，则会显示类似以下内容的错误：</block>
  <block id="cf12ebbc6fe7b3e21046a7d8c5b3dd5f" category="summary">要卸载 Astra 数据存储，您需要删除工作负载，绑定，卷，导出策略，集群， 许可证，部署环境和命名空间。</block>
  <block id="a711863513c11f3a6d86294acc7be0ba" category="list-title">您需要什么？ #8217 ；将需要什么</block>
  <block id="1af4d14d7adc73a0cf26c741f9acf9df" category="list-text">root 管理权限</block>
  <block id="05424633f0bd5eefeaa3629e5c4d1ae1" category="list-text"><block ref="cab67cc4c69f00a37ed4ae97c08b5a2c" category="inline-xref-macro-rx"></block></block>
  <block id="cacd3064543c7be5a9b55ffd25a40141" category="list-text"><block ref="d494c9949a6c752fae5f375dcac6bb64" category="inline-xref-macro-rx"></block></block>
  <block id="334982a7418a341303b6f2204ca1e0fe" category="list-text"><block ref="621e8ae438ccf9d5bd1e2f424bbe8b78" category="inline-xref-macro-rx"></block></block>
  <block id="85e4b847a7452c3cb60874d0fbf806b3" category="list-text"><block ref="9ae241411ebdbe5b7431af3f015cef5e" category="inline-xref-macro-rx"></block></block>
  <block id="701ee8f26f3e562b59500c03be25b586" category="section-title">删除现有工作负载和绑定</block>
  <block id="713b0c98704e3691534fea10f986b89a" category="paragraph">这样可以确保 Kubernetes 环境保持干净，这在重新安装时非常重要。</block>
  <block id="18f297cd2cf5f61e0d2e236b72408d65" category="section-title">删除卷和导出策略</block>
  <block id="54b956b8b0644f1e413223dc1aee2b0e" category="list-text">删除卷：</block>
  <block id="c93baa78349985fc4b5eeeffc09a33f8" category="list-text">删除导出策略：</block>
  <block id="8dbff560b4fb498559cc825c3ba8de41" category="admonition">即使在删除集群后，操作符， nodeinfo Pod 和集群控制器（即 Kubernetes 范围的资源）仍会保持不变。</block>
  <block id="b3178373b149d14e46085126525f79d6" category="paragraph">删除集群还会从节点卸载底层操作系统，从而停止 `fireap` 和 `netwd` 服务。</block>
  <block id="cca5f52fa80eb378d8e9e4499d5a49f7" category="list-text">删除集群：</block>
  <block id="224bb9d3e58164d87f1e7b1480ff3195" category="section-title">删除许可证</block>
  <block id="89471d1ad77aea625df3d06c6b912a6f" category="paragraph">删除集群中的控制器，操作员，命名空间和支持 Pod 。</block>
  <block id="a7285e1a3509c614618f679da04ecd63" category="list-text">删除其余项目和操作符 YAML 文件：</block>
  <block id="a9bcd8b892d07fc3f59e83751bb61630" category="section-title">验证是否删除了 astrads-system 命名空间</block>
  <block id="df660d992b6a3c556d9a2c4e04a32d00" category="paragraph">确保以下命令不返回任何结果：</block>
  <block id="742a4dc582c34fb3bbb34a9f3cbeebe6" category="section-title">确保工作节点上未运行容器</block>
  <block id="1c04122c814ac034ca14e14adb8c12af" category="paragraph">验证 `fireap` 或 `netwd` 等容器是否未在工作节点上运行。在每个节点上运行以下命令。</block>
  <block id="9a92a0354fa775cc894dda9e1e38f27b" category="section-title">手动删除示例</block>
  <block id="81b61a86df10dc2cb308e96040fb3001" category="summary">例如，您可以在 Astra Data Store 中使用 kubectl 命令来配置要与 Confluent 结合使用的端点。</block>
  <block id="d273de2a7e6e6a63f6353f5a40dccab4" category="doc">配置和监控事件日志</block>
  <block id="e1e4be2e0e9d34430d4dead51a9b0d00" category="paragraph">要监控事件管理系统（ EMS ）日志，您可以执行以下高级任务：</block>
  <block id="58c63f3edc4f001668005eb15ebea250" category="list-text"><block ref="d225a94a27cd5322a26847f79953016b" category="inline-xref-macro-rx"></block></block>
  <block id="d54ee8ea5a6436047b24aa6453cd273d" category="list-text"><block ref="0f415edabe024849c5f59aa6603d2415" category="inline-xref-macro-rx"></block>。</block>
  <block id="90bd1d70191335d705a79fedb6c343b1" category="paragraph">输入 ...</block>
  <block id="5976be1a3647c1d1d6df4ce77cd4c6de" category="paragraph">其中：</block>
  <block id="55d4dcfd496ed26612f1ed4e159ccc06" category="section-title">设置 Cloud Insights</block>
  <block id="0a4b147ab38de7df220f6ee52041f91b" category="inline-link-macro">如何设置 NetApp Cloud Insights</block>
  <block id="a0c8187b710dd8d0521c6fc63ed20869" category="section-title">将事件日志流式传输到 Elastic</block>
  <block id="4af77be2edf71f87d3321c846afd5117" category="admonition">弹性主机名可以是 IP 地址。</block>
  <block id="4b7a1134c870f779c0b8eecedfde4cbf" category="inline-link">Astra 系列简介</block>
  <block id="c2cc3948cdbda6ce71e4b9eb57f2cb63" category="list-text"><block ref="c2cc3948cdbda6ce71e4b9eb57f2cb63" category="inline-link-rx"></block></block>
  <block id="3a4b2c66d4bdac6ce0e3340c71a39eda" category="inline-link">Astra 控制中心文档</block>
  <block id="281db70ca8dfcac9ebe6166029058548" category="list-text"><block ref="281db70ca8dfcac9ebe6166029058548" category="inline-link-rx"></block></block>
  <block id="d418042930eb178009f4c27360b349f6" category="inline-link">使用 Astra Control API</block>
  <block id="35e127abdc4e59a01dd3fd4f63603bf1" category="list-text"><block ref="35e127abdc4e59a01dd3fd4f63603bf1" category="inline-link-rx"></block></block>
  <block id="eef59217310b72030be060a13a0bc33a" category="summary">以下是部署可与 Astra Data Store 结合使用的测试应用程序的步骤。</block>
  <block id="6f8b987c31a2eded2819babafcfa74aa" category="doc">部署测试应用程序</block>
  <block id="c3a80e48f1fb8205acab156248cbc507" category="paragraph">在此示例中，我们使用 Helm 存储库从 BitNami 部署 MongoDB 图表。</block>
  <block id="d9e5235644553d4cc003fe80e853e3d9" category="list-text">Trident 安装已完成</block>
  <block id="bf3f82feed370a6a3c6201a53bb8bbbc" category="list-text">从 BitNami 添加 Helm repo ：</block>
  <block id="8df29821dfcdcec588d7bdf64a0c7f33" category="list-text">部署 MongoDB ：</block>
  <block id="7ea5c1d0e18468e3cd2a62ff24d97d28" category="list-text">检查 MongoDB POD 的状态：</block>
  <block id="93e7f0a6f24d71ade0739043509173b9" category="list-text">验证 MongoDB 使用的永久性卷声明（ PVC ）：</block>
  <block id="43be430aa45a396e22bd22a2b6621ff9" category="list-text">使用 kubectl 命令 `get astradsvolume` 列出卷：</block>
  <block id="8967ae8bc51f2fd95d1b63331e33ac4b" category="list-text">使用 kubectl 命令 `describe astradsvolume` 描述卷：</block>
  <block id="3241ac56c7ab3234f3b6520c215096f2" category="summary">您可以将 kubectl 命令直接与 Astra Data Store 结合使用。</block>
  <block id="4db582654bba3ae1263983cc7355e3dc" category="paragraph">`kubectl astrad` 命令包含一个 ` -h` 交换机，可为您提供使用情况和标志文档。</block>
  <block id="3962691e8a7c8b7a00673c9035950515" category="list-text">有关命令的详细信息，请使用 `astrad [command] -help` 。</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="summary">法律声明提供对版权声明、商标、专利等的访问。</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法律声明</block>
  <block id="6929f0cedcea1d6e056ea216f0388b3a" category="summary">您可以扩展 Astra 数据存储集群。</block>
  <block id="85c9296df6a3c9630ed684b4af8847a8" category="doc">集群扩展</block>
  <block id="adb8e906da60ee75c25264b57f7ea87b" category="inline-link-macro">Astra 数据存储要求</block>
  <block id="ef22ff17624b3faeed227ce5c717eb5f" category="inline-link">Astra Control Service 文档</block>
  <block id="6762180adf48075df77efbf264e982ec" category="list-text"><block ref="6762180adf48075df77efbf264e982ec" category="inline-link-rx"></block></block>
  <block id="14d9b10c6196045941347a9e85704b50" category="inline-link">Astra Trident 文档</block>
  <block id="4a2ab62188738135163aaaaeab1d6cfe" category="list-text"><block ref="4a2ab62188738135163aaaaeab1d6cfe" category="inline-link-rx"></block></block>
  <block id="30f4d9ba43475ff8056fa1d73ffc972c" category="inline-link">使用 Astra API</block>
  <block id="3d8f201e2aea311db7d1d35c86d726da" category="list-text"><block ref="3d8f201e2aea311db7d1d35c86d726da" category="inline-link-rx"></block></block>
  <block id="5858ee4031acd7b896faa2d3d2c1a299" category="inline-link">Cloud Insights 文档</block>
  <block id="2b93b48daf034e4100d00b85950e109d" category="list-text"><block ref="2b93b48daf034e4100d00b85950e109d" category="inline-link-rx"></block></block>
  <block id="eb75aeb3b4b2b9734ba3e52f5483f0b2" category="inline-link">ONTAP 文档</block>
  <block id="8217522f2b9eea86f1099a2aba54aebd" category="list-text"><block ref="8217522f2b9eea86f1099a2aba54aebd" category="inline-link-rx"></block></block>
  <block id="65b6668e2c69e75ca45fd504ca3bf939" category="summary">Astra 数据存储可以部署在一个独立的 Kubernetes 集群上，该集群为在单独集群中运行的 Kubernetes 应用程序提供永久性卷，也可以部署在同时在同一节点池中托管其他应用程序的 Kubernetes 集群上，或者部署在同时在不同节点池中托管应用程序的 Kubernetes 集群上。</block>
  <block id="d807a55a4eafc3079b6b45a80be55981" category="list-text">部署在一个独立的专用 Kubernetes 集群上，为在单独集群（独立集群）中运行的 Kubernetes 应用程序提供永久性卷。</block>
  <block id="a5389bea5b0ed77642e3dc5f2d2e70f0" category="list-text">在 Kubernetes 集群上部署，同时在同一节点池（融合集群）上托管其他工作负载应用程序。</block>
  <block id="277369c2a44bdbde70d4978491333cf6" category="list-text">在 Kubernetes 集群上部署，同时在其他节点池（离散集群）上托管其他工作负载应用程序。</block>
  <block id="50db2d5d2d0d6701257927c365a04231" category="list-text">* Astra 控制中心 * ：使用 Astra 控制中心软件对内部环境中的 Kubernetes 集群进行应用程序感知型数据管理。轻松备份 Kubernetes 应用程序，将数据迁移到其他集群以及即时创建有效的应用程序克隆。</block>
  <block id="d015aca78df45458ee1d6533c5246919" category="paragraph">您可以使用不同的界面完成任务：</block>
  <block id="ca4530da8cd63a3852e628753021934a" category="summary">Astra Data Store 采用精简配置，零块消除，数据压缩和重复数据删除等存储效率技术。</block>
  <block id="49fd2375999e454962f2a76dea2d99b5" category="list-text">* 精简配置 * ：精简配置卷是指不预先预留存储的卷。而是根据需要动态分配存储。删除卷或 LUN 中的数据后，可用空间将释放回存储系统</block>
  <block id="a0f1d24dc3084ea8b257373ed48416c3" category="list-text">* 重复数据删除 * ：重复数据删除可通过丢弃重复块并将其替换为对单个共享块的引用来减少卷（或 AFF 聚合中的所有卷）所需的存储量。读取经过重复数据删除的数据通常不会对性能产生任何影响。除了过载的节点之外，写入所产生的费用可以忽略不计。</block>
  <block id="23d07990648d5e599c2f21bd6408d3c7" category="paragraph">默认情况下，所有这些功能均处于启用状态。</block>
  <block id="8bb7278f8687d62c283b01b22bd11883" category="inline-link">存储效率详细信息</block>
  <block id="d4b92f4945c7eafc00261f4339999749" category="summary">Astra 数据存储可通过多种方法确保客户端和管理员对存储的访问安全，保护通信和数据以及防范病毒。</block>
  <block id="aadd8dd46108d4c406fbdaf57d8cd0e4" category="list-text">使用相互传输层安全（ MTLS ）进行通信加密</block>
  <block id="493310ef851cbd6318af4494b52c12e6" category="list-text">部署安全性</block>
  <block id="d7472107bd93164aab58e7bdee6b4ee2" category="list-text">证书管理</block>
  <block id="822b9a387b65a35c2ef192f62db1ed0f" category="summary">Astra 数据存储是一种 Kubernetes 原生共享文件服务，适用于容器和 VM 工作负载，可提供企业级数据管理。</block>
  <block id="f9ab1651208c253699bc488c26a8427e" category="list-text">* Kubernetes 本机共享文件服务 * ：使用标准 NFS 客户端作为容器和 VM 的统一数据存储库，为 Kubernetes 提供共享文件服务原生。​</block>
  <block id="f9ee9cb48be574a530a87bdbd8a3fb4b" category="list-text">* 云扩展 * ：在同一资源池中提供 Kubernetes 本机多个并行文件系统，以实现类似于云的扩展和利用率，从而无需在集群之外单独管理存储。</block>
  <block id="7012ec096e5b7ac0c86f0d874bca22cd" category="list-text">* API 优先方法 * ：将基础架构作为代码交付用于自动化集群和工作负载 management​ 。</block>
  <block id="9aabb09d3a7120141b0d753a80fe4217" category="list-text">* 企业级数据管理 * ：提供自动化应用程序感知型数据保护和灾难恢复：</block>
  <block id="782e83202e5dc2f388e8355633eda320" category="list-text">* NetApp 技术 * ：利用 NetApp 数据管理技术执行快照，备份，复制和克隆，以便用户可以在 Kubernetes 中构建和部署企业级应用程序。​</block>
  <block id="8931fb12998c2c6ad5f4c5bc8829f8ef" category="list-text">* 故障恢复能力 * ：对 Kubernetes 本机工作负载使用复制和擦除编码技术，以提高故障恢复能力。</block>
  <block id="1504325f5e4b13a89b554f4d86ce7224" category="list-text">* 数据效率 * ：通过实时重复数据删除和数据压缩功能进行扩展时控制成本。</block>
  <block id="02636655504a22c3e2973e5b212990c4" category="list-text">* 适合您的现有环境 * ：支持基于微服务的工作负载和传统工作负载，为主要 Kubernetes 分发版提供服务，提供文件存储，并在您选择的 hardware​ 上运行。</block>
  <block id="15266d664d91aafb32a297b47d315e6e" category="list-text">* 与 NetApp Cloud Insights * 集成：为持续 optimization​ 提供可观察性，分析和监控功能。​</block>
  <block id="fdc214a356831f18e50d44483816cd46" category="inline-link-macro">了解 Astra 数据存储的要求</block>
  <block id="ff5aa600c6539c7e081d620eb47efc0b" category="paragraph">首先， <block ref="ffd8cafe4a2e3797a817f620ac67ea91" category="inline-link-macro-rx"></block>。</block>
  <block id="5b1afbcfd691161f9517b45cd0d4faee" category="inline-link-macro">开始使用</block>
  <block id="fb75bcadcf4356e44d514f54d356ab25" category="paragraph">然后， <block ref="f7da4cdd4ceddcef675db38062e9c2f7" category="inline-link-macro-rx"></block>。</block>
  <block id="e81551a1c637af1bdd2cf807058cc5e3" category="summary">首先验证对您的环境的支持。</block>
  <block id="be8545ae7ab0276e15898aae7acfbd7a" category="cell">资源</block>
  <block id="a1d0ec6d56f8833a078b5a7ac4caf2d4" category="cell">最小值</block>
  <block id="8321e79c278ec510f63675c040594892" category="cell">最大值</block>
  <block id="a87ff679a2f3e71d9181a67b7542122c" category="cell">4.</block>
  <block id="196f991af758339a4e307e49fdc25445" category="cell">每个节点的永久性卷数</block>
  <block id="382b0f5185773fa0f67a8ed8056c7759" category="cell">不适用</block>
  <block id="6bb41960470a19d97556b9240ac0b3ff" category="cell">卷大小</block>
  <block id="726d383bc3256804ce4d5e4c45cf853b" category="cell">20 MiB</block>
  <block id="7f9d2c4d982547805f59957ea8962556" category="cell">每个卷的快照数</block>
  <block id="cfcd208495d565ef66e7dff9f98764da" category="cell">0</block>
  <block id="9053ddee628502aa59ecc06ca8054392" category="cell">每个卷的克隆数</block>
  <block id="45c48cce2e2d7fbdea1afc51c7c6ad26" category="cell">9</block>
  <block id="0a20c90d5270bed19fcaf851778c663b" category="section-title">下一步行动</block>
  <block id="b1151aae9531d2f5e85d085e8878cea6" category="summary">如果您只是想快速了解问题解答，此常见问题解答会很有帮助。</block>
  <block id="96ab491ef73d5db0cd15f55e1552cc22" category="section-title">一般问题</block>
  <block id="9c634046a90a62883b122e76b9afcef2" category="inline-link">Astra 控制中心</block>
  <block id="a3732b03ca4422ce6b70efcd6e224c8f" category="paragraph">您还可以监控日志。请参见 <block ref="3d73dda56e07b3410aee41dd59d50b4f" category="inline-link-macro-rx"></block>。</block>
  <block id="0b9c6eef4e3d3a222eb04e910d252339" category="section-title">许可</block>
  <block id="d870af338cdfa7ad024a4babd5d5c020" category="list-text">astradscluster.yaml</block>
  <block id="de40745cae6783730dd65bb03555d562" category="list-text">astradsoperator.yaml</block>
  <block id="d2730d5e8f46678286a382b660c902d6" category="list-text">astradsversion.yaml</block>
  <block id="3a9c59c477bac1075df22f66ac28ffc3" category="list-text">monitoring_operator.yaml</block>
  <block id="92d1656d06303733c5e1398fb273a17e" category="section-title">故障排除和支持</block>
  <block id="61615f0fb929e3dc8c5ed73825a9a333" category="inline-link">NetApp 容器 Slack 通道</block>
  <block id="0596e50aba44f7e1a22cfd6eba221eb1" category="inline-link-macro">Astra 数据存储支持操作</block>
  <block id="e55eed1f8e319d189f948d8925157ae5" category="paragraph">* 如何申请新功能？ * 如果您对支持的配置或功能有任何疑问，请联系 astra.feedback@netapp.com 。</block>
  <block id="d8d50c12bd11a2109a7a384f43b0930a" category="inline-link-macro">生成支持包</block>
  <block id="f8e5d5352b626bd2d029c4bd8ea9d47a" category="summary">安装 Astra 数据存储并满足某些环境前提条件后，您将安装或更新 Astra Trident ，配置 K8s 快照功能，设置存储后端并创建默认存储类。</block>
  <block id="b242850ad01d99f75ddfd4f74dfebad7" category="list-text"><block ref="e182f16fc549d59ca5882ebcc8d36a3d" category="inline-xref-macro-rx"></block></block>
  <block id="38dbb49a55339dc2dbba9028c6176375" category="list-text"><block ref="a0e69e669f52a5cafaeb2bea82f6649c" category="inline-xref-macro-rx"></block></block>
  <block id="01b9d33e8be610298a88d84e6d7abbfe" category="list-text"><block ref="dcd2e63384cc1964e08e6b39f6f60b05" category="inline-xref-macro-rx"></block></block>
  <block id="f2ae91b089e1704747091d82092a79f5" category="list-text"><block ref="c8c521299e392e79ac34059fc36dd14d" category="inline-xref-macro-rx"></block></block>
  <block id="f1fe71442cd08e74d342114df7ee1551" category="section-title">安装 Astra Trident</block>
  <block id="e7447899210826e544345ba93e133255" category="inline-link">使用 tridentctl 安装 Astra Trident</block>
  <block id="979a6aa592c9858f17cfdaa4e128d948" category="list-text"><block ref="dc8ebe7b95cc3b1176276c1b38485f4d" category="inline-link-rx"></block>。</block>
  <block id="c9dee809ea22b77ba4c31523844ca736" category="inline-link">使用 Trident 操作员安装 Astra Trident</block>
  <block id="9cbe472556d86bca1de7978af69e74d5" category="list-text"><block ref="802e7b84d831ea6d56a6d132aa8a7db4" category="inline-link-rx"></block>。</block>
  <block id="c2c5c71258d8e55bd320745371789d00" category="admonition">您可以手动或使用 Helm 部署 Trident 操作员。</block>
  <block id="d79ccdfe6809f469235ccec6dcc85362" category="section-title">安装 Kubernetes Snapshot CRD 和控制器</block>
  <block id="f6a6928c71289ccfc6e517aa2e23c8dd" category="admonition">以下命令示例假设 ` /trident` 作为目录；但是，您使用的目录可以是用于下载 YAML 文件的任何目录。</block>
  <block id="d4d4a15663d8f6b4a3ab637d777ff538" category="inline-link-macro">Kubernetes 快照控制器 YAML 文件</block>
  <block id="e04160d92f8ef05d4ce3314e8cc91137" category="inline-link-macro">YAML CRD</block>
  <block id="88e291668f9a86bd88b88b9b98a6aee8" category="list-text">snapshot.storage.k8s.io_volumesnapshotclasses.yaml</block>
  <block id="5bcf00e7f0cf36a49beb0a818ec6cbef" category="list-text">snapshot.storage.k8s.io_volumesnapshotcontents.yaml</block>
  <block id="cc5824f53c7ffbd99cb349e87efde1f4" category="list-text">snapshot.storage.k8s.io_volumesnapshots.yaml</block>
  <block id="5dd799b58f0a48e81b9090706c21ffc1" category="list-text">应用 snapshot.storage.k8s.io_volumesnapshotclasses.yaml ：</block>
  <block id="1b2b0d3c628e11a19e1e37d392fc808b" category="list-text">应用 snapshot.storage.k8s.io_volumesnapshotcontents.yaml ：</block>
  <block id="b30fb0bbee1d9ca780b2e525df30f42d" category="list-text">应用 snapshot.storage.k8s.io_volumesnapshots.yaml ：</block>
  <block id="9352a98e83e5674124c81320233e2033" category="list-text">验证是否已应用 CRD YAML 文件：</block>
  <block id="c5827f9636201f8d30ce9cb0189c833d" category="list-text">验证是否已应用快照控制器文件：</block>
  <block id="84ff6443c010c054303c3cacf8168ec8" category="section-title">将 Astra 数据存储设置为存储后端</block>
  <block id="48b4e22b3043a4f7b84801549651a221" category="paragraph">在 ads_backend.json 文件中配置存储后端参数，并创建 Astra Data Store 存储后端。</block>
  <block id="7be934ce8b58f4891a1f5bec99cfea5f" category="list-text">配置 JSON 文件：</block>
  <block id="260e28a432c0ab70e8635e32a0869a37" category="list-text">将 ` "cluster"` 值更改为 Astra Data Store 集群的集群名称。</block>
  <block id="02122a736bce8e681ad437ec22ed0e39" category="list-text">将 ` "namespace"` 值更改为要用于创建卷的命名空间。</block>
  <block id="f47e741eac4d14c2bfe218ed3e360ab7" category="list-text">将 ` "autoExportPolicy"` 值更改为 `true` ，除非为此后端设置了 exportpolicy CR 。</block>
  <block id="5be18ccddef777624ac5fdc8a276d6e9" category="list-text">使用要授予访问权限的 IP 地址填充 ` "autosExportCIDRs"` 列表。使用 `0.0.0.0/0` 允许所有。</block>
  <block id="966ad0e717b4a7b04e344eca212f3893" category="list-text">创建存储后端：</block>
  <block id="d6b32a57b28d1a90833a60d9d8a653fc" category="section-title">创建默认的 Astra Data Store 存储类</block>
  <block id="aa80c9eb37faf3509ae07c01f5fcb711" category="paragraph">创建 Astra Trident 默认存储类并将其应用于存储后端。</block>
  <block id="a6c0b25130e366f4926811fccc2d9175" category="list-text">创建 trident CSI 存储类：</block>
  <block id="cd0b441465398fa0d75eba9947c66599" category="list-text">创建 trident CSI ：</block>
  <block id="8213c33dc9ac92d509af698f9a2e597f" category="list-text">验证是否已添加存储类：</block>
  <block id="22d9b315b29e2e8600a67e65475c18de" category="list-text">验证 Astra Trident 后端是否已使用默认存储类参数进行更新：</block>
  <block id="0ba7583639a274c434bbe6ef797115a4" category="inline-link">注册</block>
  <block id="dfcac5e258bdfa0f1d552f9e95472f56" category="inline-link-macro">NetApp 许可证文件（ NLF ）</block>
  <block id="ad3b46ea44ef643f0aa6cf10b5cddef7" category="inline-link">注册</block>
  <block id="7f7646bb0a5fb6cf0454a38c4d1f06d6" category="list-text">具有活动上下文集群管理员权限的活动 kubeconfig 。</block>
  <block id="bef0c0a82c5520f237b380213d0b07d6" category="inline-link-macro">角色和权限</block>
  <block id="6d0f824f6a186eea3583d29e3aed365a" category="list-text"><block ref="28f9f989c873aca847e12e3f56387e81" category="inline-xref-macro-rx"></block></block>
  <block id="c8834ddc1c87f17c8d417b37fcbd87f0" category="list-text"><block ref="59d3a9e0f85930d559866ff811a1da02" category="inline-xref-macro-rx"></block></block>
  <block id="9d2169c1c2855b78a7aeaa4f42d27dc7" category="inline-link">NetApp 支持站点</block>
  <block id="7ccab09493cf97c9665c6c2126741ee5" category="list-text">（可选）使用以下命令验证捆绑包的签名：</block>
  <block id="ae32a002cf3df8354380980ceb442a90" category="list-text">提取映像：</block>
  <block id="a179389f208c9573ee510e5e4bcceeba" category="section-title">将二进制文件和推送映像复制到本地注册表</block>
  <block id="9f852ed13251aa5ddae669983b4139d7" category="admonition">有关自动加载映像的信息，请参见下面的示例脚本。</block>
  <block id="e8c44728c041065d90e7029dec2e142c" category="list-text">登录到注册表：</block>
  <block id="1251312a6e29c077a92406c8347c9cbc" category="list-text">运行脚本将映像加载到 Docker ，标记映像，并将这些映像推送到本地注册表：</block>
  <block id="da89009070a281ea41fbaf69a4a75bd5" category="list-text">验证 Astra 数据存储操作员 POD 是否已启动且正在运行：</block>
  <block id="aed417ffe5dc63aa67936840a0654828" category="list-text">验证 Pod 是否正在运行：</block>
  <block id="2168e2850f39640b087ab9ec40e09ea4" category="inline-xref">即将部署</block>
  <block id="a43a46b3d0bdea57bd228232adb9bf0c" category="list-text">验证是否已添加此许可证：</block>
  <block id="0fd0a9ef6ce0637f3746e6066a53fe13" category="list-text">打开 YAML 文件：</block>
  <block id="6bfe0a99899b6870d084eedf67275849" category="list-text">编辑 YAML 文件中的以下值。</block>
  <block id="1e00053e55e180092ef69fbe8b9ab83c" category="admonition">以下步骤将提供一个简化的 YAML 文件示例。</block>
  <block id="46befd76c4ec19a9001f1b49517fe11e" category="inline-xref">应用许可证</block>
  <block id="51c12a83abe23c7ff9e9037e230ae6ff" category="list-text">（必需） * 规格 * ：在 `sPec` 中更改以下必需值：</block>
  <block id="868e18bdd7bc8799f8c1e1f00b94d58c" category="list-text">将 `mVIP` 字符串更改为可从集群中的任何工作节点路由的浮动管理 IP 的 IP 地址。</block>
  <block id="29b31f9baad8004ca9125758588d82c3" category="list-text">在 `adsDataNetworks` 中，指定数据网络使用的网络掩码。</block>
  <block id="8da4a001932be2ff606e6df10493966a" category="inline-xref">监控操作员</block>
  <block id="644ad178aa7628cc443a92bf64c7cfca" category="list-text">（可选） * 显示器配置 * ：如果要配置 <block ref="0f1aa9f35704db6c7d3dfbe726efcbc1" category="inline-xref-macro-rx"></block> （如果您不使用 Astra Control Center 进行监控，则可选），从部分中删除注释，添加应用代理 CR （监控操作员资源）的命名空间（默认值为 `netapp-monitoring` ），然后添加您在先前步骤中使用的注册表的 repo路径 （`yor_registry_path` ）。</block>
  <block id="6645e0ebb53d4b6e68be7936af3a8039" category="inline-link-macro">AutoSupport</block>
  <block id="b20888d3010009c6ea174a1a0c0f5ef3" category="list-text">（可选） * 自动支持配置 * ：保留 <block ref="7cdd2204a3bafe4583e65edf34a51ee8" category="inline-link-macro-rx"></block> 默认值，除非您需要配置代理：</block>
  <block id="912dac57b66d9e216d74c0e9eb1d077a" category="list-text">对于 `proxyURL` ，使用要用于 AutoSupport 捆绑包传输的端口设置代理的 URL 。</block>
  <block id="4a212b2ee1c3b204f74bc2dcc71b7cda" category="list-text">使用 `kubectl apply` 部署集群：</block>
  <block id="14e134a7ed0f49d1ca8cf22782ce2d36" category="list-text">等待几分钟，以完成集群创建操作，然后验证 Pod 是否正在运行：</block>
  <block id="e820d2459278040b58fab1dcc9b93d13" category="list-text">验证集群部署进度：</block>
  <block id="37fc959dfa0d9cc2e3d0d38b2be66c5d" category="section-title">了解与部署相关的事件</block>
  <block id="7822a7d6e729e9615380ec0aadb6990b" category="paragraph">在集群部署期间，操作状态应从 `blank` 更改为 `in progress` 更改为 `created` 。集群部署将持续大约 8 到 10 分钟。要在部署期间监控集群事件，您可以运行以下命令之一：</block>
  <block id="bd7c3f1dac7f5cf319de422fa4a32691" category="paragraph">以下是部署期间的关键事件：</block>
  <block id="84a006d56f84917bd14e7225a2a02c31" category="cell">已成功创建集群。</block>
  <block id="52e440135a5420f088a23a09ab819506" category="paragraph">如果集群的状态未更改为 `in progress` ，请查看操作员日志，了解有关节点选择的更多详细信息：</block>
  <block id="75d6f2032046c897df7535bbcf1f2a76" category="list-text">运行此安装命令：</block>
  <block id="510a796972d54f6936dbae0081373fc0" category="inline-link-macro">设置任务</block>
  <block id="543ea7e6e8e3c3a36c4ab738b89a60dd" category="cell">数据驱动器的数量</block>
  <block id="cadcb5c15abfc9c0b86d5a704e2447b0" category="list-text">3 （存在单独的缓存设备）</block>
  <block id="8598b116a85f931030ddcb21423c1f99" category="list-text">4 （如果不存在缓存设备）</block>
  <block id="aab3238922bcc25a6f606eb525ffdc56" category="cell">14</block>
  <block id="5dcae1a0f82e51f56f8a80fa3ba302b3" category="cell">数据驱动器大小</block>
  <block id="0ded0ce1dd3c7f144d40f6562739e768" category="cell">100 GiB</block>
  <block id="c0fb54db4c34b6ee67c36a485d24a499" category="cell">4 TiB</block>
  <block id="35ae311217c943858bd083552df9cdf0" category="cell">可选缓存设备的数量</block>
  <block id="06bdc266ef961962430b8fc45fbe6b6c" category="admonition">为了获得最佳写入性能，您应配置一个专用的高持久性，低延迟，低容量缓存设备。</block>
  <block id="e87c8f6d1c135adc9868a1a25397c000" category="paragraph">每个工作节点都有以下附加要求：</block>
  <block id="a4ca32328536a651e07fc9b06697e84b" category="list-text">至少为集群，数据和管理流量提供一个 10GbE 或更快的网络接口。此外，还可以使用一个额外的 1GbE 或更快的接口来隔离管理流量。</block>
  <block id="ee6328bc3c21dc27320191d56135aa72" category="list-title">硬件平台</block>
  <block id="d9254f66df3568a13577635eecc90e21" category="list-text">HPE DL360</block>
  <block id="46cc405d71094428b9035eada2442cd4" category="list-text">HPE DL380</block>
  <block id="f19b045d12ab371aab144f89dcc13406" category="list-text">Dell R640</block>
  <block id="5036b658f8a53c4fae6b137bbbda7cdb" category="list-text">Dell R740</block>
  <block id="003c6ca2750566a4e0ac19207c3b49c1" category="admonition">如果主机在硬件 RAID 控制器后使用 SSD ，请将硬件 RAID 控制器配置为使用 " 直通 " 模式。</block>
  <block id="0b3dea0c3d33c00792e5cd4182c9c9ad" category="admonition">每个驱动器都应具有唯一的序列号。在虚拟机创建期间，在虚拟机高级设置中添加属性 `disk.enableid=true` 。</block>
  <block id="719d067b229178f03bcfa1da4ac4dede" category="list-title">软件</block>
  <block id="e394890e871b97833bb8a8e0b5404dc4" category="list-text">Red Hat Enterprise Linux 8.4</block>
  <block id="bdc427e5a3608a3f6e387f1e0ff10e8d" category="list-text">Red Hat Enterprise Linux 8.2</block>
  <block id="efdefb5589146725b584d2c0c715c9b3" category="list-text">Red Hat Enterprise Linux 7.9</block>
  <block id="30acbaba7ce639c1b276cbc35a0fe207" category="list-text">Red Hat Enterprise Linux CoreOS （ RHCOS ）</block>
  <block id="0460305b9f6d43c9d7668d990a229d26" category="list-text">CentOS 8</block>
  <block id="73611f9a837b7a25dad3a9c5d1a98658" category="list-text">Ubuntu 20.04</block>
  <block id="b85d9f68ffe4a47f7986776cdde8c3f1" category="inline-link-macro">Astra Trident 安装说明</block>
  <block id="843b957e2c243e60410a67851fb2a3bc" category="paragraph">此外，还可以按下表所述配置每个节点：</block>
  <block id="f63342c9d79c680b33aaf87240993cbf" category="admonition">此表使用了以下缩写词： mip ： management IP address cip ： cluster ip address MVIP ： management virtual IP address</block>
  <block id="254f642527b45bc260048e30704edb39" category="cell">Configuration</block>
  <block id="340e3eeeee2cb6f029e877359cf7fabb" category="cell">所需的 IP 地址</block>
  <block id="c3c52e9f2e11ae59e56c2e2cefbb37b8" category="cell">每个节点一个网络接口</block>
  <block id="a7d621303329faa794a2debe597c9a34" category="list-text">每个节点两（ 2 ）个：</block>
  <block id="768f68274823d5a7efa1bf105abe5495" category="list-text">MIP/CIP ：每个节点的管理接口上有一（ 1 ）个预配置的 IP 地址</block>
  <block id="d4238ff24fc1cf5a2b88b0a7b8287577" category="list-text">Data IP ：在与 MIP 相同的子网中，每个节点一（ 1 ）个未使用或未配置的 IP 地址</block>
  <block id="e5a31bf236fa351c0c8d4d6deee7a459" category="cell">每个节点两个网络接口</block>
  <block id="2a7a869fc706abd781fd566e1ada8f71" category="list-text">MIP ：每个节点的管理接口上有一（ 1 ）个预配置的 IP 地址</block>
  <block id="f42ce73bfdc2096b23cfed33403cdc62" category="list-text">CIP ：在与 MIP 不同的子网中，每个节点的数据接口上有一（ 1 ）个预先配置的 IP 地址</block>
  <block id="a33be05f8cf7234feb5f33257c901f01" category="list-text">Data IP ：在与 CIP 相同的子网中，每个节点一（ 1 ）个未使用或未配置的 IP 地址</block>
  <block id="c6614b840aed1f56769d06419ac7f1fa" category="admonition">这些配置中不使用任何 VLAN 标记。</block>
  <block id="5b39c767e05e7aa4e621836f3b785b9f" category="inline-link-macro">存储后端</block>
  <block id="e48fa26d86f93c0095683fa3998fe381" category="inline-link">请在此处注册</block>
  <block id="159b2efa467f3d1f53e7c16668353bf5" category="inline-link-macro">快速入门</block>
  <block id="77a7c94739d3e3b6a3c106162739bbcd" category="paragraph">查看 <block ref="4a78f9b7a1530228ea4c970be46c5b94" category="inline-link-macro-rx"></block> 概述。</block>
  <block id="a9066c7b36f74393f45392470bdf22d8" category="summary">只需几步即可开始使用 Astra 数据存储。</block>
  <block id="4854d4c0301c6f34c76f1cb78057e09e" category="list-title">跨度 class="image&gt;&lt;img src=<block ref="0c3becc25d95e48b9ca863002a042824" category="inline-link-rx"></block> Alt-one"&gt;&lt;/span&gt; 查看 Kubernetes 集群要求</block>
  <block id="0cffa0eb91d9096c1bc69da95e5e4e35" category="list-text">每个 SSD 都应具有唯一的序列号。</block>
  <block id="80de081c75779cda8e2db1de0f292684" category="list-title">跨度 class="image&gt;&lt;img src=<block ref="ddd753dc2858fe3a5582f20b300a0541" category="inline-link-rx"></block> Alt-Three &lt;/span&gt; 完成一些初始设置任务</block>
  <block id="9e2a7f44aa27cc7ead915762de91e605" category="list-text">安装 Astra Trident 。</block>
  <block id="696638e6fb97f6a54feea5bca820df2e" category="inline-link-macro">初始设置过程</block>
  <block id="dbffc0609c7e1e112b54784b54f5396d" category="paragraph">详细了解 <block ref="914fa5bd06e3aa494df742959ef37adf" category="inline-link-macro-rx"></block>。</block>
  <block id="9600e68b6bd25a2f0f71b411cd63bd34" category="inline-link-macro">配置监控端点</block>
  <block id="e4bfa660b2212414c8cf9ec372400ea6" category="list-text">配置监控端点。了解更多信息 <block ref="1659657294c28fe6854339fca8e6e794" category="inline-link-macro-rx"></block>。</block>
  <block id="f16f3c945705b1ec1c2fa1f5d55b34f4" category="sidebar">Astra 数据存储文档</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="sidebar">入门</block>
  <block id="950ef96ff58f56393ed7430627e7ea24" category="sidebar">了解 Astra 数据存储</block>
  <block id="62bdbe048d174b559cb770f9ebaf0895" category="sidebar">试用</block>
  <block id="b4c6e3a3c2028ba3c6664bbbda8d1964" category="sidebar">监控事件日志</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">演示教程</block>
  <block id="51d4cdad7d0fdc980b53468d54533be7" category="sidebar">Kubernetes 的未来</block>
  <block id="813011e2103649bb71f124adedcc10ea" category="sidebar">博客社区</block>
  <block id="6394eceb2639574114b02e6e817eb19a" category="sidebar">Astra 博客</block>
  <block id="0ea49e56b14b87fa0b49648176f9fc81" category="sidebar">" 容器 " 通道可宽延</block>
  <block id="874d8a5301794a9ca2aba132ac2460f3" category="sidebar">Kubernetes Hub</block>
  <block id="213686afc3803be7caa09348765467fe" category="sidebar">如何获取帮助</block>
  <block id="0adc03eac86772ad2c75c8f140be417e" category="sidebar">知识和支持</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="sidebar">故障排除</block>
  <block id="1d79052461351a56ef4f9bf9f5837f4a" category="sidebar">使用 REST API 实现自动化</block>
  <block id="0b79795d3efc95b9976c7c5b933afce2" category="sidebar">简介</block>
  <block id="042ad0dc0362e73320e5850115e17224" category="sidebar">使用 Astra 数据存储</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">概念</block>
  <block id="6762973af9b127d271f0d2b2aea0bc96" category="sidebar">部署模式</block>
  <block id="fd18465573ec21a6218982055981f6b1" category="sidebar">存储效率</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="sidebar">安全性</block>
  <block id="1fe917b01f9a3f87fa2d7d3b7643fac1" category="sidebar">常见问题解答</block>
  <block id="66f992fd154333db12979224b40bb01d" category="list-text">适用于 Vanilla Kubernetes 集群的 Calico 和 Weave Net CNI</block>
  <block id="1c6ba40a804a7b27053cbc1e9b881a53" category="list-text">适用于 Red Hat OpenShift 容器平台（ OCP ）的 OpenShift SDN</block>
  <block id="5d12f25a06af3175aac5ead4076ccaa5" category="list-text">Cilium for Google Anthos</block>
  <block id="7baf7b8d385cfa43e2ebd4decbe383e8" category="list-text">创建命名空间：</block>
  <block id="9484da3843b6d29183c961f5805374c0" category="paragraph">示例： ads_namespace.yaml</block>
  <block id="9279e1a9a6dc21e00ad8bfe646d12d80" category="paragraph">OpenShift 使用安全上下文约束（ SCC ）来控制 Pod 可以执行的操作。默认情况下，任何容器的执行都将获得受限的 SCC ，并且仅获得该 SCC 定义的功能。</block>
  <block id="a404b42248dc15fc7c9f96beb39ce0bf" category="list-text">创建自定义 SCC ：</block>
  <block id="675d6759427bcd3ef0478a3576c113b4" category="paragraph">示例： ads_privileged_scc.yaml</block>
  <block id="44988a3cdc9c8d194b4f0791b2fd559e" category="list-text">使用 `oc get SCC` 命令显示新添加的 SCC ：</block>
  <block id="c8679407d1ef279caad76d123b67c3cf" category="list-text">创建定义的角色和角色绑定：</block>
  <block id="241dbe54decdb2543808cb04b50976c5" category="paragraph">示例： oc_role_Bindings.yaml</block>
  <block id="aef7cd1b81043d55ad8648455fb6ed1b" category="list-text">Setup-snapshot-controller.yaml</block>
  <block id="29e5e3a354a8524010423699de73f776" category="list-text">rbac 快照控制器 .yaml</block>
  <block id="4ad805069afc4d9f62366cebed53439e" category="list-text">应用 setup-snapshot-controller.yaml ：</block>
  <block id="1871cbca326d3f3a5fb66f60c754c26f" category="list-text">应用 rbac 快照控制器 .yaml ：</block>
  <block id="7135d7688e86eac3c57f2de72b8018d5" category="list-text">使用安全终端创建 `ads_backend.json` ：</block>
  <block id="a124b50c086047caaf79854f3e502e65" category="list-text">对于 ` "kubeconfig"` 值，请执行以下操作：</block>
  <block id="55fa2080356ace346f9938ef27eeeda2" category="list-text">将 .Kube/config YAML 文件转换为不含空格的 JSON 格式并将其最小化：</block>
  <block id="52ba8594eda2bfe84ddd95e4ab3876f6" category="paragraph">转换示例：</block>
  <block id="8760732111b0a693f9646bbe82410c8d" category="list-text">编码为 base64 ，并使用 base64 输出作为 ` "kubeconfig"` 值：</block>
  <block id="bfa0adf4d3cdd7138899e834388c02a3" category="paragraph">示例编码：</block>
  <block id="a305f5d0a6acf6a2da171a4f1b666e48" category="inline-link-macro">NetApp 社区支持</block>
  <block id="e569dc044792d2bf4595c7af9541daed" category="section-title">上传核心文件</block>
  <block id="1861872a87cd1bd45477d1bd8bde8fbc" category="list-text">使用以下 `kubectl` 命令查看 ASUP 消息：</block>
  <block id="d0848afd8553c34945705222a97a4553" category="paragraph">您应看到类似于以下内容的输出：</block>
  <block id="e3e003fbe97f56e5da7b9836f13e40cd" category="list-text">使用以下 `kubectl` 命令从 ASUP 消息中下载核心文件。使用 ` -o` 选项为下载的文件指定目标目录。</block>
  <block id="aef336662f3dd955f1ffe1b4d962e8dd" category="inline-link-macro">获取帮助</block>
  <block id="8bcac861b17be24df6709af819869bde" category="admonition">在极少数情况下，您可能无法下载核心文件，因为其他核心文件已取代它。发生这种情况时，命令将返回错误 `cannot stat ： no such file or directory` 。如果您看到此错误，可以 <block ref="3739596c2aaab59aab39ba4eae26a099" category="inline-link-macro-rx"></block>。</block>
  <block id="cdc3fa95d906838557c8a847620eb81b" category="inline-link">NetApp 身份验证文件上传工具</block>
  <block id="a439a006232750ae691d05d0261a0055" category="list-text">打开 Web 浏览器并浏览到<block ref="7a5a649adac8f34c2a7fd32a7967050a" category="inline-link-rx"></block>，如果您尚未登录，请输入您的 NetApp 支持凭据。</block>
  <block id="c22afea75269fa3da9fbdc9995d18a90" category="list-text">选中 * 我没有案例编号 * 复选框。</block>
  <block id="acb4ffaf34e8909b437a59a61a13b49b" category="list-text">在 * 最近的区域 * 菜单中，选择最接近您的区域。</block>
  <block id="ccdb41b7a646fbb51f839a4e474a81cb" category="list-text">选择 * 上传 * 按钮。</block>
  <block id="aeb709613322d29961877072452bfe23" category="list-text">浏览并选择先前下载的核心文件。</block>
  <block id="d3b3561d6d067e8ee0dccc1a1af988d9" category="paragraph">此时将开始上传。上传完成后，将显示一条成功消息。</block>
  <block id="0c6bf31289bc5bf0b95228b0d2a8ec60" category="inline-link">NetApp 支持站点（ NSS ）</block>
  <block id="2a78d6757f0c5e50314bbac0fd7b7197" category="list-text"><block ref="2a78d6757f0c5e50314bbac0fd7b7197" category="inline-link-rx"></block></block>
  <block id="915175f508b5f3177445a98b51f0097f" category="list-text"><block ref="4bd40507b5d2224d965f5d4747d374a9" category="inline-link-rx"></block></block>
  <block id="1e16f2b8556745da1de7a0b75522a635" category="paragraph"><block ref="1e16f2b8556745da1de7a0b75522a635" category="inline-link-rx"></block></block>
  <block id="bb77e148c413e9e6fe81c660d1b64bcb" category="list-text">下载 <block ref="07b1214d7f04b151683fccdcb3396163" category="inline-link-macro-rx"></block>：</block>
  <block id="6087aa1a980e9fb03c3d42ed429d3090" category="list-text">下载 <block ref="424f4872df67a1a5528184cc2ca8dc8c" category="inline-link-macro-rx"></block>：</block>
  <block id="d6de7af55cd34df4b1343663f9fa47a7" category="inline-link">由 Astra 控制中心管理的集群的要求</block>
  <block id="3fd265fc18b2cccf42e00f564f3cc354" category="list-text">更改为下载 Trident 安装程序的目录：</block>
  <block id="293acccfcaa84144747d7d17dbd3128e" category="list-text">创建 ads_sc_example.yaml ：</block>
  <block id="36e2bd9e7950f46d3ea6d2bca4c50ba1" category="summary">了解如何解决您可能遇到的一些常见问题。</block>
  <block id="79c5785e2761673e59d8eea6f1277fe2" category="paragraph"><block ref="79c5785e2761673e59d8eea6f1277fe2" category="inline-link-rx"></block></block>
  <block id="de6bf4315ca097a0bda1ff06c7c49a20" category="list-text"><block ref="e1e29d7386d2d73bd3f1ef7e80229929" category="inline-link-rx"></block>。</block>
  <block id="24bea87dd5f03c9343f832d514436b14" category="list-text"><block ref="116c093341ed114bc7b46f219680ab08" category="inline-xref-macro-rx"></block></block>
  <block id="92e02155816dfb43131e8093bd99081a" category="section-title">删除 OpenShift 容器平台资源</block>
  <block id="ee9ff707f9f8b22acbf949454f477868" category="paragraph">OpenShift 使用安全上下文约束（ SCC ）来控制 Pod 可以执行的操作。</block>
  <block id="7e6e334737be518763a54980c076bd52" category="paragraph">完成标准卸载过程后，请完成以下步骤。</block>
  <block id="ea3636dddb52a396bae27bd0e6aed06e" category="list-text">删除 SCC 资源：</block>
  <block id="fd617944a08113e478bdc0aa81855d1e" category="list-text">删除 rolebindings 资源：</block>
  <block id="9d106b821e7a6c048ee7d651cb427fe8" category="list-text">* Cloud Insights * ： Cloud Insights 是一款 NetApp 云基础架构监控工具，可用于监控由 Control 管理的 Kubernetes 集群的性能和利用率。Cloud Insights 将存储使用量与工作负载相关联。</block>
  <block id="17e8381dc8f4cb6d73926f1e7a8de1e1" category="paragraph">请参见<block ref="64bad5f12122d75c9f4258c5070a56b3" category="inline-link-rx"></block>。</block>
  <block id="85f04e298b2fa787e636338a4499f93f" category="list-text">基于角色的访问控制，用于控制对功能的访问</block>
  <block id="13423660d468d089ecff44a943262590" category="list-text">* 支持 Kubernetes 容器化工作负载 * ：使用您习惯使用的企业级数据管理服务和工具。</block>
  <block id="658b90d4dc3b6a2eac6d3fe324c8cfcc" category="list-text">* 将 Kubernetes 的 " 应用程序即服务 " 平台用于开发运营 * ：创建弹性的软件定义自助式平台，以提供自动化，可重复的服务，消除 developers​ 带来的复杂性。</block>
  <block id="ede1b5b057383164bf158f52b20ac5f4" category="paragraph">初始版本的 Astra Data Store 预览版。</block>
  <block id="34e34c43ec6b943c10a3cc1a1a16fb11" category="inline-link-macro">管理</block>
  <block id="08b5411f848a2581a41672a759c87380" category="inline-link-macro">监控</block>
  <block id="a04cd32c3c3950df1d0f802d45f11f13" category="paragraph">维护` 模式下的 `将以 `false` 开头，并更改为 `true` 。`M状态` 从 `PreparingForMaintenance` 更改为 `ReadyforMaintenance` 。</block>
  <block id="9e3dc57f54f2d644be8ac48fe53921a9" category="listing-title">在 nodeStatuss.driveStatuses 中显示故障驱动器的集群示例</block>
  <block id="d2a07928ef8038414bb8906cf0d69aeb" category="list-text">使用 `replace` 命令将驱动器替换为已传递的序列号。如果 ` -wait` 时间已过，则命令将完成替换或失败。</block>
  <block id="7be56609286fef3cd86d55bb4e0e047f" category="list-text">要重新运行驱动器更换，请使用 ` -force` 和上一个命令：</block>
  <block id="01697c467d432c8756175875af6f7862" category="paragraph">要了解如何部署示例应用程序，请参见 <block ref="643aaff8c958edf6a7fa070276276697" category="inline-link-macro-rx"></block>。</block>
  <block id="4291d7cb1313fc7e7a2bdee4b3e37b8f" category="list-text">使用以下短名称之一显示集群中卷的当前状态：</block>
  <block id="b10460ccd4dab92425e3899834cff4ba" category="section-title">使用 kubectl 扩展上的 help 选项</block>
  <block id="76cb5d2fd9023680b23ef2e16304eb1d" category="paragraph">* 如何提出支持案例或要求对快速问题进行澄清？ * 要提出支持案例或获得有关快速问题的澄清，请在上报告您的问题描述或问题<block ref="58c7b0218bcdd8930a7bd42e42b82022" category="inline-link-rx"></block>。NetApp 支持部门将与您密切合作，尽最大努力提供帮助。</block>
  <block id="6b0ae81b52260da2b11f6557738bfbf4" category="list-text">每个节点三个：</block>
  <block id="7d39093ae7a79f74883015012f6ca82f" category="list-text">安装 Kubernetes Snapshot 自定义资源定义（ CRD ）和控制器。</block>
  <block id="086e6c16e3fe8e13c336612ef636aa02" category="section-title">Astra Trident</block>
  <block id="7c95cb60c145e1daaa8e09345449040e" category="list-text"><block ref="eeb4d4245ab5067a874c0b6b31a63735" category="inline-xref-macro-rx"></block></block>
  <block id="4b132e0e0c60c6487aaf1e8a8b4b4daf" category="section-title">完成 Cloud Insights 连接前提条件任务</block>
  <block id="8faad7b19aae28c8f1562134a463288e" category="paragraph">响应（没有节点处于维护模式）：</block>
  <block id="8bce794738fc750d8f56c5653ce122c8" category="list-text">* Astra Trident * ：作为由 NetApp 维护的完全受支持的开源存储配置程序和编排程序， Astra Trident 使您能够为 Docker 和 Kubernetes 管理的容器化应用程序创建存储卷。</block>
  <block id="9c985db49df4957b3e91e45779dc1676" category="paragraph">请参见 <block ref="f6e7a5de97c28034a15c0e13f6029354" category="inline-link-macro-rx"></block>。</block>
  <block id="b84bc82d6b1290562ebf05231992936a" category="paragraph">请参见 <block ref="8d8c8ec655e8397711a9f4c0b3d58c93" category="inline-link-macro-rx"></block>。</block>
  <block id="847bcba6596dcd74ce49891aa01b04cb" category="list-text">集群必须以运行状况良好的状态运行，并且至少具有四个或更多工作节点。</block>
  <block id="5a880b8c445a800acadf32c4ad7af071" category="list-text"><block ref="a71874fb50b79b81cbba98e9c1dfefdf" category="inline-xref-macro-rx"></block></block>
  <block id="5ab1da70b106ac4cac7486f910a193f7" category="paragraph">要创建永久性卷声明（ PVC ）快照，需要使用 Kubernetes Snapshot CRC 和控制器。如果尚未为您的环境安装 CRD 和控制器，请运行以下命令进行安装。</block>
  <block id="034057e29f8eb1feedd93c2bb1f3c021" category="list-text">保存 CR 。</block>
  <block id="b4c14db8eec92ee84594deeb518a4976" category="list-text"><block ref="2d483405481d39b9a6c7adc5f6fbf7e7" category="inline-xref-macro-rx"></block></block>
  <block id="3f87463fbb506d4f0516867e384903e8" category="paragraph">在将 Astra 数据存储与 Cloud Insights 连接之前，您需要完成以下任务：</block>
  <block id="24437864eef7531173e2d2270e155f21" category="list-text">对以下类别具有读 / 写权限的 * Cloud Insights API 访问令牌 * ：采集单元，数据收集，数据载入和日志载入。此选项将用于读 / 写操作，设置采集单元以及设置数据载入过程。</block>
  <block id="9d04fb2bf64ae7e0296e32806229a724" category="list-text">* Kubernetes API 令牌 * 。此选项用于调用 Kubernetes API 。</block>
  <block id="935cc921263d28418fb73a354cd41efd" category="list-text">* 永久性卷配置 * 。有关如何配置永久性卷的信息。</block>
  <block id="8ebcaa8a2aa9767eae1ff42756477e57" category="paragraph">采集单元需要三个永久性卷来存储安装文件，配置数据和日志。监控操作员使用默认存储类创建永久性卷请求。在运行安装程序脚本时，您可以使用 ` -s` 选项指定其他存储类名称。</block>
  <block id="c36a5ac3e36a3f3614c8e101f10af370" category="paragraph">下载 Cloud Insights 租户域名和选定的 Cloud Insights API 访问令牌后，此令牌将嵌入安装程序脚本中。</block>
  <block id="2c6bbc18ee7837963ff00fc80383b96e" category="section-title">显示安装程序脚本帮助</block>
  <block id="1f381d1e7d5352848c4005ed024d0548" category="paragraph">显示安装程序脚本帮助文本：</block>
  <block id="544bfaab1cf7bfdf8d87b2a8985db6fd" category="section-title">运行安装脚本</block>
  <block id="fc09f2223645935b2fa19867a3a7d89f" category="list-text">选择正确的 Cloud Insights API 访问令牌或创建新令牌。</block>
  <block id="f98f8e73d564dde8a48c2ec342a8f9cc" category="paragraph">此脚本包含您的 Cloud Insights 租户 URL 和选定的 Cloud Insights API 访问令牌。</block>
  <block id="60afd5a6ed383f75d7a48ec9267857a4" category="admonition">如果脚本因错误而退出，您可以稍后在解决错误后再次运行它。如果您的环境不使用默认设置，则该脚本支持其他参数，例如监控操作员命名空间和 Kubernetes API 服务器端口。使用 ` ./cloudinsights-ads-monitoring.sh -h` 中的 `` -h`` 选项查看使用情况和帮助文本。</block>
  <block id="ce088431d95196ba5e34a00a7b33a554" category="paragraph">如果配置成功，安装脚本将生成如下输出：</block>
  <block id="4dce790e0705b733aeab27193373f151" category="paragraph">您可以稍后编辑 Kubernetes API 令牌或 Cloud Insights API 访问令牌：</block>
  <block id="94c3a6521fc4a57866841e68413f5f21" category="list-text">如果要更新 Kubernetes API 令牌，应从 Cloud Insights UI 编辑 Astra 数据存储收集器。</block>
  <block id="bd07b3393af79a48c0a0b1e42df77832" category="list-text">如果要更新用于遥测和日志的 Cloud Insights API 访问令牌，应使用 kubectl 命令编辑监控操作员 CR 。</block>
  <block id="cf39a76494d7973b947bf14137f64a6a" category="list-text">使用新值更新 Kubernetes API Token 字段。</block>
  <block id="5716a76c5b22d46dd556b4d306c3d0a4" category="list-text">选择 * 保存收集器 * 。</block>
  <block id="95626f976ae18ae94a4188b238d2f44f" category="list-text">选择 * 管理 * &gt; * API 访问 * 并单击 * + API 访问令牌 * ，创建新的 Cloud Insights API 访问令牌。</block>
  <block id="fb2035a56f9eb3ca2f926e8e51229894" category="list-text">找到 `output-sink` 部分，找到名为 `CI` 的条目。</block>
  <block id="492f23e1dbe929adf7f122a925bd064b" category="list-text">对于标签 `api-key` ，请将当前值替换为新的 Cloud Insights API 访问令牌。</block>
  <block id="69c14c6dd63bad8df8635c6ebbd47642" category="list-text">选择屏幕右侧的菜单，然后选择 * 删除 * 。</block>
  <block id="fb3d4d58b3608fb49919890d83965595" category="list-text">找到 `au` 部分并将 `isenabled` 设置为 `false`</block>
  <block id="7fb94990d3a57c8bbff9d9a146085077" category="list-text">找到 `flual-bit` 部分，然后删除名为 `ads-tail -CI` 的插件。如果没有其他插件，您可以删除 `flual-bit` 部分。</block>
  <block id="c19be73a533496804bd908db8efca532" category="list-text">找到 `output-sink` 部分，然后卸下名为 `CI` 的接收器。</block>
  <block id="fbe0315ffcbe25b549dae9be4cd9c17a" category="paragraph">然后，删除运行采集单元的节点上的实际目录。</block>
  <block id="0f024621e0673f1f4e657983682d6e72" category="list-text">选择 * 删除 * 。</block>
  <block id="f40621c004c5b23c3485a800fe73c8df" category="admonition">忽略这些步骤中的 " 未找到资源 " 错误。 </block>
  <block id="592559968efa9408ca73078a0281426c" category="list-text">已安装代理的命名空间：输入监控代理的命名空间，这是监控操作员的 monitoring-NetApp CR 的默认名称。</block>
  <block id="2c823bca43aea2d1d1f31e9983e361b7" category="list-text">` -r` 是可选的，用于设置 Fluent 或 Telegraf 映像所在的 Docker 注册表。默认情况下，此路径设置为 `docker.repo.eng.netapp.com/global/astra` ，您可以进行更改。</block>
  <block id="d9d6ed14c600162e996a2b655fe76a5b" category="paragraph">要将 EMS 事件和其他 POD 日志流式传输到 Elastic 等第三方端点，请使用 `astrad` 扩展。</block>
  <block id="fb1b2d57a629a279f6ff0d53a5227a85" category="inline-link">监控节点，磁盘和永久性卷声明（ PVC ）</block>
  <block id="13c2044ccdb84b5f13a75cb4056babe7" category="list-text"><block ref="77a980d120eceb0ef7837945f6cac4d0" category="inline-link-rx"></block>。</block>
  <block id="39b72bf4e7fc80a70a26d746cbef58ad" category="doc">此版本的 Astra 数据存储中的新增功能</block>
  <block id="aa1ac4b92c201cc0069ddd9b8f5ef562" category="section-title">2022 年 2 月 8 日（ 2021.12.1 ）</block>
  <block id="bd8f00179fbca4385570ecda2bce2b26" category="paragraph">适用于 Astra Data Store 预览版（ 21.12 ）的修补版本（ 2021.12.1 ）。</block>
  <block id="4530f8c7839b1f969ceb5c2a31b6c4ec" category="list-text">在此版本中， Astra Data Store preview 支持使用 Calico CNI 的 VXLAN 配置。</block>
  <block id="1a7c93d5ddfb9e849dc78f3e532c9c39" category="list-text">Astra Data Store 预览版现在支持启用了 Calico WireGuard 的网络配置。</block>
  <block id="03c2a88196227c124e45e61db29b2a19" category="list-text">更新的 AstraDSCluster.YAML `adsNetworkInterfaces` 一节提供了经过改进的描述性注释。</block>
  <block id="172a28b95bfacecd355a263df8cfb2dd" category="list-text">现在，我们提供了新的 Astra Data Store 卸载脚本，作为 kubectl 命令卸载过程的一种更简单的替代方法。</block>
  <block id="8c26fafc2eb158f8e1dbc5b78f67860a" category="list-text">通过 SSH 连接到集群中的每个工作节点，并验证` fireap` 或 `netwd `未在工作节点中运行。</block>
  <block id="c4bc5ab0b4775b4a9c0dc56e5a147ad0" category="admonition">忽略这些步骤中的 " 未找到资源错误 " 。 </block>
  <block id="b6e1c19fae1f4cf0d8f94a34c5986b69" category="paragraph">下面显示了执行手动卸载脚本的示例。</block>
  <block id="8b1fa32151850024119fafb21ccb3d78" category="paragraph">如果发生此问题描述 ，请运行以下命令强制删除 `astrads-system` 命名空间中的所有 Pod ：</block>
  <block id="0280ad96110683ba834751f8caae2449" category="list-text"><block ref="beebbaa837c0d8f0102332e76a141522" category="inline-xref-macro-rx"></block></block>
  <block id="e086eb1f9d8ebe5afe55cc047525fc41" category="section-title">卸载 Astra Data Store 集群</block>
  <block id="6d3ae875fc703d9d98a6ac916046e2ce" category="list-text">在 `manifests` 目录中找到 `uninstall.sh` 。</block>
  <block id="dd48706656a492ee3c3d8405bf558d38" category="list-text">运行以下 `sed` 命令：</block>
  <block id="450614a3dcd37aa64dd16358c06d694c" category="list-text">运行以下脚本以指示要卸载的内容：</block>
  <block id="69ff5b52aae09b4aaf83249ef2547012" category="list-text">如果您只想卸载集群，请输入 `uninstall.sh &lt;cluster&gt;`</block>
  <block id="c7f603430bf030fb2e62840f2f04800f" category="paragraph">否则，如果要卸载所有内容，请输入 `uninstall.sh`</block>
  <block id="d83aa4400bb8ceb7d02f04215363b8fa" category="admonition">大多数情况下，您将卸载所有内容。如果您稍后要重新部署集群，则可能只需要卸载集群。</block>
  <block id="15388dda568bd0771380969281e3fb4d" category="list-text">在提示符处，确认要继续并输入 `erasedata`</block>
  <block id="1b828e66f98e1084d2ec48e088373a14" category="sidebar">此版本的 Astra 数据存储中的新增功能</block>
  <block id="211e9e8a4cf9ff3c00e04155da6f31d9" category="summary">您可以使用 Prometheus 和 Grafana 监控 Astra 数据存储资产。</block>
  <block id="00e0d60d6c6845e2c5c19961e437a70c" category="doc">使用 Prometheus 和 Grafana 监控指标</block>
  <block id="88b8613d339947a37e41b1f514dcc42c" category="inline-link">安装 Prometheus</block>
  <block id="3de41522a35f102d48905bc53fd5c383" category="inline-link">安装 Grafana</block>
  <block id="7119175e2ec3286002664b430cbc1c19" category="section-title">配置 Prometheus</block>
  <block id="262824fa21333665f816f40f8094f64e" category="list-text">为您的 Prometheus 安装编辑 `Prometheus.yml` 配置文件。</block>
  <block id="4ce6645d84fcfdc26a06bbcb3cb2200e" category="list-text">启动 Prometheus 服务。</block>
  <block id="e91d9af5ad925c5de9147c893effa4d4" category="section-title">配置 Grafana</block>
  <block id="fd629abff45ee23c6bdc73d9d91a66a4" category="paragraph">您可以将 Grafana 配置为显示 Prometheus 收集的指标。</block>
  <block id="51b365774144e20a83d88f3a9cd021ae" category="list-text">为您的 Grafana 安装编辑 `datasources.yaml` 配置文件。</block>
  <block id="c3aa2019ef2104794c22ebca3d9699af" category="list-text">将 Prometheus 添加为数据源。例如：</block>
  <block id="72d2326d0f93988ea6c944cc1f71e4d7" category="list-text">启动 Grafana 服务。</block>
  <block id="d59dfb8e877e5af488f89204ccb03248" category="list-text">按照 Grafana 文档中的说明进行操作<block ref="1cf3392e814c31461defe80ff0d63d38" category="inline-link-rx"></block>。</block>
  <block id="9ef9f6e92b5af42394c5f060e5252493" category="section-title">导入 Grafana 信息板模板</block>
  <block id="7aa7363407fe50db6732fda1c3546635" category="list-text">打开 `manifests` 目录。</block>
  <block id="3da799470552bc99d72c76674914bc47" category="list-text">提取 `grafana_cluster.json` 和 `grafana_volume.json` 文件。</block>
  <block id="7b2ccb49d7bc87351cf57d3e0c234471" category="inline-link">将信息板模板文件导入到 Grafana 中</block>
  <block id="2d44692dc4e76f18d1b4df631a84302e" category="list-text">使用 Grafana Web UI ，<block ref="2cc34fe35a733f5131c1ab2d18b17aaf" category="inline-link-rx"></block>。</block>
  <block id="efcf6fe8760b2393a176eae5edd579ed" category="list-text">* 定期 * ： ASUP 捆绑包按 CR 中定义的间隔创建。</block>
  <block id="6dddcaa90ae5efda3acfa80c5ea3d08b" category="list-text">* 用户触发 * ：您可以手动创建自己的 ASUP 以查看日志。</block>
  <block id="ab453bb9b40d04efb13294adfa92d853" category="list-text">* 核心转储 * ：如果节点上存在核心转储，则会生成 ASUP ，并将核心发送给 NetApp 进行进一步调查。</block>
  <block id="bf0399c5eb2b0f5f3eb0cd0ba5f1130a" category="list-text">* 基于 CallHome 事件 * ：从操作系统的特定 CallHome 事件生成 ASUP 。</block>
  <block id="3302ab6f089dba6c4edfb1215d444440" category="list-text">* 基于 Kubernetes 事件 * ：从控制平面中的特定 Kubernetes 事件生成 ASUP 。</block>
  <block id="b31894ec7a83e74505e86d91ddc53dd0" category="list-text">* 存储 AutoSupport * ：存储报告和性能数据的集合。</block>
  <block id="e50b54ace80e3ce4ca4ed367489ffcbc" category="list-text">* 核心转储 AutoSupport * ：系统核心转储的集合。</block>
  <block id="4eec994b5541d8211d5fe63ef587bf8b" category="list-text">` -e &lt; 事件名称 &gt;` ：触发收集的事件名称。事件名称应在 component-yaml 中预定义（该名称已挂载到支持控制器）。</block>
  <block id="cee7078672c2b41aee5273a73b2b27f2" category="list-text">` -localCollection` ：启用本地收集。默认值为 `false` 。</block>
  <block id="36f3b10b6a20048e99e47d216f11571a" category="list-text">` -forceUpload` ：启用强制上传。默认值为 `false` 。</block>
  <block id="3af5eea542f5f2a1367599696b0d68c1" category="list-text">` — retry` ：启用重试。默认值为 `false` 。</block>
  <block id="85ae37cc7f15413a66f075500ab9bb21" category="list-text"><block ref="c971d40cbaa6eb788778a2dba59a7d25" category="inline-xref-macro-rx"></block></block>
  <block id="2747c0766e2771ab043a0800e63b80a7" category="section-title">OpenShift 操作步骤</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="example-title">详细信息</block>
  <block id="9d596ac4d3d28a6c2a6f2d976a322372" category="paragraph">只有在 Red Hat OpenShift 容器平台（ OCP ）上部署时，才需要执行以下步骤。</block>
  <block id="9f656569b5b0db7993b62a5b0072ded3" category="list-text"><block ref="9f656569b5b0db7993b62a5b0072ded3" category="inline-link-rx"></block></block>
  <block id="0e21520e616fa6a17ae2ececc6c27419" category="list-text"><block ref="0e21520e616fa6a17ae2ececc6c27419" category="inline-link-rx"></block></block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">版权</block>
  <block id="09e95b77ffe81fe465a83ba99efad5c8" category="paragraph"><block ref="09e95b77ffe81fe465a83ba99efad5c8" category="inline-link-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商标</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp 、 NetApp 徽标和 NetApp 商标页面上列出的标记是 NetApp 、 Inc. 的商标。其他公司和产品名称可能是其各自所有者的商标。</block>
  <block id="7aa531e9acfe2b98e34d2c92fe9846ff" category="paragraph"><block ref="7aa531e9acfe2b98e34d2c92fe9846ff" category="inline-link-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">专利</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">有关 NetApp 拥有的专利的最新列表，请访问：</block>
  <block id="d7f1fbcf9ce4e42f705add574d262b2c" category="paragraph"><block ref="d7f1fbcf9ce4e42f705add574d262b2c" category="inline-link-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">隐私政策</block>
  <block id="fc248f74f5e36542f7f5627b8610e9a3" category="paragraph"><block ref="fc248f74f5e36542f7f5627b8610e9a3" category="inline-link-rx"></block></block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">开放源代码</block>
  <block id="9b73989307c1975dfa4d5e1581e4afe8" category="paragraph">通知文件提供有关 NetApp 软件中使用的第三方版权和许可证的信息。</block>
  <block id="a44aabf523591d454f3c29d4f0b04192" category="paragraph">在设置监控之前、您需要在`astrads-system`命名空间中有一个活动的Astra数据存储集群。</block>
  <block id="16410c01700163af8416cf31cd822fd4" category="summary">有关早期版本的文档、请参见Astra Data Store。</block>
  <block id="29e71d246ff04de0594572a324dcd281" category="doc">早期版本的Astra数据存储</block>
  <block id="17d6fb8ac6af8dbaeeb6a6b132b87546" category="paragraph">可提供先前版本的文档。</block>
  <block id="a68d5fd5578b1ccf876faffbf7c2b6b2" category="inline-link">Astra Data Store 21.12文档</block>
  <block id="7ac58243fcf95610c6a5ad215c63ba59" category="list-text"><block ref="7ac58243fcf95610c6a5ad215c63ba59" category="inline-link-rx"></block></block>
  <block id="62e72931f7852895f263c1d84a9880fe" category="paragraph">我们很高兴地宣布发布了2022.05早期访问计划(EAP)版本的Astra数据存储。</block>
  <block id="ac4b2c717b7b0e251e30e60b6b737e01" category="section-title">2022年5月31日(2022.05 "EAP版本")</block>
  <block id="a6a56368455ad5b9eba90e9f90e038b0" category="paragraph">Astra Data Store 2022.05版本包含以下功能：</block>
  <block id="4d3b896dfa64696e99997f98fa331878" category="list-text">VMware环境集成：</block>
  <block id="66e265971f6242fdb7dd60021a73b720" category="list-text">NFS VVol数据存储库工作流和基于存储策略的管理存储配置。</block>
  <block id="3225ebea5daff4f1a8031fae51f0a991" category="list-text">适用于VMware vSphere的Astra插件、用于从vCenter管理和监控原生 存储。</block>
  <block id="7b389160315cef0a520b41621034c2f1" category="inline-link-macro">从Astra控制中心部署基于图形用户界面的集群</block>
  <block id="e2b19fc9898e8f9c47d5e518cb07614e" category="list-text">增强的集群管理功能、包括 <block ref="902acfbdf22e41bbf446d2716a457b82" category="inline-link-macro-rx"></block>。</block>
  <block id="25a63e42fda22413c0d53c3aa8e0d0fc" category="inline-link-macro">更大的集群规模</block>
  <block id="ce07bd94c3dec2ad17fa1f0764ad73be" category="list-text">支持 <block ref="c7dd958299842d60f6d756fee48b8a1b" category="inline-link-macro-rx"></block> (节点数量增加、CPU和容量增加)。</block>
  <block id="81f7ecbef9a55898a9ac9ad6261cc6c9" category="list-text">安全增强功能(密钥和证书以及对外部密钥管理(KMIP)的支持)。</block>
  <block id="2ab056a508b93f00b60a633799dca84c" category="list-text"><block ref="2ab056a508b93f00b60a633799dca84c" category="inline-link-rx"></block></block>
  <block id="90dfce80d162c6dd0786541e9f7b5630" category="list-text"><block ref="90dfce80d162c6dd0786541e9f7b5630" category="inline-link-rx"></block></block>
  <block id="a490c7654fb37820680409030be85696" category="list-text"><block ref="a490c7654fb37820680409030be85696" category="inline-link-rx"></block></block>
  <block id="8234e771c38838872d9ce34c41413a45" category="list-text"><block ref="247ccd67dce94f92b9c375c9e283f063" category="inline-link-rx"></block> 和<block ref="a5f892fa1025719ddf48936b6f343504" category="inline-link-rx"></block></block>
  <block id="f6221979a57936c360fa8bc88a47bbfc" category="list-text"><block ref="dd9756a496e612071f32226ee38f2034" category="inline-link-rx"></block> 和<block ref="5b480533f4d7011b3051638b246c9215" category="inline-link-rx"></block> 性能</block>
  <block id="a5f47f1d7ec4710f5a4ce738acb4f2d0" category="list-text"><block ref="a5f47f1d7ec4710f5a4ce738acb4f2d0" category="inline-link-rx"></block></block>
  <block id="fbf52d77b102c5b0275172aef62f8f71" category="list-text"><block ref="c3f313fa872d922f0795614e57320226" category="inline-link-rx"></block> 和<block ref="3471027ec32fef8bbfb92bd6cffd1066" category="inline-link-rx"></block></block>
  <block id="f72a403d613739fc4676db93f1b0feac" category="section-title">Astra Data Store 2202.05早期访问计划(EAP)版本</block>
  <block id="8043f66c20269d51b9050f37b4dcba1d" category="paragraph">此版本包含这些已知问题。请仔细查看这些已知问题。</block>
  <block id="6fa95362b5e8257c4f47fd2d5f0167bd" category="section-title">存储后端任务未显示在vSphere中</block>
  <block id="27a4a3c2269e9ecc9166ae1821ad8056" category="paragraph">提交使用现有存储后端或删除存储后端的操作时、此任务不会显示在vSphere客户端的近期任务面板中。</block>
  <block id="0bf2fafe0726b06a07db8408eb64984d" category="section-title">创建VM时会创建额外的文件夹</block>
  <block id="9eff20d24718ad6b7e42021a4ff73448" category="paragraph">在vSphere中创建VM时、有时会创建其他文件夹、而不是在数据存储库下为每个VM创建一个文件夹。</block>
  <block id="5c14c9a9275dd46f844e2b1668bff43d" category="section-title">适用于VMware vSphere的Astra插件中经过筛选的视图间歇性不显示数据</block>
  <block id="093c974c5ea820acfde51e46f5b38e98" category="paragraph">虚拟机的表列筛选器有时会省略经过筛选的数据。而筛选后的视图则显示正在加载图标。要解决此问题、您可以转到另一个视图并重置筛选器以再次显示数据。</block>
  <block id="1f2af2b858729eec618836c95db4d09c" category="section-title">Kubernetes工作节点上的IP地址限制</block>
  <block id="ad6cba8bca4c52b191030e73fa5a3d1d" category="paragraph">在以下情况下、创建Astra Data Store集群失败：</block>
  <block id="0164e066565060c95aa8ab2511df87f4" category="list-text">Kubernetes工作节点的IP地址托管在未分配给Astra数据存储的接口上。</block>
  <block id="ccfbdfd1b2af5208a055a71ed33cc478" category="list-text">此IP地址与分配给Astra数据存储集群的集群/数据IP地址位于同一子网中。</block>
  <block id="b4906e06634c0db2a2ea89b7657231be" category="list-text"><block ref="b4906e06634c0db2a2ea89b7657231be" category="inline-link-macro-rx"></block></block>
  <block id="e06796f5edcbff9ec7a6b060c96e304a" category="paragraph">已知限制用于确定此产品的早期访问计划(EAP)版本不支持或无法与之正确交互的平台、设备或功能。</block>
  <block id="4e6b30aaac636ff7e9473868abb3bd28" category="section-title">Astra Data Store 2022.05早期访问计划(EAP)版本</block>
  <block id="1b5c6e7907cf9c46f5edaff42bd11410" category="paragraph">此版本包含这些已知限制。请仔细查看这些已知限制。</block>
  <block id="c2a27caa6052749bd9639e9099deaa24" category="section-title">VMware集成限制</block>
  <block id="b7b42132f8e93917eac40b208d22bece" category="paragraph">不支持以下功能：</block>
  <block id="4c895c52c73d7bc4c1206b928d336cfb" category="list-text">VM工作流：</block>
  <block id="87b56c556cb4ea3c4e3cb8ed83104abd" category="list-text">克隆VM、包括从模板克隆</block>
  <block id="6a776555e801e78b60b64313ae7f49ea" category="list-text">在先前删除VM磁盘后连接该磁盘</block>
  <block id="7ae1684f637daf6b4d5eee857fd95c23" category="list-text">VVol复制</block>
  <block id="778e60f63232bef57ef209fa59253415" category="list-text">删除VVol数据存储库</block>
  <block id="24f1bc28ac1357d77fb82fad5469c402" category="list-text">一流磁盘(FCD)</block>
  <block id="d86030abdf90a0e463f815e6366bf38e" category="list-text">VMware vMotion</block>
  <block id="fc8417a1a9c240603c6ea7ed80dfce1f" category="list-text">链接模式vCenter服务器</block>
  <block id="e58ea21fa7a2cf557f4a2b3ee7e8d781" category="list-text">合规性警报和通知</block>
  <block id="e093c85dae468ee326e2ad24e1b257fe" category="list-text">多vCenter和多VASA Provider配置</block>
  <block id="0ff2e92edb060c312a7f3936b0db222b" category="list-text">支持每个vCenter配置一个VASA Provider</block>
  <block id="38e4e1097111e25ca1274537b3ba86c4" category="list-text">基于存储策略的管理仅适用于VM级别、在创建VM后无法修改。</block>
  <block id="eceaee41617b6fa1be726b4847035123" category="section-title">无法同时调整多个VM磁盘的大小</block>
  <block id="01b5a07a213a15deedb08ab1e0a37aa9" category="paragraph">对于此版本、一次只能调整一个磁盘的大小。如果您尝试一次调整多个磁盘的大小、则调整大小操作仅适用于第一个磁盘。</block>
  <block id="eddfed0f198c30ec4b6f469b879e29c2" category="summary">您应验证您的环境是否满足将Astra Data Store与VMware组件结合使用的最低要求。</block>
  <block id="cba919d23941a71c5ca07d1ad4960599" category="doc">采用VMware的Astra Data Store要求</block>
  <block id="83200a7b416c2894de313741cd09e9be" category="paragraph">确认您的环境符合常规要求后 <block ref="f6e7a5de97c28034a15c0e13f6029354" category="inline-link-macro-rx"></block>下、您应验证您的环境是否也满足VMware组件的最低要求、例如VMware VASA Provider和适用于VMware vSphere的NetApp Astra插件。</block>
  <block id="22d8a33ddd1ad2931ee044eb27f4fcae" category="section-title">VMware vSphere要求</block>
  <block id="0dc524eca8bef956f9dc60af0e6ac4cf" category="inline-link">VASA Provider要求</block>
  <block id="70ec0c64fd08a25317536e023ea8d4b2" category="paragraph">Astra数据存储使用VMware VASA Provider作为API接口与存储进行通信。确保您的环境满足基本要求<block ref="601e3cf57ed02a0e584e9d5b40ca787c" category="inline-link-rx"></block> 以及以下附加要求：</block>
  <block id="1912eaadbde19c58a2d1a431409f73e5" category="list-text">VMware vSphere 7.0 (支持更新1到更新3)</block>
  <block id="8900408d17d0c74b46c7e8af1efa9789" category="list-text">一个用于传入流量的未分配IP地址</block>
  <block id="b91574f2b1a6f13087e1aa589771948b" category="list-text">适用于VMware vSphere的NetApp Astra插件不支持vSphere 7.0 Update 3c；请改用vSphere 7.0 Update 3D。</block>
  <block id="5ec29d7c6b78b21c802c7aa7f7bd0cde" category="list-text">适用于VMware vSphere的NetApp Astra插件不支持链接模式vCenter服务器。</block>
  <block id="29f43387469561ff2d79f2c25617d1c7" category="section-title">适用于VMware vSphere的NetApp Astra插件要求</block>
  <block id="686d7bc90b9548c7c0a6062e44db97d0" category="paragraph">适用于VMware vSphere的NetApp Astra插件具有以下要求：</block>
  <block id="883d3b177b9973ec4fd8d2358a012d15" category="list-text">在Kubernetes集群上运行的Astra Control Center实例</block>
  <block id="e6a3b2b20c2270575385071d22587cfd" category="list-text">在Kubernetes集群上运行的许可的Astra Data Store实例</block>
  <block id="f370975993dbb1e7c1e24af01ed7986c" category="section-title">支持的 Web 浏览器</block>
  <block id="e24a5b17a49ad963a0af839588f75a64" category="paragraph">适用于VMware vSphere的NetApp Astra插件支持最新版本的以下Web浏览器：</block>
  <block id="c70af508e72e2dc32d72f3765abb21b9" category="list-text">Mozilla Firefox</block>
  <block id="cc680c70e7c90f8caed5b25322087747" category="list-text">Microsoft Edge (基于铬)</block>
  <block id="76868ae832f6c6bd26cadc7d7c269986" category="list-text">Google Chrome</block>
  <block id="f6e7a5de97c28034a15c0e13f6029354" category="list-text"><block ref="f6e7a5de97c28034a15c0e13f6029354" category="inline-link-macro-rx"></block></block>
  <block id="09560ca9937c44c2f9ce68a5f2e30a3e" category="summary">您可以使用Astra vCenter插件用户界面执行Astra数据存储任务。</block>
  <block id="1c73a2d24120f9c2620593055810066f" category="doc">了解采用VMware的Astra Data Store</block>
  <block id="28877f0cec267f7f6d71076941bb4d40" category="paragraph">Astra数据存储既支持容器化工作负载、也支持虚拟化工作负载。通过与VVOL和基于存储策略的管理相集成、vSphere管理员可以应用存储服务质量。适用于VMware vSphere的NetApp Astra插件可提供熟悉的管理和监控体验、从而消除了繁琐的存储任务。</block>
  <block id="b86487710602e47b4f51e975c58f8796" category="paragraph">适用于VMware vSphere的Astra插件具有以下优势：</block>
  <block id="fd687ef46e962f06267d43045b6ad31d" category="list-text">VM粒度存储配置、具有完整的VVOL和VASA集成功能</block>
  <block id="74574db33adfd56ba69c5d78a8e24eb7" category="list-text">基于存储策略的管理集成</block>
  <block id="5791d5ceb12daec0dda645a1f1ab64ae" category="list-text">适用于vSphere原生 管理的vCenter插件</block>
  <block id="3fec43a6800a093697842fb07bd0f83f" category="inline-image-macro">Astra 架构图和组件</block>
  <block id="bd8dc61390a519d78f31214159bb47ff" category="paragraph">下图显示了采用VMware的Astra系列生态系统。<block ref="c074effa6098c13f89f27c39354cf20c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6c72562d5ce9ff25e450a5b6270b81ca" category="summary">您可以使用Astra vCenter插件和VMware vSphere本机功能部署和管理Astra数据存储。</block>
  <block id="7a29b41f76da5ee50c471d7fb7455e1d" category="doc">使用VMware设置Astra数据存储</block>
  <block id="b21ee3aff9622c79dffc1f2513cc9b4c" category="paragraph">您可以将Astra数据存储设置为存储后端、并使用适用于VMware vSphere的NetApp Astra插件对其进行管理。</block>
  <block id="790d02d2d83414f7e61b61d5ce34535b" category="paragraph">在VMware中设置Astra数据存储涉及以下任务：</block>
  <block id="c69e8a11b200a31a3a941f33a3739098" category="list-text"><block ref="04e456c311d82f7c5ea18e894951c3d1" category="inline-xref-macro-rx"></block>。</block>
  <block id="9541cf77b1da73dd47db60d4b9795843" category="list-text"><block ref="66dbe357a2251bd1d5c4fdb0f5b40168" category="inline-xref-macro-rx"></block>。</block>
  <block id="957bacf75280d0730749e65c83cc408a" category="list-text"><block ref="ad40cc0a6ce0106725d774ee828b3498" category="inline-xref-macro-rx"></block></block>
  <block id="e52562af75c9820133b2346a104c6537" category="list-text"><block ref="b6cc3fec315fc2fb0d9a9be32fc01441" category="inline-xref-macro-rx"></block>。</block>
  <block id="ae2709267a3e1dd1e242ba015e1d3c1f" category="list-text"><block ref="ad99dba011a29637cfcd3d764a9fe618" category="inline-xref-macro-rx"></block>。</block>
  <block id="bedf015a94bc460cb8c276d93f67dcc0" category="list-text"><block ref="7191ceb9e7cbbf1052b2727101c948e3" category="inline-xref-macro-rx"></block>。</block>
  <block id="cc8af574a5b27135029f8bec82afcadc" category="paragraph">在使用VMware设置Astra数据存储之前、您需要确保满足以下要求：</block>
  <block id="73329564760013a7824ff9d5d1af91ff" category="inline-link">已安装</block>
  <block id="2f3aed0a9846bf51daa98694af299373" category="list-text">Astra控制中心是<block ref="1b027c268f1a7b02c2d20e35deb0e665" category="inline-link-rx"></block> 并进行设置。</block>
  <block id="cc41262b7d4f903b7e21bdf37c1621f9" category="inline-link-macro">安装 Astra 数据存储</block>
  <block id="be85c0739cb66db5730a127fc4eeca0b" category="list-text">Astra Data Store已获得许可并已部署。请参见 <block ref="14497a94943dc819ca2bc8999e1f8acf" category="inline-link-macro-rx"></block>。</block>
  <block id="bcbfdb4e0453703e1cacd04a44fcf331" category="admonition">对于Astra数据存储早期访问计划("EAP")版本、必须将Astra控制中心和Astra数据存储部署在两个不同的Kubernetes集群中。</block>
  <block id="0dfd76a1e74c0c1c369c6c72f51214c5" category="list-text">用于部署Astra控制中心和Astra数据存储的Kubernetes集群必须已由Astra控制中心进行管理。</block>
  <block id="6ce81e904046a779dc90e25023f4c1fb" category="inline-link">请参见管理软件包</block>
  <block id="943cdfda279a36415463cde698fbed02" category="list-text">在添加vCenter之前、您已上传Astra控制中心和VASA提供程序包。<block ref="72710cc45af0accb224cb54ac4340dda" category="inline-link-rx"></block>。</block>
  <block id="60b6ee39f0ffdc1332e48f1b7c5dca01" category="section-title">使用Astra控制中心激活VMware vSphere服务</block>
  <block id="e0c5552b5f2b718c251a580467f9d74a" category="paragraph">通过激活Astra控制中心上的vSphere服务、开始在VMware中设置Astra数据存储。</block>
  <block id="3f67b07fdddd6c53e5f986bcd2b1c37d" category="admonition">默认情况下、Astra控制中心中的VMware vSphere服务未启用。</block>
  <block id="53a65537f6c43a8e6834a407250a3348" category="list-text">登录到 Astra 控制中心。</block>
  <block id="11c53099ccc43760365f486afcce4bb2" category="list-text">从左侧导航栏中选择*集群*。</block>
  <block id="48ae0853ad0b0cd69ee7d116bb074982" category="paragraph">横幅将显示一条消息、指出VMware vSphere服务尚未启用。</block>
  <block id="e6586d1da53ceaab1dda566b0979f11c" category="list-text">选择*启用VMware vSphere服务*。</block>
  <block id="ad3fedd83eee4911579463eb5966db9a" category="paragraph">此操作可能需要一段时间。启用服务后、*添加vCenter*按钮将启用。</block>
  <block id="99320689299afd3e34c2f05893a58082" category="section-title">使用Astra控制中心添加vCenter</block>
  <block id="acdeb9262b02646a369977cf27e262c0" category="paragraph">添加第一个vCenter、用于注册适用于VMware vSphere的Astra插件。</block>
  <block id="ba7fc14966a7c37356c6bda604dad7ed" category="paragraph">要将vCenter添加到Astra控制中心、您必须具有管理权限。</block>
  <block id="aa0c899a11c221e5e7e9558dca793d69" category="admonition">在将插件注册到VMware vSphere后、适用于VMware vSphere的Astra插件图标将显示在VMware快捷方式页面中。</block>
  <block id="0fad596c25ef36a260c47293acf33a48" category="list-text">选择*添加vCenter*。</block>
  <block id="a0a8b1aa27af5f2fc2bcfc0acdda85d5" category="list-text">输入vCenter Server详细信息、vCenter端口以及管理用户名和密码、以便将其提供给Astra控制中心。</block>
  <block id="947bcbd9c287211ea4b30b8fb1a45b2e" category="admonition">这样可以在VMware vSphere客户端中为此vCenter部署Astra插件。</block>
  <block id="fa12509cfb8e8ccded16e2a254e988c4" category="list-text">选择 * 添加 * 。</block>
  <block id="93a08631aeacb0ac70b6fe65137a2cd0" category="paragraph">vCenter将显示在集群页面上、受管vCenter的总数将在Astra控制信息板上进行更新。此操作还会启动适用于VMware vSphere的Astra插件部署。</block>
  <block id="2cd531d2abc5ef1a434ac99df40d5bd4" category="section-title">验证是否添加了vCenter</block>
  <block id="f960bc7dd08053c0280fbe8dea5ef81c" category="paragraph">新添加的vCenter将显示在"Clusters"页面和"Dashboard"上。</block>
  <block id="7da48133c80b6e12f71368f967ca74fd" category="admonition">vCenter和Kubernetes集群都会显示在Astra控制中心信息板上。</block>
  <block id="eb26c79c71132365d808a273d3f69989" category="list-text">访问Astra控制中心。</block>
  <block id="e870acbfccc095cad92f0cbe30b9f893" category="list-text">验证新管理的vCenter是否显示在"Clusters"页面上。</block>
  <block id="f86ae780bd44417aa9ef5e1e89eba25e" category="list-text">从左侧导航栏中选择 * 信息板 * 。</block>
  <block id="605e009665b04e20372ebc2ba97d022c" category="list-text">在Astra控制中心信息板中、记下新的受管vCenter集群作为*受管*计数的一部分。</block>
  <block id="18d0f4659332924673d81e05721cdfd8" category="admonition">受管集群计数包括vCenter和Kubernetes集群。</block>
  <block id="88f0e74c1cdc4d02ca371bba4cc9a859" category="list-text">要查看集群详细信息、请单击*受管*计数。</block>
  <block id="1c22589a9ea9c86c972ef770e21362df" category="paragraph">此时将显示集群页面。</block>
  <block id="7ab39a7e1220199033bdb2c689d88de2" category="section-title">创建自定义SCC (如果使用OpenShift)</block>
  <block id="0914a3ba2c7f194b284150d5272633e6" category="paragraph">如果您使用的是OpenShift、则可以选择分配安全上下文约束(SCC)、以控制Pod可以执行的操作并控制Pod可以访问的内容。</block>
  <block id="5ce20087add668ed076c67d660123eb8" category="paragraph">默认情况下，任何容器的执行都将获得受限的 SCC ，并且仅获得该 SCC 定义的功能。受限SCC不提供VASA Provider Pod所需的权限。使用此操作步骤 为VASA Provider部署所使用的服务帐户提供所需的更高权限(在示例中列出)。</block>
  <block id="7565f91d01ffbbd3279aa0c17374ef22" category="paragraph">为Astra Data Store "NTV-system"命名空间的各种默认服务帐户分配一个自定义SCC、该命名空间由特权和节点-导出程序的SCC混合而组成。</block>
  <block id="f0a37bb5914b939b626f0b0e0857fc18" category="list-text">创建名为`vp-backend_privileged_scc.yaml`的自定义SCC：</block>
  <block id="80dc9cf20c5951503f82030e6281bc1b" category="paragraph">示例：VP_backend_privileged_SCC.YAML</block>
  <block id="c5a974f7c799bb82fa13331464915a25" category="section-title">在适用于VMware vSphere的Astra插件中使用现有存储后端</block>
  <block id="85ffd2e445532bc257276b7dbe15d3cb" category="paragraph">使用Astra控制中心UI添加vCenter后、使用适用于VMware vSphere的Astra插件添加Astra数据存储存储后端。</block>
  <block id="6d8c2b22c555671c4763d57779c553f6" category="paragraph">此过程将完成以下操作：</block>
  <block id="16f74d858b39be1bcbf559502f3c45cb" category="list-text">将现有存储后端添加到选定vCenter。</block>
  <block id="bf6158455b90408eeed049516045305c" category="list-text">向选定vCenter注册VASA Provider。VASA提供程序可在VMware和Astra Data Store之间提供通信。</block>
  <block id="5f217a62c0901005d1459081ec1ec864" category="list-text">将VASA Provider自签名证书添加到存储后端。</block>
  <block id="2fcdf56e9820af40c4076985811b5041" category="admonition">有时、您添加的vCenter可能需要10分钟才能显示在存储后端向导中。</block>
  <block id="7765d8b6344ab1b3c9515185491be6b2" category="admonition">Astra数据存储不应与多个vCenter共享。</block>
  <block id="afb52bd4ad10674bfac7c825c61edd25" category="list-text">访问适用于VMware vSphere的NetApp Astra插件。</block>
  <block id="f1383a5412284a8236d8b2ec9c6c3f68" category="list-text">从左侧导航栏中选择*适用于VMware vSphere的Astra插件*、或者从快捷方式页面中选择*适用于VMware vSphere的Astra插件*图标。</block>
  <block id="752977bf341de58b1a12a46eadb52a78" category="list-text">从适用于VMware vSphere的Astra插件概述页面中、选择*使用现有存储后端*。或者、从左侧导航栏中选择*存储后端*&gt;*添加*、然后选择*使用现有存储后端*。</block>
  <block id="c678893e00675b061528555ef1128101" category="list-text">选择现有的Astra数据存储作为存储后端、然后选择*下一步*。</block>
  <block id="b2e8dd615853af7e8c0377a4e887c046" category="list-text">在VASA Provider页面上、输入VASA Provider名称、IP地址(如果使用负载平衡器)、用户名和密码。</block>
  <block id="d348a0153dc3c114eb93df389c6c38d6" category="admonition">对于用户名、可以使用字母数字字符和下划线。请勿输入任何特殊字符。用户名的第一个字母必须以字母字符开头。</block>
  <block id="7f40185ba65fe18c8314c99f4ce80144" category="list-text">指示是否要部署负载平衡器并输入IP地址、此地址将用于访问VASA提供程序。此IP必须是一个与节点IP不同的可路由可用IP。启用负载平衡器后、Metallb将部署在Astra Data Store Kubernetes集群中、并配置为分配可用IP。</block>
  <block id="349601af61e5f7a095b73b034aea232b" category="admonition">如果要使用Google Anthos集群进行部署、请选择不部署负载平衡器、因为Anthos已经将metalb作为负载平衡器运行。在VASA Provider CR (v1beta1_vasaprovider.yaml)中、metalb Deploy标志应设置为false。</block>
  <block id="41a4fa4087eb7ef8e05a87497cd4d131" category="paragraph">如果选择不部署负载平衡器、则假定已部署并配置负载平衡器、以便为类型为*负载平衡器*的Kubernetes服务分配IP。</block>
  <block id="ab977cc7b0814aa2d8276ef05fadd2fe" category="admonition">此时、尚未部署VASA Provider。</block>
  <block id="e6cd86d61f4639c8a27006c6c29b3e9f" category="list-text">选择 * 下一步 * 。</block>
  <block id="57efad524498801f321a01a38b356137" category="list-text">在证书页面上、查看自签名证书的证书信息。</block>
  <block id="9784f61383eee40467773f7478f269f3" category="list-text">查看摘要信息。</block>
  <block id="50dccdb7146e60a37dca4f64044f2e79" category="paragraph">此操作将部署VASA Provider。</block>
  <block id="e364aa90f0aeb81f9d83c93df4008a93" category="section-title">在适用于VMware vSphere的Astra插件中验证存储后端</block>
  <block id="54bee238fbfa143ffdc73a40c9a64450" category="paragraph">注册Astra Data Store存储后端后、它将显示在适用于VMware vSphere的Astra插件存储后端列表中。</block>
  <block id="b78a11dee4db06f9dc25fc4d8c88f214" category="paragraph">您可以确定存储后端状态和VASA Provider状态。您还可以查看每个存储后端的已用容量。</block>
  <block id="c86d559e1f379de404a5e0630b708b3e" category="paragraph">选择存储后端后、您还可以查看已用容量和可用容量、数据缩减比率以及内部网络管理IP地址。</block>
  <block id="3d91a39d1f8d0028515c06a2ed733617" category="list-text">在适用于VMware vSphere的NetApp Astra插件中、从左侧导航栏中选择*存储后端*。</block>
  <block id="89ae3fa779ceec98865566efd474a8e3" category="list-text">选择Astra Data Store存储后端以查看摘要选项卡。</block>
  <block id="9a8ff5f8803d7110dc424082a7743b51" category="list-text">查看VASA提供程序的已用和可用容量、数据精简率和状态。</block>
  <block id="abe44b27d60abf50d0e1d78a9988587c" category="list-text">选择其他选项卡可查看有关VM、数据存储库、主机和存储节点的信息。</block>
  <block id="8137e99da2b3e28e536857dfc06c1c74" category="section-title">使用适用于VMware vSphere的Astra插件创建数据存储库</block>
  <block id="a867d990c241b8ed7a44590c031c8077" category="paragraph">添加存储后端并注册适用于VMware vSphere的Astra插件后、您可以在VMware中创建数据存储库。</block>
  <block id="c3b02d8bf548ab785771df29e1c2e764" category="paragraph">您可以将数据存储库添加到数据中心、计算或主机集群。</block>
  <block id="77cbab0827a54224a5faf8bf4489d781" category="admonition">您不能使用同一存储后端在同一数据中心下创建多个数据存储库。</block>
  <block id="c865f21fce10a2bb9c2fd96ff27f5588" category="paragraph">您可以使用NFS协议添加VVol数据存储库类型。</block>
  <block id="90253eb7e0e09fc302d12b4777f01364" category="list-text">访问适用于VMware vSphere的Astra插件。</block>
  <block id="2fbb455db0263fe05b4136f837b4a37c" category="list-text">从插件菜单中、选择*创建数据存储库*。</block>
  <block id="994b3d366dd864ca7ade1bddee783e69" category="list-text">输入新的数据存储库名称、类型(VVol)和协议(NFS)。</block>
  <block id="92ff48293d144834a4417cdf90af4523" category="list-text">从存储页面中、选择您刚刚创建的Astra Data Store存储后端。</block>
  <block id="53832a78c63e862bf340ad168f72d63c" category="admonition">您不能使用具有现有数据存储库的存储后端。</block>
  <block id="9853374c8f28884b73fb114a14542e6c" category="list-text">在摘要页面中、查看相关信息。</block>
  <block id="bf18811faac9b8e4fcaebab51afd1113" category="list-text">选择 * 创建 * 。</block>
  <block id="5df76ef187b51bae952b4a4647638bd7" category="inline-link">在vCenter上重新扫描/同步存储提供程序</block>
  <block id="09bd9ab75d8fedcb3ed41b119976fb6e" category="admonition">如果遇到与扫描失败或常规系统错误相关的错误、<block ref="70bf8bc64b01f762cf314b94bab4d56e" category="inline-link-rx"></block> 然后尝试重新创建数据存储库。</block>
  <block id="beb8b1663d88d4ac537e143aa3ee7cfc" category="section-title">生成VM存储策略</block>
  <block id="cb6034c4bdd4cb3abd4f83f86fe6c873" category="paragraph">创建数据存储库后、在创建VM之前、您应使用REST API UI中的`/virtual/apI/v1/vCenters/VM-storage-policies`生成预先设计的VM存储策略。</block>
  <block id="8a1a05ccc98d98fbe6fdf662c2b4e8bf" category="list-text">要访问REST API UI页面、请转到`https://&lt;ads_gateway_ip&gt;:8443`。</block>
  <block id="4743aa7f489763c645497c07a5f92ddf" category="list-text">转至API `POST /virtual/apI/auth/login`并提供用户名、密码和vCenter主机名。</block>
  <block id="bdcfef246aebf5b9aaa77ecf1b0069e5" category="list-text">转至API `GET /virtual/apI/auth/validate-session`并完成以下步骤：</block>
  <block id="a2fb01537dcc09b79df57267c0de0713" category="list-text">使用上面生成的`vmware-api-session-id`和`vCenter-guid`作为标头。</block>
  <block id="74202156085c789d68f156147dd77cf8" category="list-text">选择*立即试用*。</block>
  <block id="c72308ddf9a2839150ee1841bb66650c" category="paragraph">响应：(身份验证截断如下)：</block>
  <block id="e581b3e7538cc40bbd424d88f89f02ff" category="list-text">转至API `虚拟化/apI/v1/vcenters /vm-storage-policies`、并将在上一响应中生成的承载令牌添加为"authorization"。</block>
  <block id="6eb89228791ba54ce0c4682b72e52b62" category="paragraph">此时将显示"200"响应、并生成三个VM存储策略。</block>
  <block id="4682f0e49911e3f65336b1d199c0f523" category="list-text">在vCenter存储策略页面上验证新的虚拟机存储策略(名为铜牌、银牌和金牌)。</block>
  <block id="ff858d098f01700f18039de441a46078" category="list-text">请继续创建VM。</block>
  <block id="7a4fdcdb4e17e15e4e77d50745e091da" category="paragraph">接下来、您可能需要执行以下任务：</block>
  <block id="947df9d17b3ce5dffbfe4a4e6034041f" category="list-text">创建VM。</block>
  <block id="ee6f3e4aa0ce4995d875870025671a98" category="inline-link-macro">挂载数据存储库</block>
  <block id="1034a2ad68283c3f449b96452fa7e663" category="list-text">挂载数据存储库。请参见 <block ref="10a5018fbe2fef500b49bc28121bf182" category="inline-link-macro-rx"></block>。</block>
  <block id="0b13ca888c75f0dc072ecf980f5f84f0" category="summary">您可以从vSphere环境中卸载Astra数据存储及其相关组件。</block>
  <block id="3622b6033accc40d6fdd52226e017069" category="doc">从VMware集成环境中卸载Astra Data Store</block>
  <block id="9ac0dd27d420b7b48ca72e463ae95e18" category="inline-link-macro">这些说明</block>
  <block id="e57b127ca38d11c27d5bbdba415f3c1b" category="paragraph">请参见 <block ref="eca0fdbea5c890284f0074efeec50402" category="inline-link-macro-rx"></block> 卸载Astra数据存储时。</block>
  <block id="d75b2051d7c1a8a0de7272f7d6e6fe15" category="summary">您可以使用VMware应用程序管理Astra数据存储库。</block>
  <block id="2272ee12c6ee15c7d4a0c8a761ca720d" category="doc">管理VMware安装的Astra Data Store组件</block>
  <block id="e6d17fdaaf410c40031d8e2c38d3df12" category="paragraph">您可以在vSphere环境中以及从Astra控制中心管理以下Astra数据存储组件：</block>
  <block id="f6b0361b5f13b55defce323d89045eb9" category="list-text"><block ref="99870f30387e6ec6033ac27cd94247a6" category="inline-xref-macro-rx"></block></block>
  <block id="7c1198b22163f24aabcd2a5c4e7d1b3b" category="list-text"><block ref="9ae9897819545cc857098fd27085dff4" category="inline-xref-macro-rx"></block></block>
  <block id="e7701dbfc04de83adc34731d71f5fc2a" category="list-text"><block ref="05f7b5ad8f2bc3deafbbe4f84f5045bb" category="inline-xref-macro-rx"></block></block>
  <block id="8ff5ace4b864779e293ad4485f0a9cc7" category="list-text"><block ref="9df66c669763004bfedafcea18c63df4" category="inline-xref-macro-rx"></block></block>
  <block id="4298fbbe5dd3788a1475d9b6adc477f7" category="section-title">使用受管vCenter</block>
  <block id="b7fb2434c9efb5263518cd1c5bfd1881" category="paragraph">您可以通过以下方式使用受管vCenter：</block>
  <block id="169b051ac7a19268270933f087b4723a" category="list-text"><block ref="b003a696200d90454e3aafb75476d805" category="inline-xref-macro-rx"></block></block>
  <block id="528bf8fed3833609a8606dcfdefcd524" category="list-text"><block ref="0abd92a1c86333fcfe9ec7b0660d1b3f" category="inline-xref-macro-rx"></block></block>
  <block id="b83137924d99bb5de40b952fe61a0653" category="section-title">在Astra控制中心中查看vCenter详细信息</block>
  <block id="c34108e55b517f6cf83cb46f4b779756" category="paragraph">您可以确定与集群关联的所有vCenter。</block>
  <block id="18a6644d06364e3305980032510ab901" category="list-text">从Astra控制中心左侧导航栏中、选择*集群*。</block>
  <block id="191f60f67ed438c731c21a1f0f46d3d8" category="list-text">查看vCenter列表。</block>
  <block id="10492389e94efdebbb66f7b0cd8a1324" category="list-text">选择 * 保存 * 。</block>
  <block id="1d60a81d3a43f4a03db304b020912b57" category="paragraph">您可能希望查看系统和集群的运行状况。您可以通过查看Astra控制中心信息板来确定管理的集群数量。</block>
  <block id="ac32575100b349c34697e030f091bd1a" category="list-text">选择vCenter。</block>
  <block id="f74976be21aea43737217a36083c3310" category="list-text">查看相关信息。</block>
  <block id="acc9a7cf342a525b0f9386f9d74d45fd" category="section-title">在Astra控制中心取消管理vCenter</block>
  <block id="3e0b1d2a983f393fe3895ac9de36e99b" category="paragraph">如果您不再希望Astra控制中心管理vCenter、则可以取消对其进行管理。此操作将从Astra控制中心删除和取消注册vCenter。</block>
  <block id="604e26f06c0297defbfe2a76b1443941" category="admonition">必须先从适用于VMware vSphere的Astra插件中删除与此vCenter关联的集群、存储后端和VM。</block>
  <block id="d9a51bc508f705e79140350573fad4c7" category="list-text">从集群页面中、选择vCenter。</block>
  <block id="d7cd02066d29b22648a8e48cc2a45418" category="admonition">或者、选择多个vCenter并选择*取消全部管理*。</block>
  <block id="ad914f395cbe91daf0e282d1484fc6c0" category="list-text">右键单击*操作*菜单并选择*取消管理*。</block>
  <block id="eea90fd49cf4ad1b67aeda35cc2a042a" category="list-text">在Unmanage vCenter页面中、键入"unmanage"。</block>
  <block id="7c41b782dd1e02f28a0acc0e306e86c6" category="list-text">选择*是、取消管理vCenter*。</block>
  <block id="f607492d2844a8b5ddb4ac342fa5ad68" category="section-title">从vSphere管理VM</block>
  <block id="1829fbbd43ea39b9b5a1442b8fd409c7" category="paragraph">您可以使用原生 vSphere操作管理与Astra数据存储关联的VM。</block>
  <block id="a2ab61c071eb75016ab998f665cb8517" category="inline-link">删除虚拟机</block>
  <block id="46b555fb4c3c08445a491b0fed36a9a0" category="list-text"><block ref="46b555fb4c3c08445a491b0fed36a9a0" category="inline-link-rx"></block></block>
  <block id="311f0bb2793ed262bf01f4ace468df1d" category="inline-link">重命名VM</block>
  <block id="2140df51033440c4a8adcd7c13f9ecdd" category="list-text"><block ref="2140df51033440c4a8adcd7c13f9ecdd" category="inline-link-rx"></block></block>
  <block id="642d962c96c317c5eabe3c5686b91538" category="inline-link">调整VM大小</block>
  <block id="269cfd847e2e5a4a649ba8317fe7acd8" category="list-text"><block ref="269cfd847e2e5a4a649ba8317fe7acd8" category="inline-link-rx"></block></block>
  <block id="16373d0aabe927738354636de18d282f" category="admonition">在此版本中、一次只能调整一个VM磁盘的大小。尝试调整多个磁盘大小将失败。</block>
  <block id="f31743fb0996c5daaf0c23309c182651" category="inline-link">打开或关闭VM</block>
  <block id="bfd497934d751612035bf77b03eac94a" category="list-text"><block ref="bfd497934d751612035bf77b03eac94a" category="inline-link-rx"></block></block>
  <block id="0acd6e91c242791a82ebd007d855fb6d" category="inline-link">暂停虚拟机</block>
  <block id="fea26609f77628258103c6aded8ee3fe" category="list-text"><block ref="fea26609f77628258103c6aded8ee3fe" category="inline-link-rx"></block></block>
  <block id="7b42bd5fb1c92d53fbba841d6c7119fb" category="inline-link">重置虚拟机</block>
  <block id="16eb621eaa346be173171440695f312f" category="list-text"><block ref="16eb621eaa346be173171440695f312f" category="inline-link-rx"></block></block>
  <block id="4fd44a5e453ca40d7bddbdeb10948a31" category="paragraph">使用原生 vCenter操作的Astra数据存储可使用以下快照工作流：</block>
  <block id="431a1cc5f7f43264b430184184f3dc63" category="inline-link">创建Astra数据存储的快照</block>
  <block id="3552e06381de8f39902a758b8ab23126" category="list-text"><block ref="3552e06381de8f39902a758b8ab23126" category="inline-link-rx"></block></block>
  <block id="6f010742e9cbc8e82632fc2f79c03493" category="inline-link">还原快照</block>
  <block id="7971ae83cb7454624ae25ac20ab37e65" category="list-text"><block ref="7971ae83cb7454624ae25ac20ab37e65" category="inline-link-rx"></block></block>
  <block id="efb44cfe1d5b8d9954ea045385675c66" category="inline-link">删除快照</block>
  <block id="a5e30ba6c6805efbb9fca0b839a05aeb" category="list-text"><block ref="a5e30ba6c6805efbb9fca0b839a05aeb" category="inline-link-rx"></block></block>
  <block id="c402660ec081eb375b5f7f9b8bb69fcc" category="admonition">Snapshot操作有时可能会失败、并显示VVol运行时错误。如果发生这种情况、请重试此操作。</block>
  <block id="7caee76c2dc8935a37de1c05171523df" category="section-title">管理存储后端</block>
  <block id="7f018c16754ba4cc0c1def697e4fa4ab" category="paragraph">您可以删除存储后端。删除存储后端不会将其销毁、也不会删除Astra Data Store产品本身；它只是从VMware取消注册VASA Provider并取消该vCenter的存储后端链接。</block>
  <block id="b99c56b4c3548ce4247a56a390a2e187" category="admonition">如果VASA Provider已启用并部署在vCenter外部、则只能删除Astra数据存储。如果在配置数据存储库过程中使用存储后端、您将无法删除存储后端。</block>
  <block id="8807cbaa7b377eae100c119e0fd127ac" category="paragraph">如果Astra数据存储未链接到多个vCenter、则删除该vCenter后、VASA Provider将被取消注册并卸载。</block>
  <block id="fc76dc973f3bd27083143cfad22c5e54" category="list-text">访问适用于VMware vSphere的Astra插件。 </block>
  <block id="93ecd255e1cc055e6cb214831bd0cf20" category="list-text">从左侧导航栏中、选择*存储后端*。 </block>
  <block id="b9edd5a8fc93c68dccc36bea7f1c6a9a" category="list-text">在存储后端页面上、单击存储后端操作菜单并选择*删除*。</block>
  <block id="0041ebe38407c4ad9c3f4a802c6f9f9d" category="list-text">输入VASA Provider用户名和密码。 </block>
  <block id="6f99fa9b2e1f4893851a8aeb82d171f9" category="list-text">选择 * 删除 * 。</block>
  <block id="1b8a04f09ff55290753a17988fd53c2a" category="section-title">管理数据存储库</block>
  <block id="4ae09d5c4798076c78486b8e81010943" category="paragraph">您可以使用原生 vCenter操作来管理VM、并使用Astra插件扩展来管理数据存储库、从而在vSphere环境中管理Astra数据存储库：</block>
  <block id="484cebc53125766b84254b2ca0899b9c" category="inline-link-macro">创建数据存储库</block>
  <block id="9cd1c64dfaa2211c2eef51957c8663af" category="list-text"><block ref="3af1df109abd900b3c49d23f21726063" category="inline-link-macro-rx"></block> </block>
  <block id="7fd1958ad9f36f8bbe12a3e7d16e48e5" category="list-text"><block ref="b825f0b15fe9c7bc3274c34fb9672af0" category="inline-xref-macro-rx"></block></block>
  <block id="23b081e2c4ea680f5f8a6e9d000547ca" category="list-text"><block ref="f1db34a1e025f6da80e53874daaca648" category="inline-xref-macro-rx"></block></block>
  <block id="a7b47744c6872031f563996e20b0ed39" category="paragraph">使用适用于VMware vSphere的Astra插件、您可以将数据存储库挂载到一个或多个其他主机上。</block>
  <block id="b8a4590511f391b054da86a55cf2b290" category="list-text">从vCenter中的数据中心清单中选择用于Astra数据存储的数据存储库。</block>
  <block id="95deb235e84972909e014f08e083cf37" category="list-text">右键单击数据存储库、然后选择*适用于VMware vSphere的Astra插件*&gt;*挂载数据存储库*。</block>
  <block id="1fbbec182b1aa0f03036d39842ab82fd" category="list-text">从在主机上挂载数据存储库页面中、选择要挂载数据存储库的主机。</block>
  <block id="6c864705b33c1d2301046bdee495d6c7" category="admonition">如果要在所有主机上挂载数据存储库、请选中*在所有主机上挂载*。</block>
  <block id="323cb13a249fb1234a1e769718cd8271" category="list-text">选择*挂载*。</block>
  <block id="c46d0363f9d38d2b3918a914a18e4c1f" category="paragraph">启动此操作后、您可以在vSphere Client的近期任务面板中按照进度进行操作。</block>
  <block id="b23c0d1300af82713608ff50bd4b5049" category="section-title">删除数据存储库</block>
  <block id="09c5f3999b292421fca760e20e4bdfbc" category="paragraph">使用适用于VMware vSphere的Astra插件、您可以删除数据存储库。</block>
  <block id="53047fafc3d218172870e434ff1a6220" category="admonition">要删除此数据存储库、必须先删除此数据存储库上的所有VM。</block>
  <block id="8652ade6ae3315f9a6447be9f24731a5" category="list-text">从vCenter中的数据中心清单中选择数据存储库。</block>
  <block id="889357a4cd6d3981c477d26a0bb6355f" category="list-text">右键单击数据存储库、然后选择* Astra插件*&gt;*删除数据存储库*。</block>
  <block id="415c84b02f136d71f42e1520b91cd93b" category="list-text">在删除数据存储库页面中、确认此信息或采取其他建议的操作、以便可以删除此数据存储库。</block>
  <block id="120cb1dedb3cb850497d8e2bcbda8720" category="list-text">选择*删除*。</block>
  <block id="2884b907d49ab64f91d36a9d7864ef2d" category="summary">您可以使用vCenter插件监控Astra Data Store性能。</block>
  <block id="bf4fcd80a3890e6d3d9670f0f2857376" category="doc">监控VMware安装的组件</block>
  <block id="1cf2152f367ce6531ea441b86461088c" category="paragraph">您可以使用适用于VMware vSphere的NetApp Astra插件监控Astra Data Store安装的组件。您可以监控系统的运行状况、包括存储后端、VASA Provider、VM和VVOL。您还可以查看容量和vCenter信息。</block>
  <block id="8b6a517f582199cea9c11d6c68e859da" category="section-title">使用适用于VMware vSphere的Astra插件信息板监控系统的运行状况</block>
  <block id="8993b50031dbc1e025d6d457415f6fea" category="paragraph">使用VMware环境管理Astra数据存储涉及监控存储后端和VASA提供程序的整体运行状况。</block>
  <block id="829df34a23216a9d32a0363afa773cd1" category="paragraph">使用适用于VMware vSphere的NetApp Astra插件信息板、您可以查看以下信息：</block>
  <block id="8ec609d01dd0de679c55b728bb81866f" category="list-text">此vCenter中所有存储后端的已用物理容量和可用容量。您可以将鼠标悬停在信息上并查看更多详细信息。</block>
  <block id="0abddef121ec8fbd63efae2939a530df" category="list-text">运行状况良好且运行状况不正常的存储后端和VASA提供程序</block>
  <block id="078831a4f72474f0c7d00b1515239094" category="list-text">排名前10位的VM的延迟、IOPS、吞吐量和容量利用率。</block>
  <block id="7417d9f0d1b81d9ecaad3182e2604090" category="paragraph">在信息板中、您可以执行多项附加任务：</block>
  <block id="6a8c90daea2cf75a52a66e44ec3aa9b7" category="list-text">监控容量</block>
  <block id="7ce81d6eecee74ba9fca749bc7192217" category="inline-link-macro">设置存储后端</block>
  <block id="98f72e2ef6cb0d194e03209fd15ac067" category="list-text">使用现有存储后端。请参见 <block ref="032a8bfed1fea016cfa96981c45325a6" category="inline-link-macro-rx"></block>。</block>
  <block id="f8a2e2d6a1c4bd48c857dc364e53904c" category="list-text">访问产品文档</block>
  <block id="6865db346457832ca280bb3b8c83908a" category="list-title">查看信息板的步骤</block>
  <block id="156c7728ee4b9506e944cccd369af00d" category="list-text">在概述页面中、查看以下部分：</block>
  <block id="4071ab52a41bd59d681edbae3ab9bf72" category="list-text">*存储后端*部分：您可以单击存储后端和VASA提供程序的状态以查看其状态的详细信息。您也可以单击以查看所有存储后端。</block>
  <block id="8594f80b8db1cd6f5c6c30f8e94241ef" category="list-text">*存储后端容量*部分：查看选定vCenter中存储后端的总物理已用容量和可用容量。要更改vCenter Server、请单击右上角的vCenter Server选项。</block>
  <block id="79b12dd0f9cc2762ff5703a1740962a6" category="list-text">*虚拟机*部分：查看容量利用率排名前10位的虚拟机。</block>
  <block id="72dba8e8f047200eed3acfcef76ed9e8" category="admonition">您可以改为单击表标题来显示所需内容、例如、延迟较高的前10个VM。</block>
  <block id="c807175561548f1ef39eeb278b3494cf" category="list-title">在其他视图中监控Astra数据存储的步骤</block>
  <block id="94e4e877b4891568e73e04affc22106b" category="list-text">访问以下视图以监控Astra数据存储组件：</block>
  <block id="0a03520b7ce85bc3e2a7c57a2e9d4634" category="list-text">*虚拟机*选项卡：列出由Astra数据存储管理的所有虚拟机、与信息板相比、信息板仅列出排名前10位的虚拟机。</block>
  <block id="959501ff08043e6098fbb31d636d0e0e" category="list-text">*存储*深入分析：显示与存储系统关联的主机、虚拟机和数据存储库。</block>
  <block id="ea2bcf33cf00113fdf96990efc6bd902" category="list-text">*虚拟机存储*视图：提供VASA提供程序创建的VVOL的详细信息。</block>
  <block id="e5aeacbaec2ebe1788b6d9add6e6bf44" category="section-title">查看存储后端阈值设置</block>
  <block id="5c672cd313df9553dea5f40875212d7a" category="paragraph">存储后端容量阈值设置用于控制何时在存储后端的所有数据存储库上显示警报通知。</block>
  <block id="d79c29c111d6498fc594442bd7598e47" category="paragraph">使用适用于VMware vSphere的Astra插件部署或添加存储后端时、系统会设置以下默认阈值：</block>
  <block id="4a4a63332b856d9fb0966661f735d9e3" category="list-text">90%全满会生成红色警报</block>
  <block id="3604a3f0deb61f5b8f4a46e26c56da92" category="list-text">80%全满会生成黄色警报</block>
  <block id="891e8af721bed9facf83bcb44a555eca" category="paragraph">您可以在VMware中查看系统生成警报的级别。</block>
  <block id="2e648c3508c5ac7d2669c20aa2eb0293" category="admonition">对于Astra数据存储早期访问计划、如果在多个数据中心中使用同一个存储容器、则可能会看到数据存储库的警报不正确。</block>
  <block id="7b590af4bf5a7df03d553e3e62164c73" category="list-text">从左侧导航栏中、选择*设置*。</block>
  <block id="97571cc54e2ef7e238a179d171d3d870" category="list-text">查看设置阈值。</block>
  <block id="be1c3d3113c4023e29e8dd947523c711" category="doc">Astra Data Store 文档</block>
  <block id="a92544fbf21bbd8160b18faa296d373d" category="doc">管理Astra数据存储集群</block>
  <block id="25cabe14807599db8367c88798c5dc76" category="paragraph">您可以在Astra Data Store中使用kubectl命令来管理集群。</block>
  <block id="043a41cdb4a4b29671e0916f69184c65" category="list-text"><block ref="daeda8319454577569ff707f7b5a002b" category="inline-xref-macro-rx"></block></block>
  <block id="a5d9a9b536eb568042643303c7b69bde" category="list-text"><block ref="5fce5e168f32caa0e1b27a4b963a7b1a" category="inline-xref-macro-rx"></block></block>
  <block id="cb3771fdc03f2172ef9dfc6a47a8441c" category="list-text">安装了 kubectl 和 kubectl-astrad 插件的系统。请参见 <block ref="14497a94943dc819ca2bc8999e1f8acf" category="inline-link-macro-rx"></block>。</block>
  <block id="cca05d90c5263f2a5fa3bf4eb854fba0" category="inline-link">将节点添加到存储后端集群</block>
  <block id="7040c3cb1552931a9ca1c0900cd941e8" category="admonition">要使用Astra控制中心添加节点、请参见<block ref="d32d04e907c131201f16fcf180fd6c9c" category="inline-link-rx"></block>。</block>
  <block id="e27223ce998784f689ee567427703f35" category="list-text">如果新节点的dataIP尚未加入Astra Data Store集群CR、请执行以下操作：</block>
  <block id="919cf57c6ffe7f0af2d144623c3f4ac4" category="list-text">编辑集群CR并在`adsDataNetworks`*地址*字段中添加额外的dataIP。将以大写字母表示的信息替换为适合您环境的值：</block>
  <block id="5bd102dbfd96965358730e611c7ade4c" category="list-text">将节点添加到Astra Data Store集群。将以大写字母表示的信息替换为适合您环境的值：</block>
  <block id="4d60f28cb5e82555303e23bef3f68e66" category="list-text">否则、只需添加节点即可。将以大写字母表示的信息替换为适合您环境的值：</block>
  <block id="8242e1e6f0b4d3ca88c85fe8454bebb3" category="section-title">删除节点</block>
  <block id="df8f73fb6a05d8491ee7ec5127f4ec1f" category="paragraph">对Astra数据存储使用kubectl命令删除集群中的节点。</block>
  <block id="a4328c25f23059f2b85196ddb34d1160" category="list-text">标记要删除的节点。将以大写字母表示的信息替换为适合您环境的值：</block>
  <block id="39209059811759f8d6ac5d2879253b93" category="paragraph">将节点标记为要删除后、节点状态应从`active`更改为`present`。</block>
  <block id="dcb4f5754e0406182e16e3a4d8e6e748" category="list-text">验证已删除节点的`Present`状态：</block>
  <block id="1777a55388b4e94cfa241ea90b913e60" category="list-text">从节点中卸载Astra数据存储。将以大写字母表示的信息替换为适合您环境的值：</block>
  <block id="ad170426243f8501281a8a93527aac50" category="paragraph">此节点将从Astra数据存储中删除。</block>
  <block id="4b293c07da1231c38e718a2686a65300" category="admonition">此节点必须已属于Astra Data Store集群。</block>
  <block id="8cb547c04d4996106e5fe5ad2d87a09d" category="paragraph">当节点处于维护模式时，您无法向集群添加节点。在此示例中、我们会将节点`nhcitj1525`置于维护模式。</block>
  <block id="a01f1d97401699519453ec0f38f79f82" category="list-text">启用维护模式。将以大写字母表示的信息替换为适合您环境的值：</block>
  <block id="506c2c0c7f5b70af3df68c45c46f45a7" category="paragraph">例如：</block>
  <block id="95cb3e9faf021a4f27516ed3be899e35" category="list-text">列出节点：</block>
  <block id="fba5b8036d11174588956a5c57c0c351" category="section-title">向节点添加驱动器</block>
  <block id="88765c17f316e9ff0c90f9167b8b10d8" category="paragraph">将kubectl命令与Astra Data Store结合使用、以便向Astra Data Store集群中的节点添加物理或虚拟驱动器。</block>
  <block id="d24673270baeb853b97cb54fb3178a0a" category="list-text">一个或多个满足以下条件的驱动器：</block>
  <block id="3459384351b579a4c17827028c0ba372" category="list-text">已安装在节点(物理驱动器)中或已添加到节点VM (虚拟驱动器)中</block>
  <block id="dc41a98c5fd0b5173bf51e7e18531ce6" category="list-text">驱动器上无分区</block>
  <block id="03383f678996aaa1e1da7227877d5dcc" category="list-text">驱动器当前未被集群使用</block>
  <block id="20c889a71cfbffe6d525a28cfdde8336" category="list-text">驱动器原始容量不会超过集群中已获得许可的原始容量(例如、如果许可证为每个CPU核心授予2 TB存储空间、则一个包含10个节点的集群的最大原始驱动器容量为20 TB)</block>
  <block id="57abae108d77251823093e3098c0d557" category="list-text">驱动器大小至少与节点中其他活动驱动器的大小相同</block>
  <block id="ad72a80885c18c4c8e678a99777d3515" category="admonition">Astra数据存储每个节点所需的驱动器不超过16个。如果您尝试添加第17个驱动器、则驱动器添加请求将被拒绝。</block>
  <block id="39dbc2d2fbfd062f4d5dc60062b4eace" category="list-text">记下集群名称。</block>
  <block id="95bdcf076c6611d654fedaa66e24fe79" category="list-text">显示可添加到集群中所有节点的驱动器。将cluster_name替换为集群名称：</block>
  <block id="365d382b2d9ecca9b0d40171c69b38ff" category="list-text">执行以下操作之一：</block>
  <block id="e7d003fac4cdefedfc517bca5ab1b682" category="list-text">如果所有可用驱动器都具有相同的名称、则可以同时将其添加到相应的节点。将以大写字母表示的信息替换为适合您环境的值：</block>
  <block id="e2015edfdd8a526f6e2c99eda6396df0" category="list-text">如果驱动器的名称不同、您可以一次将其添加到相应的节点中一个(您需要对需要添加的每个驱动器重复此步骤)。将以大写字母表示的信息替换为适合您环境的值：</block>
  <block id="6e113930f806b5aee6499c06e9555b22" category="paragraph">Astra数据存储创建一个请求以添加一个或多个驱动器、此时将显示一条消息、其中包含此请求的结果。</block>
  <block id="6cf18176c387253114c4548893608a97" category="paragraph">当集群中的驱动器发生故障时，必须尽快更换驱动器以确保数据完整性。如果某个驱动器发生故障、您可以查看有关集群CR节点状态中的故障驱动器的信息、集群运行状况信息以及指标端点。您可以使用以下示例命令查看故障驱动器信息。</block>
  <block id="a02602cf8908b641cea3755fa048d20c" category="paragraph">故障驱动器CR会在集群中自动创建、其名称与故障驱动器的UUID对应。</block>
  <block id="e48932b9afec23a40514dce3ee3baddf" category="list-text">使用`kubectl astrad faileddrive show-replacements`命令列出可能的替代驱动器、该命令可筛选符合更换限制(集群中未使用、未挂载、无分区且等于或大于故障驱动器)的驱动器。</block>
  <block id="2eadce54476cf520a32d16b27edb7a88" category="inline-link-macro">使用kubectl命令管理Astra Data Store资源</block>
  <block id="29f1a36a2b7f891e3d19f8ed964906de" category="list-text"><block ref="29f1a36a2b7f891e3d19f8ed964906de" category="inline-link-macro-rx"></block></block>
  <block id="c7edd80b8dd148bf666b98d28023b4ee" category="summary">您可以使用一个或多个外部密钥管理服务器来保护集群用于访问加密数据的密钥。</block>
  <block id="9505633ac067b6207bf36bef1fa75f51" category="doc">管理外部密钥</block>
  <block id="e0ab9b5bb474ca8102c44dee2887819d" category="paragraph">您可以使用一个或多个外部密钥管理服务器来保护集群用于访问加密数据的密钥。外部密钥管理服务器是存储环境中的第三方系统，可使用密钥管理互操作性协议（ Key Management Interoperability Protocol ， KMIP ）为节点提供密钥。</block>
  <block id="124c7aca61a0c6f317dc1d3b328d2ba6" category="admonition">默认情况下、在创建Astra Data Store集群时、Astra Data Store会通过内部密钥提供程序启用空闲软件加密(软件加密)。</block>
  <block id="f4b8711a3d5cbd714882dc77903f148c" category="paragraph">管理密钥涉及以下自定义资源定义(CRD)：</block>
  <block id="f824ce1f94f0fafae3b5eb191701beb8" category="list-text">* AstraDSKeyProvider*：配置外部KMIP服务器、该服务器可以是服务器集群。</block>
  <block id="b721e09a31d9954c3e45f10ebc76bde4" category="list-text">* AstraDSSEARKeyrotate*：从密钥提供程序获取新的密钥加密密钥并将其提供给Astra数据存储。</block>
  <block id="09ad1436d6f3afba0761cb6347bf4823" category="paragraph">您可以执行以下与外部密钥管理相关的任务：</block>
  <block id="d2672f58706370959b0e91c6ffa8224b" category="list-text"><block ref="9691aa3e579531cfaa4ff7a732893acb" category="inline-xref-macro-rx"></block></block>
  <block id="17260c1e07094ed6c2e11d51164c9b54" category="list-text"><block ref="d8a8f092b0bb783443d7c561994384c4" category="inline-xref-macro-rx"></block></block>
  <block id="f11a3230c8f3f4fe16509d96f681aa8d" category="list-text"><block ref="baaca5b65d199b22346477b2b15db8f8" category="inline-xref-macro-rx"></block></block>
  <block id="21936635378798473e3e41e87a44aafa" category="list-text"><block ref="e933ef8126629d2e1a9952def38289c3" category="inline-xref-macro-rx"></block></block>
  <block id="7ab27d3dd83b6b8225315ec0073d2ab7" category="section-title">设置外部密钥管理</block>
  <block id="cc0a5e40a7ec1d463f527ad980f7c212" category="paragraph">在Astra Data Store中设置外部密钥管理时、可以使用`kubectl astrad`命令。</block>
  <block id="1fda8d61c9fdd7a6ac65b7bbff664bb6" category="paragraph">您需要在集群或KMIP服务器上获得SSL证书、以便可以设置外部密钥、例如使用OpenSSL。</block>
  <block id="4df78d6ab9b3fb47971c84fd590cf2a4" category="list-text">为密钥提供程序客户端准备证书。包括客户端证书、客户端专用密钥和信任CA捆绑包。</block>
  <block id="8f8c783558c749ec31c8122875c4915c" category="admonition">您需要在集群或KMIP服务器上准备SSL证书、以便设置外部密钥、例如、使用OpenSSL。</block>
  <block id="d86a2f487e86d4c1ed19a0184598110e" category="list-text">登录到Astra Data Store集群中的一个节点。</block>
  <block id="a02db99a6f75f3543623d397edea9de5" category="list-text">输入以下kubectl扩展命令、为Astra Data Store集群配置密钥提供程序：</block>
  <block id="11a1310d5bff9f3d71236703e53eedd2" category="paragraph">以下示例将为ADS集群"astrads-cluster-f23d158"配置一个名为"hashicorp"的外部密钥提供程序。</block>
  <block id="e1bd66139d3a7ec96da7c8bbe7f85786" category="list-text">将Astra数据存储集群配置为通过AstraDSCluster CR对sear使用外部密钥管理器。显示帮助。</block>
  <block id="2666b4d7b95a8c549ccabc6e3098a720" category="paragraph">以下命令会将Astra Data Store集群配置为使用`AstraDSKeyProvider hashicorp`作为sear的密钥管理器。此命令还会使用密钥轮换时间、其默认值为90天(2160小时)。</block>
  <block id="5ee5ab6a12c4b6cd05518ad6fee8dcab" category="section-title">检查软件空闲加密状态</block>
  <block id="6a216aa6f07c24b1fb409c4f517d171f" category="paragraph">您可以检查空闲软件加密的配置。</block>
  <block id="48c7c41b72e1d678923ce3571aa65b2d" category="list-title">步骤</block>
  <block id="f1eaa35a1569f820bc271492cd01ec16" category="list-text">检查AstraDSCluster CR。</block>
  <block id="41cd587c2926fdae0db5b9c85f18a35e" category="section-title">将外部密钥管理更改为内部密钥管理</block>
  <block id="04cb6fb9b70559ab3b22732059e06328" category="paragraph">如果您当前使用的是外部密钥管理器、则可以将其更改为内部密钥管理器。</block>
  <block id="b7ed928deb8683ea74f6baa0c6b37843" category="list-text">通过删除SoftwareEncryptionAtRest配置来更改AstraDSCluster CR。</block>
  <block id="ba32949af42a657d7dfb32beac49f17c" category="list-text">(可选)删除先前的AstraDSKeyProvider及其关联密钥。</block>
  <block id="4edd53721430fc2545b952249ed570ea" category="admonition">不会自动删除先前的密钥提供程序和密钥。</block>
  <block id="eb37a01fcb76314a3850de6a0965afde" category="section-title">为安全起见、请轮换密钥</block>
  <block id="bcf5da1444f37404ae916dec23e3941c" category="paragraph">密钥轮换可增强安全性。默认情况下、Astra数据存储每90天自动轮换一次密钥。您可以更改默认设置。此外、您还可以根据需要轮换按键。</block>
  <block id="65578b7c2e21170b09c113248382947e" category="list-title">配置自动密钥轮换</block>
  <block id="265d72b16ef7a3b2e97f718ad700eca8" category="list-text">更新CRD中的AstraDSSEARKeyrotate参数。 </block>
  <block id="27bc976200a2ab4d40d437ed296e3c1d" category="list-title">配置按需密钥轮换</block>
  <block id="1f4b75ba1432862e96e2599c7d53df88" category="list-text">创建AstraDSSEARKeyrotateRequest CR以轮换密钥。</block>
  <block id="6f636472a10937e0b117c03945f34ada" category="summary">您可以使用命令行更新Astra数据存储的已安装许可证。</block>
  <block id="759b0d8cf5cde9134ae0e984810fffee" category="doc">更新Astra Data Store许可证</block>
  <block id="5bfa5701ca167f5880ada58bc2428c23" category="paragraph">您可以更新已安装的Astra数据存储评估许可证、以延长评估期限。您可以使用以下三种方法之一更新许可证：</block>
  <block id="ce8afd973097f2a5db276ec32e06c163" category="inline-link">更新存储后端许可证</block>
  <block id="9240cdda56930c088eaff10915cd7496" category="list-text">要使用Astra控制中心更新Astra数据存储许可证、请参见<block ref="58f31353e9a59e867c81d2b85e256232" category="inline-link-rx"></block>。</block>
  <block id="3e00790370d91474b81f089b71c4fce9" category="inline-link-macro">使用VMware管理Astra数据存储</block>
  <block id="e17ae0bb22811e48183922ca3fcf279b" category="list-text">要使用Astra VMware插件更新Astra Data Store许可证、请参见 <block ref="cb830fac51aa378903336c9b4fb279ee" category="inline-link-macro-rx"></block>。</block>
  <block id="612286d4d004418888bcd6da3021a592" category="list-text">要使用命令行更新Astra Data Store许可证、请参见 <block ref="e27b521d61741ef8c5dd59feb0acd791" category="inline-xref-macro-rx"></block>。</block>
  <block id="1be4683772d8fe6ffda9a356b03cd1b7" category="section-title">使用命令行更新Astra Data Store许可证</block>
  <block id="c390ec75cceb9507fa24c733ac7363ab" category="paragraph">您可以使用`kubectl`实用程序更新Astra Data Store许可证。</block>
  <block id="d4a4a4172de0303ac116e6a87405b5e3" category="list-text">应用从NetApp获得的替代NetApp许可证文件(NLF)。在运行命令之前、输入集群的名称(`&lt;Astra-Data-Store-cluster-name&gt;`)和许可证文件的路径(`&lt;file_path/file.txt&gt;`)：</block>
  <block id="cead50282f599e2fd93f9a7654dd5077" category="paragraph">您应看到类似于以下内容的响应：</block>
  <block id="2ac525104e1ef46702676d3c61619eb4" category="summary">您可以将Astra数据存储升级到最新版本。</block>
  <block id="8a1931643d7b99b69c08a4f546751031" category="doc">升级Astra数据存储</block>
  <block id="e6e2268165e20e472e09e5ad94801f06" category="paragraph">您可以升级Astra数据存储以利用最新功能和修复。您可以使用Astra Data Store `kubectl`扩展来升级Astra Data Store。</block>
  <block id="795aa22c96e8d729c55ba7303fa7e009" category="section-title">使用kubectl升级Astra数据存储</block>
  <block id="d833fef079ebe2baa7496e1b45577aab" category="paragraph">您可以使用Astra Data Store `kubectl`扩展来升级Astra Data Store。</block>
  <block id="cff845c73924c3a40205fc396d36a2fe" category="section-title">下载Astra Data Store软件包并提取映像</block>
  <block id="f35cbb5775f17e10040fc2b8cbf4f5b4" category="list-text">登录到<block ref="597f520ad144b88897e1238f7cbf692c" category="inline-link-rx"></block> 并下载Astra数据存储捆绑包(`Astra_Data_Store_2022.05.tar`)。</block>
  <block id="8c93a35342633c66859b2546d31b54c3" category="list-text">创建目录：</block>
  <block id="acf4107a11f6cc11e8352b3d6bbcb10d" category="admonition">这些图像将提取到工作目录中创建的`astrads/images`目录中。</block>
  <block id="3864427ab96992f87c91866fcf100c4b" category="list-text">将kubectl-astrad二进制文件从用于提取映像的目录复制到安装了Kubernetes kubectl二进制文件的标准路径(在以下示例中使用`/usr/bin/`作为路径)。kubectl-astrad是一个自定义kubectl扩展、用于安装和管理Astra数据存储集群。</block>
  <block id="e4ab49bd16ca3e6886fc9207043d35cc" category="admonition">使用`which kubectl`命令查找安装kubectl二进制文件的路径。</block>
  <block id="6bc18a20cec7858f58697bd286ddef22" category="list-text">将Astra Data Store映像目录中的文件添加到本地注册表中。</block>
  <block id="cf88f70fbd96062dd219dd07260e0015" category="list-text">将环境变量设置为要推送Astra数据存储映像的注册表路径；例如、`repo.company.com`。</block>
  <block id="02e7be5575bb9e00557a4c3630f59843" category="list-text">运行以下脚本、将映像加载到Docker、标记映像并将其推送到本地注册表：</block>
  <block id="38b3b3470d2ba6614c3d2aceefd23eb8" category="section-title">执行升级</block>
  <block id="1cca583d23a8d7e59d170fc45e2dc401" category="list-text">将`astradsoperator.yaml`文件复制到本地目录：</block>
  <block id="aa58585c777e3983f8f9f8f6ea8d6d5f" category="list-text">升级操作员。将大写的参数替换为适用于您环境的信息：</block>
  <block id="c0eb6bfd6bb22a2d21398439c3130bae" category="list-text">开始升级Astra Data Store。将大写的参数替换为适用于您环境的信息：</block>
  <block id="04fee5ba277f33534fddba1b534f6889" category="paragraph">此时将显示一条消息、通知您升级已启动、需要几分钟才能完成。</block>
  <block id="2c969eaa7b54ce6cf7df142cf58faf9b" category="list-text"><block ref="b7315fe81997d6db1627352ff71d7e56" category="inline-xref-macro-rx"></block></block>
  <block id="bc4ebd2a47145d1e3e9bf1e3b6b882f8" category="section-title">在Astra Data Store集群自定义资源(CR)中配置监控</block>
  <block id="a8c09bcd59e59c1a6ee5e47cc1a4eaa2" category="paragraph">如果尚未在Astra Data Store集群CR上配置监控选项、您可以使用`astrad` extensions进行设置。</block>
  <block id="0190a10f97749202ff7581735c622461" category="paragraph">要查看日志，设置 Cloud Insights 是可选的；但是，使用 Cloud Insights 查看数据很有帮助。请参见 <block ref="d6cf67ce476502ac807e2e588f6f029e" category="inline-link-macro-rx"></block> 用于Astra数据存储。</block>
  <block id="f18e61caaf9c0fd3deb9248742713999" category="paragraph">您可以使用kubectl命令和Kubernetes API扩展来管理Astra Data Store资源。</block>
  <block id="d10120ca0cc41af820c6e3ce7bb2d021" category="paragraph">有关集群维护信息、请参见 <block ref="dd990211a19c702186be77590654645f" category="inline-link-macro-rx"></block>。</block>
  <block id="e67085e48b7b1a54304b6237b694fcf0" category="list-text">您安装在中的Astra Data Store kubectl插件 <block ref="14497a94943dc819ca2bc8999e1f8acf" category="inline-link-macro-rx"></block></block>
  <block id="ae782931a9d3fe28e457547c97c474ac" category="section-title">列出适用于Astra数据存储的Kubernetes自定义API资源</block>
  <block id="239675548fde15fedd20e5ee4d63b757" category="paragraph">您可以在Kubernetes中使用kubectl命令与Astra Data Store集群进行交互并观察其状态。</block>
  <block id="ee6fe3ae74ab1f1d87629e54c40bfa75" category="paragraph">`api-resources`命令中列出的每个项都表示一个Kubernetes自定义资源定义(CRD)、Astra Data Store可在内部使用该定义定义来管理集群。</block>
  <block id="baf5104decf1df7c0d01680a0fac5d63" category="paragraph">此列表对于获取每个Astra Data Store对象的短名称以减少键入内容特别有用、如后面所示。</block>
  <block id="8704b0033f94a1a48678372e5b1f4390" category="list-text">显示适用于Astra数据存储的Kubernetes自定义API资源列表：</block>
  <block id="fad556266e89b103a86dd39fca3ccd0a" category="list-text">要获取Kubernetes集群中的所有当前Astra Data Store对象、请使用`kubectl get ADS -a`命令：</block>
  <block id="e8eecb3aa42b284e39abeefdde9013b7" category="list-text">已部署和配置Astra Data Store集群</block>
  <block id="578ed768fff66a5aeb6875422b9eb215" category="doc">使用自动化脚本卸载Astra Data Store</block>
  <block id="c45239f2713b77020a62bc3b90b2b01a" category="paragraph">要卸载Astra数据存储和控制平台、您需要删除工作负载、绑定、卷、导出策略、Astra数据存储集群、许可证、部署环境和Astra数据存储命名空间。</block>
  <block id="67bf79c4544858b037eb102aa06e4401" category="paragraph">卸载可使用不同的方法完成：</block>
  <block id="35fdeed7912d71c20c13cd732bf2e706" category="list-text"><block ref="196ffd8fc42e4cc8fbc093ae733dff9a" category="inline-xref-macro-rx"></block></block>
  <block id="c037a0cb9feef6bddfe301e72c671491" category="list-text"><block ref="faccfd54a35cc9c4ffedb8d03e1db4d7" category="inline-xref-macro-rx"></block></block>
  <block id="924e4a26f729885eef13b0bdec54cc18" category="list-text"><block ref="b732b6799a72ffe5822f89c4d23ecd45" category="inline-xref-macro-rx"></block></block>
  <block id="328a4dc4adff64b912026e0e35213d07" category="paragraph">此过程使用自动脚本卸载Astra数据存储。</block>
  <block id="2887a6ed2ca35a7213d8845da3d85b2b" category="paragraph">Astra数据存储卸载过程将指导您完成以下高级步骤：</block>
  <block id="91c6d650d7f9c04b31f564ed451ef639" category="paragraph">卸载Astra数据存储之前、必须先删除以下内容</block>
  <block id="05bb3c1f70d017c3d3f362c39d1e84e2" category="list-text">使用Astra Data Store作为存储后端的所有应用程序工作负载</block>
  <block id="9e293f079d97a018ee6d4d24c1e3f8ab" category="list-text">使用Astra数据存储作为后端的Trident绑定</block>
  <block id="783a20d6ea210fb2bd76538a35213602" category="paragraph">要卸载Astra Data Store、您可以使用从NetApp支持站点下载的Astra Data Store tar文件中的`uninstall.sh`脚本。</block>
  <block id="25a037b153e5dc06ae96b1d038614f29" category="paragraph">如果您在Red Hat OpenShift容器平台(OCP)上安装了Astra数据存储、则可以卸载OCP安全上下文约束(SCC)和绑定资源。</block>
  <block id="c894cd53d712a58510a4ed30063c388a" category="section-title">手动卸载Astra数据存储、而不使用脚本</block>
  <block id="2d2eddb2ec839eed8c37d0792d391473" category="paragraph">此过程无需脚本即可手动卸载Astra数据存储。</block>
  <block id="ccf4b024a9cce5a7596c8bc90781c69c" category="paragraph">要在不使用自动脚本的情况下手动卸载Astra数据存储、您需要删除工作负载、绑定、卷、导出策略、集群、 许可证、部署环境和Astra Data Store命名空间。</block>
  <block id="2a67f3972091580bf491500f8d172c35" category="list-text"><block ref="998eed688c4deda429a453ceaf9139e7" category="inline-xref-macro-rx"></block></block>
  <block id="652dd4d89619a8c35ff4d063b35a1db7" category="list-text"><block ref="1fb3b12ab866e716741fcaad167def97" category="inline-xref-macro-rx"></block></block>
  <block id="7e89943c5bf888b50d402ab0ae704e93" category="section-title">卸载Astra数据存储集群和控制平面</block>
  <block id="bb2fd16127cdc6efd8d397a52342b9b9" category="paragraph">按照以下步骤手动卸载Astra数据存储。</block>
  <block id="b83fd99afc68286249cea6628c1e9616" category="paragraph">在删除集群之前、您应删除Astra Data Store卷和导出策略。</block>
  <block id="5863795cc822a2aa3b891377e866d934" category="admonition">如果不先删除卷和导出策略、则集群删除过程将暂停、直到删除Astra Data Store volumes对象为止。在开始删除集群之前删除这些项会更高效。</block>
  <block id="8698b1db12779264231dfc111d6d89f1" category="section-title">删除Astra数据存储集群</block>
  <block id="36608a1addf64a5ccfbf50331f2c2b90" category="paragraph">删除集群时、只会删除Astra Data Store集群对象自定义资源(CR)以及集群范围的资源。</block>
  <block id="ee935a028704a56848d44d522b660530" category="paragraph">卸载程序大约需要一分钟才能完成。然后、开始删除Astra Data Store集群范围的资源。</block>
  <block id="5a236759e3d703c667ec529d5e20c063" category="list-text">删除Astra Data Store许可证：</block>
  <block id="e14c0f76c22a74423c2e141af8c07c8f" category="section-title">删除Astra Data Store安装</block>
  <block id="a6633a9445f013e05838d5c0855b6fef" category="list-text">删除Astra Data Store安装对象：</block>
  <block id="597f2a6c01b932aae379c1c2fa61e08f" category="list-text">删除数据存储DemonSets和所有Astra Data Store控制器资源：</block>
  <block id="7026704810796e87cff523f1f25b7ee7" category="section-title">对Astra数据存储卸载过程进行故障排除</block>
  <block id="27c0ebe919776f61512d0801841cb248" category="paragraph">如果需要对卸载过程进行故障排除、请查看以下建议。</block>
  <block id="24bf94742c89b1cd573bad4edfe6eb70" category="section-title">Pod处于终止状态</block>
  <block id="f7e3d439b040a2a01720783832bd3563" category="paragraph">Astra数据存储卸载过程有时可能会使发生原因 Pod在Kubernetes中保持终止状态。</block>
  <block id="e075b6d32de0c0447bb1ea5253f81f5c" category="section-title">服务质量策略指向旧集群</block>
  <block id="472f97a7328c9f94f61f1e353f5f7bfb" category="paragraph">如果您仅删除Astra数据存储集群并对其进行重新部署、则可能无法创建永久性卷声明(PVC)或卷、因为服务质量(QoS)策略指向旧集群且找不到。</block>
  <block id="ec8d1cc4b7bbbd6b4bdae9e78aaffa3f" category="list-text">要避免这种情况、请在删除Astra Data Store集群后手动删除QoS策略：</block>
  <block id="0f75a950cc866bcc213b1ec17aed8bca" category="list-text">删除整个Astra Data Store部署(而不仅仅是集群)：</block>
  <block id="d830c05afaad30bc4302b45cd92d1f58" category="section-title">删除或卸载Astra数据存储后未删除密钥提供程序CRS</block>
  <block id="bbc6c73a5be9a5c1e550be7e379afccc" category="paragraph">如果为要删除或卸载的Astra Data Store集群配置了外部密钥提供程序、则可能需要手动清理未删除的任何密钥提供程序CR。</block>
  <block id="36c2ca34fa7c4c28a23300577a6528ac" category="paragraph">按照以下临时解决策 说明进行操作：</block>
  <block id="bf1721373f13cef18fb0b50f86bf0cc4" category="list-text">确认未删除密钥提供程序CRS：</block>
  <block id="390f5ae65ecf9f31390b011347333faa" category="list-text">删除密钥提供程序CRS：</block>
  <block id="c531a87fa788ef0f1330deb610b5ceb5" category="list-text">删除此查找器：</block>
  <block id="2ecb5fb2089f7359c7da449687df4561" category="list-text">删除下面突出显示的查找器行：</block>
  <block id="96d94cff4b97c1c274c6ec1aa5b4868b" category="list-text">删除此查找器后、删除密钥提供程序CR：</block>
  <block id="05288445bfd1d33f62fc3507ae882386" category="paragraph">您可以使用Cloud Insights 监控Astra数据存储指标。</block>
  <block id="ebdf6c4111538f4fb4c6d1746e121a6a" category="paragraph">以下是Cloud Insights 中显示的一些示例Astra数据存储指标：<block ref="b65cc9dd5d7dd9b89d038ad2252a3b1c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="420ff3109561e9908daaf74cc085f2dd" category="paragraph">您还可以使用显示在Astra数据存储中生成的指标列表 <block ref="00ffaabd9466e38e21fd83d76092ff60" category="inline-xref-macro-rx"></block>。</block>
  <block id="9fd8907d51e8ade20319268f0f88c809" category="paragraph">您可以完成以下任务：</block>
  <block id="42638996102eaa7dec93c67c6b5ea0ec" category="list-text"><block ref="c369dcf4e21885768bae8a032bc23010" category="inline-link-macro-rx"></block> 这是Astra Data Store安装说明的一部分。</block>
  <block id="173091f0ac86cb5d92bc698d463aad3f" category="list-text"><block ref="bfb34ca8335b0b73a54237f9edc747d4" category="inline-link-macro-rx"></block> 这是Astra Data Store安装说明的一部分。</block>
  <block id="de40008adba7c9d91f1c1d05930fd18e" category="list-text">* Kubernetes API 服务器 IP 地址和端口 * 。用于监控Astra数据存储集群。</block>
  <block id="7deeabdda29c94210403d7de59f00ad8" category="paragraph">Cloud Insights 提供了Bash脚本、用于通过监控操作员启用Astra数据存储监控。安装脚本将安装一个采集单元、其中包含Astra Data Store收集器和一个Fluent Bit Agent。</block>
  <block id="bd947501fa6201039f5c13a9c86ae58c" category="list-text">Cloud Insights 采集单元将指标发送到Cloud Insights 数据湖。</block>
  <block id="82392be36d25db24cbf2376273023073" category="paragraph">监控操作员将更新Fluent Bit以使用新的Cloud Insights API访问令牌。</block>
  <block id="ae6850ba086dba5ea6ee4c888acafd07" category="paragraph">要断开与 Cloud Insights 的连接，您需要先从 Cloud Insights UI 中删除 Astra 数据存储收集器。完成此操作后、您可以从监控操作员中删除采集单元、Telegraf (如果已配置)和Fluent Bit配置。</block>
  <block id="82c5052cb623901eefe95a965c322b31" category="section-title">删除 Astra 数据存储收集器</block>
  <block id="ce0954ccffa4ad3da30c62fdf490cbed" category="section-title">删除采集单元、Telegraf (如果已配置)和Fluent Bit</block>
  <block id="d1523763f9b5895281d29e5a1aa1a92f" category="list-text">如果配置了Telegraf、请找到`telecraf`部分、然后删除名为`ads-open-metric`的插件。如果没有其他插件，您可以删除 `电报` 部分。</block>
  <block id="0e84702f6210c84f759ad97203703809" category="paragraph">监控操作员将更新Telegraf (如果已配置)和Fluent Bit配置、并删除采集单元POD。</block>
  <block id="27d4c79aa74c919ac6e86145c44be7ea" category="paragraph">监控操作员将更新Telegraf (如果已配置)和Fluent Bit配置、并删除采集单元。</block>
  <block id="5819e7aab7fb927f001dc48e5d485aa3" category="paragraph">下面列出了可用于从Astra数据存储收集指标的API。</block>
  <block id="117307a1bac6d4e8b8cb0baec01d1233" category="summary">您可以在Astra数据存储中手动撤消已泄露或已过期的证书。</block>
  <block id="2371424eba381b8fb39ac37404483e34" category="doc">管理安全证书</block>
  <block id="5acc66fef46a649d5b8739c552dcfa81" category="paragraph">Astra数据存储在集群的软件组件之间使用相互传输层安全(MTLS)加密。每个Astra Data Store集群都有一个自签名根CA证书(`astrads-cert`)和一个中间CA证书(`astrads-cert -&lt;cluster_name&gt;`)。这些证书由Astra数据存储操作员管理；操作员会在每个证书到期日期前7天自动续订这些证书。您也可以手动撤消这些证书。</block>
  <block id="842290a581e2201d5d558c2be5cb3618" category="section-title">撤消证书</block>
  <block id="b55bc62d44cfca19ce60f7ca1185dd5e" category="paragraph">如果Astra数据存储控制器、节点或CA证书受到影响、您可以通过删除其MTLS密钥来撤消该证书。执行此操作时、Astra数据存储操作员会自动颁发一个新证书。您可以随时撤消Astra数据存储证书。</block>
  <block id="b0cb56d75eb1c6a0dfb84bf741f68af4" category="admonition">如果您撤消CA证书、则此操作将撤消由该CA签名的任何证书。</block>
  <block id="385c52663d61e62eb1b7ccbf56c04e1b" category="list-text">登录到Astra Data Store集群中的控制器节点。</block>
  <block id="8d4bf1c35a59a8aa5bff0b32b53a0822" category="list-text">列出系统上的现有证书。例如：</block>
  <block id="a68c3c53417789e724bdb983d1b29d52" category="paragraph">输出应类似于以下内容：</block>
  <block id="e729092bd79aa96d67d663fa76a01138" category="list-text">在输出中、记下需要撤消的证书的名称。</block>
  <block id="f5482cf8156d2facdf326b60c875e33d" category="list-text">使用`kubectl`实用程序撤消证书、并将`certificate_name`替换为证书的名称。例如：</block>
  <block id="af0b5a96438918bd3d7cfc6dfa534a62" category="paragraph">现有证书将被撤消、并自动生成一个新证书。</block>
  <block id="a4e2e4fe49af9dc71777f5de2e9697a9" category="paragraph">您可以使用Prometheus和Grafana监控Astra数据存储指标。您可以将Prometheus配置为从Astra Data Store Kubernetes集群指标端点收集指标、并且可以使用Grafana将指标数据可视化。</block>
  <block id="71c19813a4a868d7eefd9bc47892419c" category="list-text">确保已在Astra数据存储集群或可与Astra数据存储集群通信的其他集群上下载并安装Prometheus和Grafana软件包。按照官方文档中的说明安装每个工具：</block>
  <block id="a154c1813ed3684a018a8de074f06384" category="list-text">Prometheus和Grafana需要能够与Astra Data Store Kubernetes集群进行通信。如果Astra Data Store集群上未安装Prometheus和Grafana、则需要确保它们可以与Astra Data Store集群上运行的指标服务进行通信。</block>
  <block id="1204e86aa2a56d4dad05c4d2bec5b80c" category="paragraph">Astra数据存储在Kubernetes集群中的TCP端口9341上公开指标服务。您需要配置 Prometheus 以从此服务收集指标。</block>
  <block id="4e54c3f7b2b6a00636e8c28f9677d421" category="list-text">添加指向Astra Data Store服务名称及其端口的服务目标。例如：</block>
  <block id="b59a3486d979a87a0c097f3335ef42c4" category="paragraph">为安装Astra数据存储而下载的捆绑包文件包含Grafana信息板模板文件、您可以从Grafana中导入这些文件。这些信息板模板可帮助您查看Astra数据存储提供的指标类型以及查看方式。</block>
  <block id="727f5842ca90ac8eb8f2c96e1a659071" category="list-text">打开Astra Data Store `.tar.gz`软件包。</block>
  <block id="c405f3900c3aeaa8361ea391a7591ac8" category="paragraph">NetApp 以多种方式为 Astra 数据存储提供支持。全天候提供免费自助服务支持选项，例如知识库（ KB ）文章和可宽延的渠道。</block>
  <block id="ad47efa0e0ad268d4c23eca155048281" category="admonition">您可以获得Astra Data Store的社区技术支持。使用创建案例<block ref="6030415907234973f3f8d5646d406ab7" category="inline-link-rx"></block> 不适用于此版本。您可以通过反馈选项联系支持部门，也可以使用 Slack 渠道自助服务。</block>
  <block id="e8cc67382b4f3c3ef117a2ed874cec02" category="paragraph">搜索与Astra数据存储相关的文章、常见问题解答或中断修复信息。</block>
  <block id="43ec8122a289489e5938e6da7d7803ad" category="summary">NetApp 以多种方式为 Astra 数据存储提供支持。全天候提供丰富的免费自助支持选项，例如知识库（ KB ）文章和可宽延的渠道。您的 Astra Data Store 帐户包括通过 Web 服务单提供的远程技术支持。</block>
  <block id="49640cf3000ef562beb7641cb71c199d" category="paragraph">AutoSupport 监控 Astra 数据存储系统运行时间和信息，并向 NetApp 支持部门发送消息。根据您的配置，可以监控以下系统组件：</block>
  <block id="dc9f6facbb662cedbda63315bcb2bf67" category="inline-link-macro">Astra Data Store 集群安装</block>
  <block id="118da95235f6c081280e323bacce88f5" category="paragraph">默认情况下，期间会启用 AutoSupport <block ref="358123e8ea557abd0b8691f487f24c11" category="inline-link-macro-rx"></block> 或在将 AutoSupport 自定义资源（ CR ）应用于集群后。启用后， AutoSupport （ ASUP ）捆绑包将自动上传到<block ref="6030415907234973f3f8d5646d406ab7" category="inline-link-rx"></block> 或可供手动下载。</block>
  <block id="f87167e3d8771b37953d207f1fcdd551" category="list-text">*控制平面CRS*：一组AutoSupport 数据存储控制平面日志和。</block>
  <block id="0249554f3cd3fae8f1cc2c62f50f7ada" category="paragraph">您可以创建一个自定义 AutoSupport 收集配置，用于报告控制平面事件。默认情况下，大多数安装都已在期间启用定期事件报告 <block ref="358123e8ea557abd0b8691f487f24c11" category="inline-link-macro-rx"></block>。此操作步骤介绍如何配置 AutoSupport CR ，以便根据您选择的参数进行报告：</block>
  <block id="ffe879572b8c2c46707f262f58096e3c" category="paragraph">您可以创建自定义 AutoSupport 收集配置，以报告存储组件事件。默认情况下，大多数安装都已在期间启用定期事件报告 <block ref="358123e8ea557abd0b8691f487f24c11" category="inline-link-macro-rx"></block>。此操作步骤介绍如何配置 AutoSupport CR ，以便根据您选择的参数进行报告：</block>
  <block id="2f99de1f8fcd5b1b9eec569bce87c1b0" category="paragraph">如果服务崩溃，则会创建 AutoSupport （ ASUP ）消息以及崩溃时包含相关内存内容的文件（称为核心文件）。Astra Data Store会自动将ASUP消息上传到NetApp支持部门、但您需要手动上传核心文件、以便它与ASUP消息相关联。</block>
  <block id="a137afb0e5f46a6c47e411a5c9c42758" category="doc">Astra 数据存储中的安全性</block>
  <block id="e6aa0c0761960db7f426e2fed0c5e8bc" category="paragraph">Astra数据存储使用以下安全方法：</block>
  <block id="3ab96bc0c488ba3eb27c163bcbae3a7b" category="list-text">空闲软件加密、包括内部和外部密钥管理</block>
  <block id="ba8a17ffaf9753f4b69ba5e97e57c2b7" category="paragraph">Astra数据存储支持集群中具有不同类型和功能的节点。如果要扩展集群、则Astra数据存储支持添加具有任何性能功能的节点、只要这些节点不低于集群中性能最低的节点即可。新节点的存储容量必须与现有节点相同。所有节点（包括扩展期间的新节点）至少需要满足中的最低要求 <block ref="f6e7a5de97c28034a15c0e13f6029354" category="inline-link-macro-rx"></block>。</block>
  <block id="36973e06a1ee8bc363ca0f0f1c586427" category="doc">Astra Data Store 部署模式</block>
  <block id="5653b3ab87b92391aac72003d2b0a1c1" category="paragraph">Astra数据存储使用与Kubernetes部署和协调的应用程序直接管理主机上的存储驱动器。</block>
  <block id="f22eac8f929f089c68506f9a6712c735" category="paragraph">您可以使用以下选项之一在裸机或虚拟服务器上安装Astra数据存储：</block>
  <block id="f018920added201a59ca952e6bdc1945" category="inline-link-macro">了解有关Astra Data Store硬件要求的更多信息</block>
  <block id="b46c619f9b9bb6ea6f5923a277dae124" category="paragraph"><block ref="6acfeadcb08ea7909052ca7ce93d87b0" category="inline-link-macro-rx"></block>。</block>
  <block id="6606b2dec971b48799d2cdfddfa324a7" category="paragraph">Astra数据存储库是Astra产品系列的一部分。有关整个Astra系列的视角、请参见<block ref="b55c504067205ad1413673d6a733ac94" category="inline-link-rx"></block>。</block>
  <block id="57130318718009eaaede4b2335702fd8" category="section-title">Astra Data Store 生态系统</block>
  <block id="f1f26abb1da9654e321e22d1912905e7" category="paragraph">Astra数据存储可与以下各项配合使用：</block>
  <block id="04c613beca8533ff09526b8378c51704" category="paragraph">Astra控制中心支持具有ONTAP 的Astra Trident存储后端或Astra数据存储后端的Kubernetes集群。</block>
  <block id="a2f4c433d7478f9e58ad16695fa5ad89" category="paragraph">您可以使用Astra Trident在Astra数据存储库上创建卷。</block>
  <block id="d40cd881cc021202389a28e1cef93fce" category="paragraph">在 Astra Control 中启用 Cloud Insights 连接后，遥测信息将显示在 Astra Control UI 页面中。Cloud Insights 显示有关在Astra数据存储库中管理的资源的信息。</block>
  <block id="68298d2de3b6b29d9e494492b680fc1a" category="section-title">Astra 数据存储接口</block>
  <block id="8220810522ef5470fac878a903b00b22" category="list-text">* Web 用户界面（ UI ） * ： Astra 控制服务和 Astra 控制中心使用同一个基于 Web 的 UI ，您可以在其中管理，迁移和保护应用程序。此UI还会显示有关Astra数据存储卷的信息。</block>
  <block id="e31683f8f4ab36a16a4a8a8cf8ca3449" category="list-text">* API * ： Astra 控制服务和 Astra 控制中心使用相同的 Astra 控制 API 。使用 API ，您可以执行与使用 UI 相同的任务。您还可以使用Astra Control API检索有关Astra数据存储的信息。</block>
  <block id="97f8d75d882f4f5176a7d1279fe1944c" category="list-text">*。kubectl commands*：要使用Astra Data Store、您可以直接使用kubectl命令。</block>
  <block id="1344ab05213475bdf7a63f596b7d6aec" category="list-text">* Kubernetes扩展*：此外、您还可以使用Astra Data Store Kubernetes API扩展。</block>
  <block id="028c963119ef81a27ae37e07643e4382" category="paragraph">自定义资源定义(CRD)是对Kubernetes REST API的扩展、该API是在部署Astra Data Store操作员时创建的。外部实体通过调用 Kubernetes API 服务器与 CRD 进行交互。Astra Data Store会监控特定CRD的更新、然后调用内部REST API。</block>
  <block id="5b0b8dca4f811863182aeb743df36506" category="doc">Astra 数据存储中的存储效率</block>
  <block id="7e0062527fddd4810e6449d88cab9c31" category="paragraph">Astra数据存储使用基于NetApp ONTAP 和SolidFire 技术的存储效率技术、包括：</block>
  <block id="a1922582fb2c337a2397f119699ded43" category="list-text">*零块检测和消除*：采用精简配置的Astra Data Store存储系统能够检测卷中已置零的区域、以便回收该空间并将其用于其他位置。</block>
  <block id="3d421296add2c7409c0ca94f0e0f270b" category="list-text">* 数据压缩 * ：数据压缩通过将数据块组合到数据压缩组中来减少卷所需的物理存储量，每个数据块都存储为一个块。与传统压缩方法相比、压缩数据的读取速度更快、因为Astra Data Store仅解压缩包含所请求数据的压缩组、而不是解压缩整个文件。</block>
  <block id="3b5242cfb7f9537004a67d41c1abe248" category="paragraph">Astra 数据存储是 Kubernetes 原生的共享文件软件定义存储（ SDS ）解决方案，适用于内部数据中心，可帮助客户管理其云原生应用程序。Astra 数据存储为容器和 VM 工作负载提供原生共享文件服务，并提供 NetApp 企业数据管理。</block>
  <block id="29a88ba649cfc395ea85184d0913f230" category="paragraph">借助 Astra 数据存储，您可以执行以下操作：</block>
  <block id="1b92d5678e266ca01e6cce8b6ab8a786" category="inline-link">Astra系列</block>
  <block id="ea085b4b805805097f5483508179e50f" category="paragraph">Astra数据存储库是Astra产品系列的一部分。了解<block ref="26a1b9ce0b343afa727cac227bcece78" category="inline-link-rx"></block>。</block>
  <block id="b987663a30d898f74e9dd1aee179e6de" category="section-title">Astra 数据存储功能</block>
  <block id="56a2dbf732bd1ee44e12d29d7c6007cd" category="paragraph">Astra Data Store 可通过以下功能为您的云原生 applications​ 提供端到端 Kubernetes 本机存储和数据管理：</block>
  <block id="024164469d071c626f7a31250bb322f0" category="section-title">开始使用 Astra Data Store</block>
  <block id="5152cf1d08234aad7769f85f1e154699" category="inline-link-macro">有关Astra Data Store "EAP"版本的通知</block>
  <block id="4e9f1fb9beac4aa9dcd9a45438fc3eba" category="paragraph"><block ref="4e9f1fb9beac4aa9dcd9a45438fc3eba" category="inline-link-macro-rx"></block></block>
  <block id="d1b34f38c5dfbebc5a54a0f6101eb19e" category="doc">设置Astra数据存储组件</block>
  <block id="14bca35faa3c21e86d418107d7898035" category="inline-link-macro">安装了独立的Astra数据存储库</block>
  <block id="0f9598d2968a432b07aeae09aa7467bb" category="inline-link-macro">环境前提条件</block>
  <block id="7f1548acc0d09c870d8d645c63c9f0d4" category="paragraph">你先请 <block ref="995dda85a072afe57711a701a09c952b" category="inline-link-macro-rx"></block> 并解决了一些问题 <block ref="8156c5c47dc0599cbbd1d07c20554b76" category="inline-link-macro-rx"></block>、您将安装Astra Trident、配置Kubernetes快照功能、设置存储后端并创建默认存储类：</block>
  <block id="c9f2f63eff57fa3ba25784c69a34fd41" category="inline-xref">其他监控选项</block>
  <block id="3a0c0dbfe0d849c6164d93a84414643b" category="admonition">如果您使用Astra控制中心部署Astra数据存储、则无需执行这些步骤、除非您打算进行设置 <block ref="4d976c1f45fa71132fd96219ef39abd4" category="inline-xref-macro-rx"></block>。</block>
  <block id="bad2da033f93111088388097e69d8ccd" category="list-text"><block ref="b30ac52fbc5f5dabe7b0697e80ce5498" category="inline-xref-macro-rx"></block></block>
  <block id="0241d09678cd024db9caab49cb97c992" category="paragraph">对于Astra数据存储、您需要安装Astra Trident 21.10.1或更高版本。您可以使用以下选项之一安装 Astra Trident ：</block>
  <block id="b4c3455f92257ed7f19369ccfa769ab9" category="inline-link-macro">开始安装之前、请为部署Astra Data Store准备您的环境</block>
  <block id="a8c19c8c9125ba9db78862631b5be761" category="list-text"><block ref="879b39f832b8c0f568d1c73a1902c77e" category="inline-link-macro-rx"></block>。</block>
  <block id="aba36e9461746ba02f9d95bb11a43a73" category="admonition">以下步骤将提供一个JSON示例。</block>
  <block id="1d6e4d4916b5fa75f2af436331cece24" category="section-title">配置Astra数据存储监控</block>
  <block id="b9cb7ac418512f77bb31390bfff83a92" category="paragraph">(可选)您可以配置Astra数据存储以供其他遥测服务监控。如果您不使用Astra控制中心进行Astra数据存储监控、或者希望将监控扩展到其他端点、则建议使用此操作步骤。</block>
  <block id="c684626c42a9a13ebc727f8b37df5bd6" category="paragraph">如果您的Astra数据存储实例是独立部署、使用Cloud Insights 监控遥测或将日志流式传输到Elastic等第三方端点、则可以安装监控操作员。</block>
  <block id="be7de2455f1622d999d490ecb9d50455" category="admonition">对于Astra控制中心部署、监控操作员会自动进行配置。您可以跳过以下操作步骤 的前两个命令。</block>
  <block id="5fe9323baa63c187fc418a87d836085f" category="list-text">配置用于监控的Astra数据存储：</block>
  <block id="7d3eb8cad9acf419c3f278d9c71af338" category="list-text">配置Astra数据存储以将EMS日志流式传输到弹性端点：</block>
  <block id="6467ac4a6b2111827be8594101463348" category="doc">Astra数据存储早期访问计划(EAP)版本限制</block>
  <block id="204ba8b3e38a580c66e6b6edba708ae1" category="paragraph">在早期访问计划期间、Astra数据存储具有以下资源限制。</block>
  <block id="d6ba59f4cd175130551c0ba0239375bb" category="cell">Astra数据存储集群中的节点数</block>
  <block id="c74d97b01eae257e44aa9d5bade97baf" category="cell">16.</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="69f53017d7fcd22c16c654c107c078c5" category="cell">2 TiB</block>
  <block id="ce5140df15d046a66883807d18d0264b" category="cell">1023</block>
  <block id="efa8cb555ca8ef9318f68cf29dedec82" category="cell">每个节点的VM数</block>
  <block id="49a89516496d456de95e562f595b9408" category="summary">您可以使用Kubernetes本机命令或使用Astra控制中心中的UI安装Astra数据存储。</block>
  <block id="ea206a7167c7e693d778525a7c87c869" category="section-title">安装选项</block>
  <block id="61d2d6e9fdcf1f29f414cd3ea20e4e1f" category="inline-xref">此操作步骤</block>
  <block id="4f4890c9ee7088a2339ab0d36c161b5e" category="list-text">*使用Kubernetes本机命令*：要使用Kubernetes本机命令安装Astra Data Store、请完成中所述的安装步骤 <block ref="9a85b1222ab97446b3f41ab2e52d3e0b" category="inline-xref-macro-rx"></block>。</block>
  <block id="08bfa185bf35082988e88ef18bb253f4" category="list-text">*使用Astra控制中心*：要使用Astra控制中心安装Astra数据存储库、请完成中所述的安装步骤 <block ref="297ec40d9fc40b91c17bab44a503e94b" category="inline-xref-macro-rx"></block>。</block>
  <block id="eed5ddc8f738970611f01ee16f2a17e5" category="section-title">您将需要什么</block>
  <block id="70edfd84fd4ad6dcabae0791d3bb9997" category="list-text">访问<block ref="597f520ad144b88897e1238f7cbf692c" category="inline-link-rx"></block>。<block ref="a14d2f1983300ed8731dcf11dfa18e8a" category="inline-link-rx"></block> 如果您还没有完全访问的NetApp支持站点帐户、请下载评估版。</block>
  <block id="ce7dd6a297decc628b2927f7b566af7b" category="list-text">答 <block ref="01e924afc9d6eb5b6b87b95944c8b962" category="inline-link-macro-rx"></block> 用于Astra数据存储。下载许可证的说明将在您之后发送给您<block ref="ef54037861aa5e9e926253483ef1a002" category="inline-link-rx"></block>。</block>
  <block id="f891bf531dfd682d32a240a50f0b0852" category="list-text">了解 <block ref="0febcfecbeced4e04b316f960c35d34c" category="inline-link-macro-rx"></block> 由Astra数据存储使用。</block>
  <block id="6e9b9b9fdcbd9be860a99b4af1cf4034" category="paragraph">标准Kubernetes集群的Astra数据存储安装过程将指导您完成以下高级步骤。此外、还介绍了适用于Red Hat OpenShift容器平台(OCP)环境的其他安装步骤。</block>
  <block id="5c6cf4ac3561f719d8e5a52fee776038" category="list-text"><block ref="f722df190d816beb97857755cbe063c7" category="inline-xref-macro-rx"></block></block>
  <block id="2e76efe4b0592ee371e9d1be96b9ed8f" category="list-text"><block ref="2023d27d84ed16cfe37ef842a4c74d1f" category="inline-xref-macro-rx"></block></block>
  <block id="8cd6dd577d6ca7337f2364f8789cab92" category="list-text"><block ref="19cfce075011f161ff988a3a38d7f8d0" category="inline-xref-macro-rx"></block></block>
  <block id="6f13e5d98af010e4bb4bf020aba73920" category="list-text"><block ref="952d918ae5538ba4d5eda182ef6cb39c" category="inline-xref-macro-rx"></block></block>
  <block id="d2039b183ea00562a0296f1123bd838d" category="list-text"><block ref="03d56476e54e78b99675438278bf8894" category="inline-xref-macro-rx"></block></block>
  <block id="1a7218c8b5f948a630b8048af2d64aae" category="admonition">要将Astra Data Store与Google Anthos结合使用、请完成以下安装步骤、然后将Astra Data Store集群添加到您的Anthos环境中。</block>
  <block id="fc6f365df1ddf55c51c14101da7b6772" category="admonition">要在Rancher RKE环境中安装Astra数据存储、请完成以下安装步骤、并将Rancher命令替换为kubectl命令。</block>
  <block id="31b67a7abe2f2ab1d05a6bebfeffba29" category="list-text">将kubectl-astrad二进制文件从用于提取映像的目录复制到安装了K8s kubectl二进制文件的标准路径(在以下示例中使用`/usr/bin/`作为路径)。kubectl-astrad是一个自定义kubectl扩展、用于安装和管理Astra数据存储集群。</block>
  <block id="c0d41786f0fa88a11227b92d49c29ef1" category="paragraph">以下操作步骤 仅用于在Red Hat OpenShift容器平台(OCP)上部署。跳过此操作步骤 以在非OCP Kubernetes集群上部署。</block>
  <block id="2cd1adb16f78d6fb8a9fa78dd41bb368" category="paragraph">创建一个`astrads-system`命名空间、其中将安装所有Astra Data Store组件。</block>
  <block id="ad3ad62576b9e58bbb8373b78e5dfaa5" category="paragraph">受限SCC不提供Astra Data Store集群Pod所需的权限。使用此操作步骤 为Astra数据存储提供所需的权限(在示例中列出)。</block>
  <block id="cbab2ca9ad5e7164ef18daca858ce664" category="paragraph">将自定义SCC分配给Astra Data Store命名空间的默认服务帐户。</block>
  <block id="e67a17dad399fa0a07eddd69dd286520" category="paragraph">创建Astra数据存储的默认服务帐户要使用的所需角色和角色绑定。</block>
  <block id="7853e3516a0206a108704c229831e908" category="paragraph">以下YAML定义可分配`astrads.netapp.io` API组中的Astra Data Store资源所需的各种角色(通过绑定)。</block>
  <block id="44b34073e6561c716162fca16cd80977" category="section-title">配置私有映像注册表</block>
  <block id="d725546dba1135597ccc664de4cafcbb" category="list-text">创建`astrads-system`命名空间、除非您已在上一步中创建了此命名空间：</block>
  <block id="33d04f3057fe0f5fb9d9b5a2cb93a813" category="list-text">创建密钥：</block>
  <block id="3089f1c1b152c451f3ffcc6d9ae5ad98" category="list-text">向服务帐户添加机密配置信息：</block>
  <block id="fd9e2773619d52650be596704116c337" category="inline-xref">安装Astra数据存储操作员</block>
  <block id="936a9ffa271d112e29ff0262e70148a9" category="section-title">安装Astra数据存储操作员</block>
  <block id="660d4b4fb01e58645968597eb7844a38" category="list-text">列出Astra数据存储清单：</block>
  <block id="59fc72fc547705423d953a9214495f17" category="section-title">部署Astra Data Store版本YAML</block>
  <block id="d425048448f94202cffd8c952e4c2cc0" category="section-title">应用Astra Data Store许可证</block>
  <block id="a54e2acb6c225e70b7ff2ee8a8f1f3fa" category="list-text">应用从NetApp获得的NetApp许可证文件(NLF)。运行命令之前，请输入您所在集群的名称（` &lt;Astra-Data-Store-cluster-name&gt;` ） <block ref="7cecf3d009a669ed0b3cd6f3cf2616b5" category="inline-xref-macro-rx"></block> 或已部署许可证文件的路径（` &lt;file_path/file.txt&gt;` ）：</block>
  <block id="da5e4248ef68c3d4b93692a89eb8734c" category="section-title">安装Astra数据存储集群</block>
  <block id="7e7df3d34a5f31d7ae44427c7b686472" category="list-text">（必需） * 元数据 * ：在 `metadata` 中，将 `name` string 更改为集群名称。此集群名称必须与您在使用时使用的集群名称相同 <block ref="6ef787cba4559dbc3bcd747aeeb60c87" category="inline-xref-macro-rx"></block>。</block>
  <block id="c408de8e539d9b90e1045f90f3c0e5c6" category="list-text">根据您的许可证和Astra Data Store安装大小、将`adsNodeConfig`值更改为您的安装所需的值：</block>
  <block id="6933c3f8b6682f10fa7f0151b19079d5" category="list-text">小型：9个CPU和38个内存</block>
  <block id="54e2edbb27f1bed86abeae4823bf8b7f" category="list-text">中：23个CPU和94个内存</block>
  <block id="9a9ea13e6d8322f0d301603537adb43e" category="list-text">(可选)删除围绕`adsNodeSelector`部分的注释。如果要将Astra数据存储限制为仅安装在选定的工作节点池上、请配置此设置。</block>
  <block id="c798ce7a7f68a59cec41ca66e9db1ede" category="list-text">(可选)指定在4-16之间应在Astra数据存储集群中使用的特定节点数。</block>
  <block id="ed13cc02f1a306fb0989cb480166f805" category="list-text">在 `adsDataNetworks` 中，添加一个逗号分隔的浮动 IP 地址列表（`addresses` ），这些地址可从要挂载 NetApp 卷的任何主机路由。每个节点使用一个浮动 IP 地址。数据网络IP地址的数量应至少与Astra数据存储节点的数量相同。对于Astra数据存储、这意味着至少需要4个地址、如果您计划稍后扩展集群、则最多需要16个地址。</block>
  <block id="fb1cc60fa11b0d6c4d5cd057aaa31bd2" category="list-text">在 `adsNetworkInterfaces` 中，将 ` &lt;mgmt_interface_name&gt;` 和 ` &lt;cluster_and_storage_interface_name&gt;` 值替换为要用于管理，集群和存储的网络接口名称。如果未指定名称，则节点的主接口将用于管理，集群和存储网络连接。此外、请务必删除`adsNetworkInterfaces`部分的注释。</block>
  <block id="67527d0da9acfae0a739d8299e6f3cbb" category="admonition">集群和存储网络必须位于同一接口上。Astra数据存储管理接口应与Kubernetes节点的管理接口相同。</block>
  <block id="7a6ccaa51e72c1f94205ad760b96cdb9" category="admonition">为了简明起见、我们从以下YAML示例中删除了一些注释。</block>
  <block id="a4ecfc70574394990cf17bd83df499f7" category="cell">事件</block>
  <block id="ff79e20e5717ed91bf2c716ac405ee51" category="cell">消息和重要性</block>
  <block id="4c04ff854b99f8529aec2fcab35f2e8e" category="cell">已选择ControlPlaneNodesS</block>
  <block id="1178b484c5bc6b09d80ebc60fcde4add" category="cell">已成功选择【编号】控制平面节点以加入ADS集群。Astra数据存储操作员确定了具有CPU、内存、存储和网络的足够多节点、以创建Astra数据存储集群。</block>
  <block id="88e36a53f55aa088b45bcd40bd070efd" category="cell">ADSClusterCreateInProProgress</block>
  <block id="cf77eb422c4282ca736747fd861b090d" category="cell">Astra Data Store集群控制器已启动集群创建操作。</block>
  <block id="2ebb3c0c51c7d6f33c8ac744642b7510" category="cell">ADSClusterCreateSuccessess</block>
  <block id="acd8096aa160a7ebe8e48003d3c3d290" category="paragraph">如果集群状态停留在`in progress`、请检查集群控制器的日志：</block>
  <block id="174766a5346596aea54e9a5c83368b4b" category="section-title">使用Astra控制中心安装Astra数据存储</block>
  <block id="174572bc3c9390cb65fb232e330f7ae0" category="paragraph">要在Astra控制中心中部署和使用Astra数据存储、请执行以下操作。</block>
  <block id="0ded69c9e63945a0a2942b3ea1a0452e" category="inline-xref">Astra数据存储的一般前提条件</block>
  <block id="91dfdab52f350fcfeeed993566191ac9" category="list-text">您已查看 <block ref="c4e44154148dec9d8cba2dc7aa3230ec" category="inline-xref-macro-rx"></block>。</block>
  <block id="bce591d11f9c2f6498464fb110a3dde1" category="list-text">您已安装Astra控制中心。</block>
  <block id="91d4272be8a65219b11ddcff6fb54903" category="inline-link">使用Astra控制中心部署Astra数据存储</block>
  <block id="62eb80765eab0cb506ea78c2312d8a62" category="list-text"><block ref="6628840107d7d693ea2d286d60b8e2cc" category="inline-link-rx"></block>。</block>
  <block id="31ea4f482c9b52a6cf20e1b2216a6a18" category="list-text">* Kubernetes本机部署和第三方分发版*：通过执行其他操作完成Astra Data Store部署 <block ref="7324e433dd54231f6ab1c33e7f1852c1" category="inline-link-macro-rx"></block>。</block>
  <block id="f308da2fc73241ea8dc0fdf813c1a703" category="inline-link">监控Astra数据存储资产的运行状况</block>
  <block id="5b33e46a7a8f17e0449ec31292f678e2" category="list-text"><block ref="3c48566d32d298e0a0af96a806a22cf9" category="inline-link-rx"></block>。</block>
  <block id="e49319a41447f35dc2b79da5973a0c5c" category="inline-link">管理Astra Data Store后端存储</block>
  <block id="e47191801dca543218435e4ecec73785" category="list-text"><block ref="c786ceec34400e38abbf42ebce2e08ae" category="inline-link-rx"></block>。</block>
  <block id="f0b65328b01ef9e6301a81ee7e9ed23f" category="doc">Astra 数据存储快速入门</block>
  <block id="b186841f93f8f6d02eef2aa847b037bb" category="paragraph">此页面简要概述了开始使用Astra数据存储所需的步骤。每个步骤中的链接将转到一个页面，其中提供了更多详细信息。</block>
  <block id="07005e5f1700aee1a313bf411d60e052" category="paragraph">试用！如果要试用Astra数据存储、可以使用90天评估许可证。<block ref="757d0023964aa1a63172c6b6c4a3c459" category="inline-link-rx"></block> 获取Astra Data Store许可证。</block>
  <block id="19ec3f6a3d258c470655dc3e07356983" category="list-text">属于Astra Data Store部署的每个Kubernetes工作节点都应具有相同接口类型(SATA、SAS或NVMe)的SSD、并具有相同数量的驱动器、这些驱动器将分配给Astra Data Store集群。</block>
  <block id="aebf93f406a667462c1ca5026d058078" category="paragraph">了解更多信息 <block ref="f6e7a5de97c28034a15c0e13f6029354" category="inline-link-macro-rx"></block>。</block>
  <block id="deeb625b5f66f10db37f172758b793d2" category="list-title">跨度 class="image&gt;&lt;img src=<block ref="c9bdd0fd7d7224adcf67691b15f15281" category="inline-link-rx"></block> Alt-twe"&gt;&lt;/span&gt;下载并安装Astra数据存储</block>
  <block id="b61512a4561db9bd9f8153acc446316b" category="list-text">从下载Astra数据存储<block ref="597f520ad144b88897e1238f7cbf692c" category="inline-link-rx"></block>。</block>
  <block id="a50fb3fa5701ee023d109dfd07e4925a" category="list-text">在本地环境中安装Astra数据存储。</block>
  <block id="a0f154a6de3b5718eedc59c6b726f577" category="list-text">应用Astra Data Store许可证。</block>
  <block id="ca7d8d502cea1ababd5dd4dc6c81f0b0" category="list-text">安装Astra数据存储集群。</block>
  <block id="4ea50ac1fab4cbe0c02bd90a1b9d532e" category="inline-link-macro">安装Astra数据存储</block>
  <block id="587b8f8c19d5142e5bb961e52f6f0064" category="paragraph">了解更多信息 <block ref="c0df64a995edb70feb02cd5aef5a2b32" category="inline-link-macro-rx"></block>。</block>
  <block id="d6b83f0a3254aa283de26a50d6228f2f" category="list-text">将Astra数据存储设置为存储后端。</block>
  <block id="6afd4c799853e1167652a36fdb1be61b" category="list-text">创建默认的Astra Data Store存储类。</block>
  <block id="ee841cd45e80e2da0bea2050d1dbd1e3" category="list-text">为遥测服务配置Astra数据存储。</block>
  <block id="f9b747c98872942054db23e5ef034a40" category="paragraph">完成Astra数据存储的设置后、您接下来可能会执行以下操作：</block>
  <block id="c8f329ad4d50260bb976b315ec8b9e3d" category="inline-link-macro">如何对Astra数据存储使用kubectl命令</block>
  <block id="72bd008fe0595881fe8da38ba30c6d8f" category="list-text">使用 kubectl 命令和 kubectl astrad 扩展来管理集群，包括将节点置于维护模式，更换驱动器或更换节点等任务。了解更多信息 <block ref="871ffec8fbf7da6e9a46ead07fe8eb95" category="inline-link-macro-rx"></block>。</block>
  <block id="7f34a51b58e0a04f1ea5c33ca0ca5ee0" category="inline-link-macro">将Astra数据存储与VMware结合使用</block>
  <block id="e477ead48057f7a0c19460de1d643b65" category="list-text"><block ref="231190a4d9a6dd46a6ec31a37b52b776" category="inline-link-macro-rx"></block>。</block>
  <block id="484e7ea192d6949dd03dce3a80315205" category="paragraph"><block ref="14497a94943dc819ca2bc8999e1f8acf" category="inline-link-macro-rx"></block>。</block>
  <block id="6ccb3236f9aef1f55af795b5aa566fcc" category="paragraph">首先验证您的环境是否满足Astra Data Store要求。</block>
  <block id="c35b9c154bb01eaf42be8eb21a1b275f" category="paragraph">Astra数据存储既支持裸机部署、也支持基于VM的部署。Astra数据存储集群可以在具有四个或更多工作节点的Kubernetes集群上运行。Astra Data Store软件可以与在同一Kubernetes集群上运行的其他应用程序共存。</block>
  <block id="f83d387dd45f4dcd6bb59e072bee5eb1" category="list-text"><block ref="409f7a3a05f6e5ff9fa3c2e972b23ed6" category="inline-xref-macro-rx"></block></block>
  <block id="b88a5f7209f07ff721a766897b34663d" category="list-text"><block ref="de8de0f14c33fe334716ec969b5c45db" category="inline-xref-macro-rx"></block></block>
  <block id="6d959174d3fbff4cf681b023dd8e2304" category="list-text"><block ref="8ea732b6cbed6a7f55e5c09aeeb15bec" category="inline-xref-macro-rx"></block></block>
  <block id="8892b1cc7746025cc25fdf6c42a8e10c" category="list-text"><block ref="a97f2e956ba30e4c43ac5ffdd52e51a6" category="inline-xref-macro-rx"></block></block>
  <block id="979403f50a3c75d24549309981e05a59" category="list-text"><block ref="9f4b952003abf28a30cfd3783219fc39" category="inline-xref-macro-rx"></block></block>
  <block id="003fa95d5de7e1900e97d17299dfe690" category="list-text"><block ref="ba0ccbd18ea5b5cc8b06635e1ea19aa1" category="inline-xref-macro-rx"></block></block>
  <block id="493ab7c522365cdccc3dc19451e9d34a" category="admonition">如果您计划从Astra控制中心管理Astra数据存储集群、请确保您的Astra数据存储集群符合<block ref="83b31cb7736faa6a9df5c1f9a84caa88" category="inline-link-rx"></block> 除了此处概述的要求之外。</block>
  <block id="7be7c3cd06d6c4f7206c843814a04a3e" category="section-title">Kubernetes工作节点资源</block>
  <block id="66eb299b539b27715d6fa5b06169f623" category="paragraph">以下是在Kubernetes集群中每个工作节点上分配给Astra Data Store软件所需的资源要求：</block>
  <block id="abc02a57c4377e9a8c68d6f5efead2a0" category="cell">1 (8 GiB大小)</block>
  <block id="ec9e9060ae784e3ffa36ce9a2c1f4532" category="paragraph">Astra数据存储支持每个Kubernetes工作节点的以下vCPU和RAM组合：</block>
  <block id="979a3a769c32439330d140bf079f5ca2" category="list-text">9个vCPU、RAM为38 GiB</block>
  <block id="44d37e78284ea473ead45a0c05053caf" category="list-text">23个vCPU、94 GiB RAM</block>
  <block id="05e4f3a6c36d308341570cad603c5f30" category="list-text">主机磁盘(启动)上要存储Astra Data Store日志文件的可用空间为100 GiB或更大。</block>
  <block id="4aedd7feb44df1595d3db438ed0cb551" category="section-title">硬件和软件：</block>
  <block id="4effa5dbce85f8576a10ecbaed25b5a0" category="paragraph">已在以下硬件平台、软件和存储配置上验证Astra Data Store软件。请访问 <block ref="4245b61ee966e939cf6bf2ddb806f6be" category="inline-link-macro-rx"></block> 如果您的 Kubernetes 集群配置不同。</block>
  <block id="1cfb7208429608e120bbb1f57121af9a" category="list-text">联想SR630</block>
  <block id="771cd4533473d057e3b97df9b80518cb" category="list-text">联想SR650</block>
  <block id="e08175c6fa64cba68719dea85ebd9d34" category="inline-link">VMware 兼容性指南</block>
  <block id="5c439368b836b17eb7fd7b6fe7810a00" category="admonition">基于VM的部署还可以使用上列为兼容的服务器<block ref="45bfb35eaade6b56e4f31adaaa8e4220" category="inline-link-rx"></block>。</block>
  <block id="a3f4893bcd5e8eaa697341c68845777e" category="paragraph">Astra数据存储已通过SATA、SAS和NVMe TLC SSD的验证。</block>
  <block id="cc09ecf571f1dec34668d4d288c09607" category="paragraph">对于基于VM的部署、您可以使用以虚拟磁盘或直通驱动器形式提供的驱动器。</block>
  <block id="b138c4196888eb3d3d0e181097e5d522" category="list-text">虚拟机管理程序：Astra Data Store已通过使用vSphere 7.0部署基于VMware的虚拟机的验证。Astra数据存储不支持基于KVM的部署。</block>
  <block id="faf4455ef6dda946004264b23020201b" category="list-text">已在以下主机操作系统上验证Astra数据存储：</block>
  <block id="17bd6fd0ba4752c26cf9e7ada35d8280" category="list-text">Astra数据存储已通过以下Kubernetes分发版的验证：</block>
  <block id="733acd13ba5e968f1c6f03470a0498c4" category="list-text">Red Hat OpenShift 4.6到4.9</block>
  <block id="885e5b5b036f8a1a1cb12b9e47b98328" category="list-text">Google Anthos 1.8到1.10</block>
  <block id="de943e18d196dcf5da18a6c73d13399f" category="list-text">Kubernetes 1.20至1.23</block>
  <block id="395c62bf712aac8b234bf8d9a86c4261" category="list-text">Rancher RKE1.3.3</block>
  <block id="f74472343ba3f6d1d631f24a9008493d" category="admonition">Astra数据存储需要使用Astra Trident进行存储配置和编排。支持Astra Trident 21.10.1至22.04版。请参见 <block ref="2c4b7676e17cc4ce9ceda58b02f08122" category="inline-link-macro-rx"></block>。</block>
  <block id="a5fa5746370b608090b994a97b49e98b" category="section-title">网络</block>
  <block id="452a91eea612bf4cca3a3ef630ddaf00" category="paragraph">Astra数据存储要求每个集群为MVIP配置一个IP地址。它必须是与 MIP 位于同一子网中的未使用或未配置的 IP 地址。Astra数据存储管理接口应与Kubernetes节点的管理接口相同。</block>
  <block id="72b77f400f19a38a2ed789c17204c84f" category="paragraph">Astra数据存储要求应用程序Kubernetes集群运行Astra Trident进行存储配置和编排。支持Astra Trident 21.10.1至22.04版。Astra数据存储可配置为 <block ref="318182cdb74d3be9931dae83174d547a" category="inline-link-macro-rx"></block> 使用 Astra Trident 配置永久性卷。</block>
  <block id="39f542de2efbfeeacc38def90873754d" category="section-title">容器网络接口</block>
  <block id="5b9ad3b86cbda94adffb8de2a9087578" category="paragraph">Astra数据存储已通过以下容器网络接口(CNI)的验证。</block>
  <block id="7e974a26019c938a0993339ff521260a" category="list-text">适用于RKE集群的Calico</block>
  <block id="d4317e41f704c17c20adbd1ff55440c7" category="list-text">随Cilium CNI部署的Astra数据存储需要portmap插件才能支持hostPort。您可以通过将`cnis-canding-mode：portmap`添加到cilial-config configMap并重新启动Cilium Pod来启用CNI链模式。</block>
  <block id="36cdad6d0774e4544a3d6fb80813f740" category="list-text">只有Calico和OpenShift SDN CNI才支持启用了防火墙的配置。</block>
  <block id="58324ece8e5463bb48121bb80a9ae538" category="paragraph">要启用全部功能、Astra数据存储需要有效的许可证。</block>
  <block id="427ec085eaa9206ffe477efdc7ea39c1" category="paragraph"><block ref="0bcb35f051e8c1238923547e4a123c09" category="inline-link-rx"></block> 以获取Astra Data Store许可证。注册后，系统将向您发送许可证下载说明。</block>
  <block id="4e2eeef6a733c41f0bc58dab99595a85" category="inline-link-macro">Astra数据存储限制</block>
  <block id="e87156e81a863393477f1380eb8be157" category="paragraph"><block ref="e87156e81a863393477f1380eb8be157" category="inline-link-macro-rx"></block></block>
  <block id="3c02a445fc46031dc0f20c87b0f41ec5" category="doc">有关Astra数据存储的常见问题</block>
  <block id="23844e4c0d6675c4308c2ea8f0bde633" category="paragraph">查找有关Astra Data Store Early Access计划版本的安装、配置、升级和故障排除的常见问题解答。</block>
  <block id="cadd3499453cd2c3d5a676b17ef2f4c3" category="paragraph">*是否可以使用Astra数据存储早期访问计划版本进行生产？*否虽然Astra数据存储库的设计和开发旨在提供企业级故障恢复能力、但Astra数据存储库的早期访问计划版本不适用于生产工作负载。</block>
  <block id="a6109280e21b0b4b9850c096201c31cc" category="paragraph">*是否可以对虚拟机工作负载使用Astra数据存储？*是。Astra数据存储同时支持Kubernetes和VMware VVol工作负载。</block>
  <block id="4ce0ffc53a871ea418f98b6a528351a7" category="paragraph">请参见 <block ref="57ea4912cff604c01b9ae76da5d71665" category="inline-link-macro-rx"></block>。</block>
  <block id="5c88f002280849dcb6ec7fbade7ca7fe" category="paragraph">*是否可以使用VMware vSphere管理Astra数据存储？*是的、可以使用适用于VMware vSphere的NetApp Astra插件在vCenter中本机管理Astra数据存储。请参见 <block ref="215cf0b8d8e1f44c50b81246ef8c1309" category="inline-link-macro-rx"></block>。</block>
  <block id="c4f4f25c288ddaf9f1d3aa72b52900ce" category="paragraph">* Astra数据存储是否依赖于其他NetApp产品才能正常运行？*</block>
  <block id="f51938863c6175ed3ca7f6327e8ffe77" category="paragraph">是的。Astra Data Store要求在工作负载Kubernetes集群上部署NetApp CSI驱动程序Astra Trident 21.10.1及更高版本。了解相关信息 <block ref="f6e7a5de97c28034a15c0e13f6029354" category="inline-link-macro-rx"></block>。</block>
  <block id="97e1407bf5d65abcd1b07d2ae48cdce0" category="paragraph">要启用VMware工作流和适用于VMware vSphere的NetApp Astra插件、需要使用Astra控制中心。</block>
  <block id="a546123d8e7860ca045c6016c4bdd847" category="paragraph">使用Astra Data Store集群作为存储后端的应用程序可以使用<block ref="73c15736d78e1e14f234b40f7cdc3048" category="inline-link-rx"></block> 利用应用程序感知型数据管理功能、包括数据保护、灾难恢复和Kubernetes工作负载迁移。</block>
  <block id="e9b934bf4c5738f4e2938d53feb08d8f" category="paragraph">*如何管理Astra数据存储集群？*您可以使用kubectl命令和Kubernetes API扩展来管理Astra数据存储资源。</block>
  <block id="9121c4e2668ada5e0ae3372b27aa7448" category="inline-link-macro">使用Prometheus和Grafana进行监控</block>
  <block id="07bd9b5b59961f5a1a2df4a500a0a6bd" category="paragraph">*如何监控Astra数据存储集群指标？*您可以使用Cloud Insights 监控Astra数据存储指标(请参见 <block ref="5f4e23cb821c4c14144c1c2b8f6c948e" category="inline-link-macro-rx"></block>)或Kubernetes原生 监控(请参见 <block ref="d04c29976ab40f95e9d615c91a787dc4" category="inline-link-macro-rx"></block>）。</block>
  <block id="f5d4439b39c7e200d10a58e8899e2307" category="paragraph">*我是否可以在Kubernetes集群中将Astra数据存储与ONTAP 或其他存储提供程序结合使用？*是。Astra数据存储可与应用程序集群中的其他存储提供程序结合使用。</block>
  <block id="bbec94fc01fb1f3b8b32da2068631ad3" category="paragraph">*如果从Astra数据存储库中删除Kubernetes集群、则是否会卸载Astra Trident？*如果卸载Astra数据存储库、则不会从集群中卸载Astra Trident。如果需要卸载 Astra Trident ，则必须单独执行此操作。</block>
  <block id="1ea345de46f72d570884d71120911ede" category="paragraph">* Astra数据存储是否需要许可证？*是的、Astra数据存储需要早期访问计划的评估版NetApp许可证文件(NLF)。</block>
  <block id="26816a0b6ca11206e72a84d41d0f8531" category="paragraph">* Astra Data Store评估许可证有效期有多长时间？* Astra Data Store许可证的默认期限为自下载日期起90天。</block>
  <block id="33e6e7ebc80b477a8d1e9733dc856f94" category="section-title">在Kubernetes集群上安装和使用Astra数据存储</block>
  <block id="84091c0093e2a14bb1f030369d06e6ed" category="paragraph">*是否可以在运行于裸机或虚拟机上的Kubernetes集群上安装Astra数据存储？*是。Astra数据存储可以安装在裸机上运行的Kubernetes集群或vSphere VM上。请参见 <block ref="f6e7a5de97c28034a15c0e13f6029354" category="inline-link-macro-rx"></block>。</block>
  <block id="9db359bbbf8bf133e4503d6e4d692b00" category="paragraph">*支持哪些版本的Kubernetes for Astra Data Store？*</block>
  <block id="9ecd8974b0f38f069e1efafae047593d" category="paragraph">Astra数据存储可与v1.20及更高版本兼容的Kubernetes分发版配合使用。但是，目前尚未对所有 Kubernetes 分发版进行验证。了解相关信息 <block ref="f6e7a5de97c28034a15c0e13f6029354" category="inline-link-macro-rx"></block>。</block>
  <block id="fac46eea9327d20f92bc36ac98f1e99a" category="paragraph">*我的Kubernetes集群超过4个工作节点。是否可以在其中安装Astra数据存储？*是。Astra数据存储集群最初必须部署在Kubernetes集群中的4个辅助节点上。部署完成后、您可以将集群最多扩展到16个辅助节点。</block>
  <block id="f2e8aea717221f46234d9a9bf213a066" category="paragraph">* Astra数据存储是否支持从专用注册表脱机安装？*是。可以从本地注册表脱机安装Astra数据存储。请参见 <block ref="14497a94943dc819ca2bc8999e1f8acf" category="inline-link-macro-rx"></block>。</block>
  <block id="d2aa6dd16926f46116f2c44c2c2a2e74" category="paragraph">*是否需要Internet连接才能使用Astra Data Store？*否、Astra Data Store Early Access Program不需要Internet连接。但是、建议连接到NetApp AutoSupport 后端、以便定期发送遥测捆绑包。此连接可以是直接连接，也可以通过代理进行连接。</block>
  <block id="c1953fef409b282bb9afbcf53dd337ab" category="paragraph">* Astra数据存储使用哪些角色和特权？*您需要成为Kube管理员才能部署Astra数据存储操作员。</block>
  <block id="90b1fdb776f3a51b94db97c0234ba524" category="paragraph">Astra数据存储具有一个名为`astrads-ds-nodeinfo`的特权取消命名集、用于发现在选择节点时使用的节点资源。</block>
  <block id="7cbb28842afb726d16ba329142141077" category="paragraph">此外、操作员还将使用具有权限的Kubernetes作业在选定工作节点上安装存储集群的容器、以构建Astra Data Store存储集群。</block>
  <block id="905090fa487213eec55ef0f64aa74230" category="paragraph">从下载的Astra Data Store捆绑包中*安装Astra Data Store需要更新哪些清单文件？*<block ref="597f520ad144b88897e1238f7cbf692c" category="inline-link-rx"></block>，您将获得以下清单：</block>
  <block id="40b32a51209e8bf2128d8a301e19a88c" category="paragraph">您需要使用特定于部署的配置更新 `astradscluster.yaml` 清单。请参见 <block ref="14497a94943dc819ca2bc8999e1f8acf" category="inline-link-macro-rx"></block>。</block>
  <block id="cf06b2755dcdfe6cd719e023f460432f" category="paragraph">借助Astra Data Store、您可以使用NetApp容器可宽延通道访问社区支持。此渠道由 NetApp 支持和我们的技术营销工程师监控。</block>
  <block id="382c98e7d2045644eb97bac82a4b0c9c" category="paragraph">* 如何生成支持日志包？ * 请参见 <block ref="fabd9c024e7cacda497223e92e4a9bcb" category="inline-link-macro-rx"></block> 有关为Astra数据存储设置和下载支持日志包的说明。</block>
  <block id="dc324bc00844c9313d6ceb41b8cc3118" category="paragraph">* Astra数据存储无法找到我的Kubernetes节点。如何修复此问题？ * 请参见 <block ref="14497a94943dc819ca2bc8999e1f8acf" category="inline-link-macro-rx"></block>。</block>
  <block id="5c9dbf0dab93c59510b9d0b4f2f8ff31" category="paragraph">* IPv6地址是否可用于管理、数据和集群网络？*否、Astra数据存储仅支持IPv4地址。未来版本的Astra Data Store将增加对IPv6的支持。</block>
  <block id="ea1b7288eedf1008828bea12809fa54c" category="paragraph">*在Astra Data Store上配置卷时使用的是什么NFS版本？*对于为Kubernetes应用程序配置的所有卷、Astra Data Store支持NFS v4.1、而对于为VMware工作负载配置的所有卷、则支持NFSv3。</block>
  <block id="5ed6ee2f724c2765e6513a3a23c84f00" category="paragraph">请参见 <block ref="f6e7a5de97c28034a15c0e13f6029354" category="inline-link-macro-rx"></block> 和 <block ref="e87156e81a863393477f1380eb8be157" category="inline-link-macro-rx"></block>。</block>
  <block id="fac4cab2075a0060b3197ed8398055cf" category="section-title">升级Astra数据存储</block>
  <block id="4b8ebbbf94201dd1291c3bf65a1e2d5a" category="paragraph">*是否可以从Astra Data Store预览版升级？*是。您可以从Astra数据存储早期访问计划版本升级到未来版本。</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">早期版本</block>
  <block id="2cd048d11a51ab66ec58135799a152f8" category="sidebar">Astra数据存储中的内容</block>
  <block id="08822a2df16a44b0e71e4077044aac0b" category="sidebar">设置Astra数据存储</block>
  <block id="6276060962eaf908f1205eb9ae7fbb00" category="sidebar">管理Astra数据存储资源</block>
  <block id="7c0931b75ee638ef9c28d270292da823" category="sidebar">Astra Data Store演示</block>
  <block id="a3cf06a6d715e4eae8d193bb92bd5b9a" category="sidebar">监控Astra数据存储</block>
  <block id="abb6e08ce82e34f9b248ff2e367c067c" category="sidebar">安全的Astra数据存储</block>
  <block id="aa5a869b9f4a4043cfce22c58b5417d8" category="sidebar">卸载Astra数据存储</block>
  <block id="2275c47ef395d1e78841f6e683f9a3a2" category="inline-link-macro">该版本的文档</block>
  <block id="be07f5fb15d2187c4ac7e8af02b6c981" category="admonition">如果要查找早期版本的捆绑包的说明、请参见 <block ref="dae14a34f4ef6643d65922de5ee6b272" category="inline-link-macro-rx"></block>。</block>
  <block id="7df004864b07ae9167389b215a12d025" category="list-text">创建命名空间以部署Astra数据存储</block>
  <block id="7a981942788d33c4001730188b89e6db" category="list-text">创建自定义 SCC</block>
  <block id="93a9b79162a338b18aa305f67c83e22e" category="list-text">创建角色和角色绑定</block>
  <block id="69a76d91a0f880ebb8ba88c4c0b59e26" category="paragraph">只有在Red Hat OpenShift容器平台(OCP)上部署时、才需要执行以下步骤。</block>
  <block id="809db957a8e4301dc37f0b9302217409" category="paragraph">对于某些环境、您可以将配置更改为从使用机密的专用注册表中提取映像。</block>
  <block id="d948b0715649614d6afddfa4a7f57c0d" category="admonition">这些更改将在您使用时应用 <block ref="49123d3a615079cac592b8e7a86dbd41" category="inline-xref-macro-rx"></block>。</block>
  <block id="4ae67810f731579059b769b1598e3792" category="list-text">使用`kubectl apply`部署操作员：</block>
  <block id="138336959a331fdfd57efc8b91a2a496" category="inline-link-macro">OpenShift容器平台安装</block>
  <block id="b0e9cf9a3ccb14e8777b0e4e01a3be2b" category="admonition">根据您执行的是标准安装还是、命名空间响应可能会有所不同 <block ref="728e3e3ba272087f962f2836c5b78f78" category="inline-link-macro-rx"></block>。</block>
  <block id="0b020ac775306a4f6b602f9e099d0f12" category="list-text">使用`kubectl apply`进行部署：</block>
  <block id="23f6b8ddca772ff60ea1ebc8df6eb39d" category="list-text">* Astra控制中心*：如果您已使用Astra控制中心部署Astra数据存储、则无需遵循这些原则 <block ref="453b1912b089f4f5a9a483bab5626f2b" category="inline-link-macro-rx"></block> 除非您要配置任何其他监控选项。部署Astra数据存储后、您可以使用Astra控制中心UI完成以下任务：</block>
  <block id="8eeabb510c88baa97726463f841b437b" category="paragraph">NetApp为`kubectl`命令提供了`astrad`扩展、可用于执行Astra Data Store集群管理任务、例如添加许可证、管理节点、解决问题以及扩展Astra Data Store集群。`astrad`扩展包括一个`-h`选项、用于提供有关如何使用扩展以及执行哪些任务的信息。</block>
  <block id="95486e2e7d202b4428ab4a3ec663b0ae" category="list-text">显示有关Astra Data Store `kubectl`扩展中所有命令的帮助：</block>
  <block id="fed04d92462b9c6b365491814a84fb50" category="section-title">防火墙注意事项</block>
  <block id="1a9f3bb325bdf0352e776d9b71f0dfd4" category="paragraph">在强制实施网络防火墙流量筛选的环境中、必须将防火墙配置为允许传入下表中列出的端口和协议的流量。"IP Address"列使用以下缩写：</block>
  <block id="294f76b6bf4f817dcd73116a0f580b39" category="list-text">mip：每个节点的管理接口上的主IP地址</block>
  <block id="93722d1030368aefcb8dcd03593da015" category="list-text">cip：每个节点的集群接口上的主IP地址</block>
  <block id="90a4911af0c4049cc2e61d808b117a3e" category="list-text">DIP：在节点上配置的一个或多个数据IP地址</block>
  <block id="60e2242d6a12fc9769a6f60369f92bb5" category="list-text">MVIP：在一个集群节点上配置的管理虚拟IP地址</block>
  <block id="d026a497f6bd5f087751e2712ca15345" category="cell">端口/协议</block>
  <block id="75ba8d70e3692ba200f0e0df37b4d2ae" category="cell">IP 地址</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="f4c6f851b00d5518bf888815de279aba" category="cell">注释：</block>
  <block id="f78f6ee75a7bafcf09aaff6b8a50f1d4" category="cell">111 TCP</block>
  <block id="b941a28ed6d936315cc87c8a5e15b1d6" category="cell">DIP</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="f3ca4db1db26970553df3fb4659623d1" category="cell">数据IP在运行时在集群节点之间移动。每个节点应允许所有数据IP (或整个子网)使用此流量。</block>
  <block id="45326682468852b81797aafde5e0c15f" category="cell">442/TCP</block>
  <block id="d4a7c7245dbe134b096894227b0ee16b" category="cell">MIP</block>
  <block id="db974238714ca8de634a7ce1d083a14f" category="cell">API</block>
  <block id="a0e5b258a8cc51d589e58a8bddfb909f" category="cell">635 TCP</block>
  <block id="7b9e40a421a776f137cad026dd3ec0ba" category="cell">2010/UDP</block>
  <block id="1a7ef04e5047296ee156f22f43eadd25" category="cell">CIP</block>
  <block id="69a600f1b66c98287db05ab33221bf2c" category="cell">集群/节点发现</block>
  <block id="84fd5f8a9091b3389e1846795d0ac5e0" category="cell">包括与UDP端口2010之间的单播和广播流量、包括回复。</block>
  <block id="95f66cbf2ff4349bc67aaf685141a2fb" category="cell">2049 TCP</block>
  <block id="6b182985a49012b24c2972881cb0af4c" category="cell">2181-2183/TCP</block>
  <block id="989046586e10c54bef27f01dd4804e95" category="cell">分布式通信</block>
  <block id="7c9173e8449f2344c92ef3b0a6f191fb" category="cell">2443/TCP</block>
  <block id="7ded4ca42319833daf1e9577fc5c6ccc" category="cell">MVIP</block>
  <block id="77797e04c846b44c8e89628502f9f7b9" category="cell">MVIP地址可由任何集群节点托管、并可在运行时根据需要重新定位。</block>
  <block id="22c7150cee646d323dbe927ffaa00ab3" category="cell">4000-4006/TCP</block>
  <block id="861656d6c7c1c330a3956d8f7dc3d99b" category="cell">集群内RPC</block>
  <block id="bf96160875ef29f5b6571f5d98969271" category="cell">4045-4046/ TCP</block>
  <block id="e214dbeedf59c5ee63ae01b4a270466b" category="cell">7700/TCP</block>
  <block id="e044dcdd6505dbf411b17455ec40fcbc" category="cell">会话管理器</block>
  <block id="3197b0b91edfeeebfc30698f93e1ee88" category="cell">9919/TCP</block>
  <block id="8af9ff758f107c54a1addfc55790bccf" category="cell">DMS-API</block>
  <block id="56219f04d28f1844d316d5190f4321cc" category="cell">9920/TCP</block>
  <block id="cfe156c1306338f2ddb769aa7803cdf0" category="cell">DMS-REST服务器</block>
  <block id="7d6fe0dd606232f7155fdeae2ea620a9" category="cell">ICMP</block>
  <block id="467653e20f06c3650935c1eb1ce36030" category="cell">CIP + DIP</block>
  <block id="9715191847525c91e6fda56e2ee0a99e" category="cell">节点内通信、运行状况检查</block>
</blocks>